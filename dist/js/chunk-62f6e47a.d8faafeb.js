(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-62f6e47a"],{1227:function(t,e,n){},"4d63":function(t,e,n){var i=n("83ab"),r=n("da84"),a=n("94ca"),o=n("7156"),s=n("9bf2").f,c=n("241c").f,u=n("44e7"),d=n("ad6d"),l=n("9f7f"),f=n("6eeb"),p=n("d039"),g=n("69f3").set,h=n("2626"),b=n("b622"),m=b("match"),v=r.RegExp,y=v.prototype,w=/a/g,x=/a/g,S=new v(w)!==w,M=l.UNSUPPORTED_Y,N=i&&a("RegExp",!S||M||p((function(){return x[m]=!1,v(w)!=w||v(x)==x||"/a/i"!=v(w,"i")})));if(N){var _=function(t,e){var n,i=this instanceof _,r=u(t),a=void 0===e;if(!i&&r&&t.constructor===_&&a)return t;S?r&&!a&&(t=t.source):t instanceof _&&(a&&(e=d.call(t)),t=t.source),M&&(n=!!e&&e.indexOf("y")>-1,n&&(e=e.replace(/y/g,"")));var s=o(S?new v(t,e):v(t,e),i?this:y,_);return M&&n&&g(s,{sticky:n}),s},D=function(t){t in _||s(_,t,{configurable:!0,get:function(){return v[t]},set:function(e){v[t]=e}})},C=c(v),I=0;while(C.length>I)D(C[I++]);y.constructor=_,_.prototype=y,f(r,"RegExp",_)}h("RegExp")},6828:function(t,e,n){"use strict";n.d(e,"a",(function(){return i}));n("fb6a"),n("4d63"),n("ac1f"),n("25f0"),n("5319");function i(t,e){if(t){var n=t;if(/(y+)/.test("yyyy-MM-dd hh:mm:ss"))try{e=e.replace(RegExp.$1,(n.getFullYear()+"").substr(4-RegExp.$1.length))}catch(r){if(n=new Date(parseInt(t.slice(6,19))),!n||"Invalid Date"===n.toUTCString())return""}else if(n=new Date(parseInt(t.slice(6,19))),!n||"Invalid Date"===n.toUTCString())return"";var i={M:n.getMonth()+1,d:n.getDate(),h:n.getHours(),m:n.getMinutes(),s:n.getSeconds(),q:Math.floor((n.getMonth()+3)/3),S:n.getMilliseconds()};return e=e.replace(/([yMdhmsqS])+/g,(function(t,e){var r=i[e];return void 0!==r?(t.length>1&&(r="0"+r,r=r.substr(r.length-2)),r):"y"===e?(n.getFullYear()+"").substr(4-t.length):t})),e}}},7156:function(t,e,n){var i=n("861d"),r=n("d2bb");t.exports=function(t,e,n){var a,o;return r&&"function"==typeof(a=e.constructor)&&a!==n&&i(o=a.prototype)&&o!==n.prototype&&r(t,o),t}},"828f":function(t,e,n){"use strict";n.r(e);var i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"course-board-note"},[n("head-top",{attrs:{title:"板书分享"}}),t.boardNoteList&&t.boardNoteList.length>0?n("div",{staticClass:"flex-wrap-between sub_module"},[t._l(t.boardNoteList,(function(e,i){return n("div",{key:i,staticClass:"image_card van-hairline--surround"},[n("r-image",{attrs:{width:"42vw",height:"30vw",src:e.imgSrc}}),n("div",[t._v(t._s(e.createTime))])],1)})),n("span",{staticStyle:{width:"42vw"}})],2):n("r-lack-data"),n("van-popup",{attrs:{position:"bottom"},model:{value:t.editVisible,callback:function(e){t.editVisible=e},expression:"editVisible"}},[n("div",{staticClass:"sub_nav"},[n("span",[t._v("板书分享")])]),n("van-field",{attrs:{name:"uploader",label:"上传图片"},scopedSlots:t._u([{key:"input",fn:function(){return[n("van-uploader",{attrs:{"max-count":1,"before-read":t.beforeRead,"after-read":t.afterRead},model:{value:t.uploader,callback:function(e){t.uploader=e},expression:"uploader"}})]},proxy:!0}])}),n("van-button",{staticStyle:{width:"100%"},attrs:{type:"info"},on:{click:t.pictureSubmit}},[t._v("确定")])],1)],1)},r=[],a=(n("4160"),n("a434"),n("159b"),n("cb60")),o=n("08f3"),s=n("6828"),c={name:"boardNote",components:{RImage:a["a"]},data:function(){return{groupIndex:0,boardNoteList:[],editVisible:!1,uploader:[]}},mounted:function(){this.getBoardNoteList()},methods:{getBoardNoteList:function(){var t=this;this.boardNoteList=[],this.$gatewayHttp.boardNote.getDataList({CIID:this.$store.getters.courseID}).then((function(e){e.Result?(e.Datas.sort((function(t,e){return t["CreateTime"]>e["CreateTime"]?-1:1})),e.Datas.forEach((function(e){t.boardNoteList.push({title:e["BNTitle"],createTime:Object(s["a"])(e["CreateTime"],"yyyy-MM-dd hh:mm"),imgSrc:t.$gatewayHttp.resourse.picture(e["BNContent"],o["d"].BoardNote),id:e["BNID"]})}))):e.Info&&t.$toast(e.Info)})).catch((function(){}))},randomIndex:function(t){return Math.round(t*Math.random())},toAdd:function(){this.uploader=[],this.editVisible=!0},beforeRead:function(t){return"image/jpeg"===t.type||(this.$toast("请上传 jpg 格式图片"),!1)},afterRead:function(t){t.status="uploading",t.message="上传中...",setTimeout((function(){t.status="success",t.message=""}),1e3)},pictureSubmit:function(){console.log(this.uploader);var t=new Date,e=t.getHours(),n=t.getMinutes(),i=t.getSeconds();this.boardNoteList.splice(0,0,{id:"",imgSrc:this.uploader[0].content,createTime:(e>9?e:"0"+e)+":"+(n>9?n:"0"+n)+":"+(i>9?i:"0"+i)}),this.editVisible=!1}},watch:{"$store.getters.noteFresh":function(t,e){t!==e&&t&&this.getBoardNoteList()}}},u=c,d=(n("f1d0"),n("2877")),l=Object(d["a"])(u,i,r,!1,null,"f3cec72c",null);e["default"]=l.exports},a434:function(t,e,n){"use strict";var i=n("23e7"),r=n("23cb"),a=n("a691"),o=n("50c4"),s=n("7b0b"),c=n("65f0"),u=n("8418"),d=n("1dde"),l=n("ae40"),f=d("splice"),p=l("splice",{ACCESSORS:!0,0:0,1:2}),g=Math.max,h=Math.min,b=9007199254740991,m="Maximum allowed length exceeded";i({target:"Array",proto:!0,forced:!f||!p},{splice:function(t,e){var n,i,d,l,f,p,v=s(this),y=o(v.length),w=r(t,y),x=arguments.length;if(0===x?n=i=0:1===x?(n=0,i=y-w):(n=x-2,i=h(g(a(e),0),y-w)),y+n-i>b)throw TypeError(m);for(d=c(v,i),l=0;l<i;l++)f=w+l,f in v&&u(d,l,v[f]);if(d.length=i,n<i){for(l=w;l<y-i;l++)f=l+i,p=l+n,f in v?v[p]=v[f]:delete v[p];for(l=y;l>y-i+n;l--)delete v[l-1]}else if(n>i)for(l=y-i;l>w;l--)f=l+i-1,p=l+n-1,f in v?v[p]=v[f]:delete v[p];for(l=0;l<n;l++)v[l+w]=arguments[l+2];return v.length=y-i+n,d}})},cb60:function(t,e,n){"use strict";var i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("van-image",{style:{width:t.width,height:t.height},attrs:{fit:t.fit,src:t.src},on:{click:function(e){return e.stopPropagation(),e.preventDefault(),t.preview(e)}},scopedSlots:t._u([{key:"loading",fn:function(){return[n("van-loading",{attrs:{type:"spinner",size:"20"}})]},proxy:!0},{key:"error",fn:function(){return[t._v(t._s(t.errMsg))]},proxy:!0}])})],1)},r=[],a=n("28a2"),o={name:"r-image",components:{},props:{width:{type:String,default:"100px"},height:{type:String,default:"100px"},fit:{type:String,default:"scale-down"},src:{type:String,default:""},errMsg:{type:String,default:"加载失败"}},data:function(){return{imagePreview:null}},methods:{preview:function(){this.imagePreview=Object(a["a"])({images:[this.src],showIndex:!1,onClose:function(){}})}},beforeDestroy:function(){this.imagePreview&&this.imagePreview.close()}},s=o,c=n("2877"),u=Object(c["a"])(s,i,r,!1,null,null,null),d=u.exports;e["a"]=d},f1d0:function(t,e,n){"use strict";var i=n("1227"),r=n.n(i);r.a}}]);
//# sourceMappingURL=chunk-62f6e47a.d8faafeb.js.map