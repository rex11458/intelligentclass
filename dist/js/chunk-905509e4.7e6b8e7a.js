(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-905509e4"],{"13d5":function(t,e,i){"use strict";var s=i("23e7"),a=i("d58f").left,n=i("a640"),r=i("ae40"),o=n("reduce"),c=r("reduce",{1:0});s({target:"Array",proto:!0,forced:!o||!c},{reduce:function(t){return a(this,t,arguments.length,arguments.length>1?arguments[1]:void 0)}})},"1ecf":function(t,e,i){"use strict";var s=i("7863"),a=i.n(s);a.a},"217f":function(t,e,i){"use strict";i.r(e);var s=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"course-practise-library-view"},[i("head-top",{attrs:{title:"题库编辑"}},[i("van-icon",{staticClass:"head-right",attrs:{name:"plus"},on:{click:t.toAdd}})],1),i("div",{staticClass:"sub_nav"},[i("span",[t._v("题库名称："+t._s(t.libraryInfo.name)+" "),i("van-icon",{staticClass:"operate",attrs:{name:"edit"},on:{click:function(e){return t.$router.push("/practise-library/title-edit")}}})],1)]),t.practiseList&&t.practiseList.length>0?i("div",{staticClass:"sub_module"},t._l(t.practiseList,(function(e,s){return i("div",{key:s,staticClass:"van-hairline--bottom practise-item"},[i("p",{staticClass:"practise-title"},[i("span",[t._v(t._s(s+1))]),i("span",[t._v(t._s("、【"+t.practiseTypeOptions[e.type-1].label+"】"+e.title)+" ")]),i("span",[t._v("（"+t._s(e.score)+"分）")]),i("van-icon",{staticClass:"operate",attrs:{name:"edit"},on:{click:function(i){return t.toEdit(e)}}}),i("van-icon",{staticClass:"operate",attrs:{name:"delete"},on:{click:function(i){return t.toDrop(e)}}})],1),[1,2].indexOf(e.type)>-1?i("div",[i("h4",[t._v("选项：")]),t._l(e.options,(function(e,s){return i("p",{key:s,staticClass:"practise-options"},[t._v(t._s(e.value+"、"+e.label))])}))],2):t._e(),i("h4",[t._v("答案：")]),i("div",{staticClass:"practise-content"},[t._v(t._s(e.answer||"无"))]),i("h4",[t._v("解析：")]),i("div",{staticClass:"practise-content"},[t._v(t._s(e.analysis||"无"))])])})),0):i("r-lack-data")],1)},a=[],n=(i("4160"),i("d81d"),i("13d5"),i("ac1f"),i("5319"),i("159b"),i("2241")),r={name:"practiseLibraryView",data:function(){return{libraryInfo:this.$store.getters.practiseLibrary,practiseList:[],isLoading:!1,practiseTypeOptions:[{label:"单选题",value:1},{label:"多选题",value:2},{label:"判断题",value:3},{label:"问答题",value:4}],singleOptions:["A","B","C","D","E","F","G","H"],judgeOptions:["对","错"]}},computed:{totalScore:function(){return this.practiseList.reduce((function(t,e){return t+parseInt(e.score)}),0)}},mounted:function(){this.libraryInfo?this.getLibraryInfo():this.$router.replace("/practise-library/edit")},methods:{getLibraryInfo:function(){var t=this;this.isLoading=!0,this.practiseList=[],this.$mainHttp.classPractise.LibraryInfo({plid:this.libraryInfo.id}).then((function(e){e.Result?(e.Datas.sort((function(t,e){return t.Key["PSSerial"]>e.Key["PSSerial"]?1:-1})),e.Datas.forEach((function(e){t.practiseList.push({id:e.Key["PSID"],index:e.Key["PSSerial"],title:e.Key["PSContent"],answer:e.Key["PSAnswer"],analysis:e.Key["PSanalysis"],type:e.Key["PSType"],optionsNum:e.Key["PSOption"],score:e.Key["PSScore"],state:e.Key["State"],options:e.Value.map((function(t){return{id:t["SOID"],value:t["SOSerial"],label:t["SOContent"]}}))})}))):e.Info&&t.$toast(e.Info),t.isLoading=!1})).catch((function(){t.isLoading=!1}))},toAdd:function(){this.$store.commit("SET_PRACTISE_SUBJECT",{id:"",index:this.practiseList.length+1,title:"",answer:"",analysis:"",type:1,optionsNum:4,score:0,state:1,options:[]}),this.$router.push("/practise-library/exercise-edit")},toEdit:function(t){this.$store.commit("SET_PRACTISE_SUBJECT",t),this.$router.push("/practise-library/exercise-edit")},toDrop:function(t){var e=this;n["a"].confirm({message:"确认删除当前题目？"}).then((function(){e.toDelete(t)})).catch((function(){}))},toDelete:function(t){var e=this;this.$mainHttp.classPractise.SubjectDelete({plid:this.libraryInfo.id,psid:t.id}).then((function(t){t.Result?(e.getLibraryInfo(),e.$toast("删除成功")):t.Info?e.$toast(t.Info):e.$toast("删除失败")})).catch((function(){e.$toast("操作失败")}))}}},o=r,c=(i("1ecf"),i("2877")),l=Object(c["a"])(o,s,a,!1,null,"8e3ab986",null);e["default"]=l.exports},7863:function(t,e,i){},d58f:function(t,e,i){var s=i("1c0b"),a=i("7b0b"),n=i("44ad"),r=i("50c4"),o=function(t){return function(e,i,o,c){s(i);var l=a(e),u=n(l),p=r(l.length),f=t?p-1:0,d=t?-1:1;if(o<2)while(1){if(f in u){c=u[f],f+=d;break}if(f+=d,t?f<0:p<=f)throw TypeError("Reduce of empty array with no initial value")}for(;t?f>=0:p>f;f+=d)f in u&&(c=i(c,u[f],f,l));return c}};t.exports={left:o(!1),right:o(!0)}}}]);
//# sourceMappingURL=chunk-905509e4.7e6b8e7a.js.map