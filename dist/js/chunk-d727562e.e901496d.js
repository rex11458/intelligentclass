(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-d727562e"],{"0499":function(t,e,i){},"04bd":function(t,e,i){},"10db":function(t,e,i){"use strict";i.r(e);var n=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"course_record_view"},[i("head-top",{attrs:{title:"课堂记录"}}),i("div",{staticClass:"record-item"},[i("div",{staticClass:"item-title"},[t._v("课件 ")]),i("course-ware")],1),i("div",{staticClass:"record-item"},[i("div",{staticClass:"item-title"},[t._v("板书 ")]),i("board-note")],1),i("div",{staticClass:"record-item"},[i("div",{staticClass:"item-title"},[t._v("小组笔记 ")]),i("group-note")],1)],1)},a=[],s=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"course-ware"},[t.fileList&&t.fileList.length>0?i("van-cell-group",{staticClass:"cell_group"},t._l(t.fileList,(function(e,n){return i("van-cell",{key:n,staticClass:"cell_main",on:{click:function(i){return t.fileClick(e)}},scopedSlots:t._u([{key:"icon",fn:function(){return[i("van-icon",{staticClass:"cell_icon",attrs:{name:"orders-o"}})]},proxy:!0},{key:"title",fn:function(){return[i("div",{staticClass:"line_title"},[t._v(t._s(e.fileName+"."+e.fileExt))])]},proxy:!0},{key:"label",fn:function(){return[i("div",{staticClass:"line_title"},[e.fileSize>1048576?i("span",[t._v(" "+t._s(Math.round(e.fileSize/1024/10.24)/100)+" MB ")]):i("span",[t._v(" "+t._s(Math.round(e.fileSize/10.24)/100)+" KB ")])])]},proxy:!0}],null,!0)})})),1):i("r-lack-data"),i("van-popup",{attrs:{position:"bottom"},model:{value:t.show,callback:function(e){t.show=e},expression:"show"}},[i("van-cell",{directives:[{name:"show",rawName:"v-show",value:t.fileItem&&(t.canOpenFileExt.indexOf(t.fileItem.fileExt)>-1||t.fileItem.fileTransformed+""==="2"),expression:"fileItem && (canOpenFileExt.indexOf(fileItem.fileExt) > -1 || fileItem.fileTransformed +'' === '2')"}],attrs:{value:"预览"},on:{click:function(e){return e.stopPropagation(),e.preventDefault(),t.toPreView(e)}}},[i("van-icon",{attrs:{slot:"right-icon","class-prefix":"iconfont icon-chakan_yulan"},slot:"right-icon"})],1),i("van-cell",{attrs:{value:"下载"},on:{click:function(e){return e.stopPropagation(),e.preventDefault(),t.download(e)}}},[i("van-icon",{attrs:{slot:"right-icon","class-prefix":"iconfont icon-xiazai"},slot:"right-icon"})],1)],1)],1)},o=[],r=(i("4160"),i("159b"),i("6828")),c=i("d11a"),l={name:"courseWare",data:function(){return{fileList:[],isLoading:!1,fileItem:null,canOpenFileExt:["txt","bmp","gif","jpg","png","ico","mp4"],show:!1}},created:function(){this.getCourseWareList()},methods:{getCourseWareList:function(){var t=this;this.fileList=[],this.isLoading=!0,this.$mainHttp.courseWare.recordList({chID:this.$store.getters.classHourID,classID:this.$store.getters.classID}).then((function(e){e.Result?e.Datas&&e.Datas.length>0&&(e.Datas.sort((function(t,e){return t["IsSee"]>e["IsSee"]?-1:1})),e.Datas.forEach((function(e){t.fileList.push({remarkID:e.Key["CID"],id:e["MaterialID"],fileName:e["MaterialName"],fileExt:e["MaterialFileExt"],fileSize:e["MaterialFileSize"]||0,fileTransformed:e["MaterialLowStreamEstate"]||"0",createTime:Object(r["a"])(e.Key["CreateTime"],"yyyy-MM-dd")})}))):e.Info&&t.$toast(e.Info),t.isLoading=!1})).catch((function(){t.isLoading=!1}))},fileClick:function(t){this.fileItem=t,this.show=!0},download:function(){var t=this.$mainHttp.common.file(this.fileItem.id);window.webkit?(this.show=!1,Object(c["b"])(c["a"].downloadFile,t).then((function(t){})).catch((function(){}))):(window.location.href=t,this.show=!1,this.$toast("下载开始"))},toPreView:function(){this.$store.commit("SET_CLOUD_FILE",this.fileItem),this.$router.push("/course/course-ware/preview")}}},u=l,d=(i("6830"),i("2877")),f=Object(d["a"])(u,s,o,!1,null,"7fa492f5",null),h=f.exports,m=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"board-note"},[t.boardNoteList&&t.boardNoteList.length>0?i("div",{staticClass:"flex-wrap-between sub_module"},[t._l(t.boardNoteList,(function(e,n){return i("div",{key:n,staticClass:"image_card van-hairline--surround"},[i("r-image",{attrs:{width:"42vw",height:"30vw",src:e.imgSrc}}),i("div",[t._v(t._s(e.createTime))])],1)})),i("span",{staticStyle:{width:"42vw"}})],2):i("r-lack-data")],1)},p=[],g=i("cb60"),v=i("08f3"),w={name:"boardNote",components:{RImage:g["a"]},data:function(){return{groupIndex:0,boardNoteList:[],isLoading:!1}},mounted:function(){this.getBoardNoteList()},methods:{getBoardNoteList:function(){var t=this;this.boardNoteList=[],this.isLoading=!0,this.$mainHttp.boardNote.dataList({ciID:this.$store.getters.courseID}).then((function(e){e.Result?(e.Datas.sort((function(t,e){return t["CreateTime"]>e["CreateTime"]?-1:1})),e.Datas.forEach((function(e){t.boardNoteList.push({title:e["BNTitle"],createTime:Object(r["a"])(e["CreateTime"],"yyyy-MM-dd hh:mm"),imgSrc:t.$mainHttp.common.picture(e["BNContent"],v["e"].BoardNote),id:e["BNID"]})}))):e.Info&&t.$toast(e.Info),t.isLoading=!1})).catch((function(){t.isLoading=!1}))}}},_=w,L=(i("7324"),Object(d["a"])(_,m,p,!1,null,"715d1836",null)),I=L.exports,b=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"board-note"},[t.groupNoteList&&t.groupNoteList.length>0?t._l(t.groupNoteList,(function(e,n){return i("div",{key:n},[i("div",{staticClass:"sub_nav"},[i("span",[i("van-icon",{attrs:{"class-prefix":"iconfont icon-wangguan",color:"#1989fa"}}),t._v(" 小组： "),i("span",{staticClass:"mark-value"},[t._v(t._s(e.groupName||"未知小组"))])],1)]),e.noteList&&e.noteList.length>0?i("div",{staticClass:"flex-wrap-between sub_module"},[t._l(e.noteList,(function(e,n){return i("div",{key:n,staticClass:"image_card van-hairline--surround"},[i("r-image",{attrs:{width:"42vw",height:"30vw",src:e.imgSrc}}),i("div",[t._v(t._s(e.createTime))])],1)})),i("span",{staticStyle:{width:"42vw"}})],2):i("r-lack-data")],1)})):t._e()],2)},y=[],N=(i("c740"),{name:"boardNote",components:{RImage:g["a"]},data:function(){return{groupIndex:0,groupNoteList:[],isLoading:!1}},mounted:function(){this.getBoardNoteList()},methods:{getBoardNoteList:function(){var t=this;this.groupNoteList=[],this.isLoading=!0,this.$mainHttp.groupNote.dataList({ciID:this.$store.getters.courseID}).then((function(e){e.Result?(e.Datas.sort((function(t,e){return t.Key["CreateTime"]>e.Key["CreateTime"]?-1:1})),e.Datas.forEach((function(e){var i=e["GroupName"],n=e.Key["GroupID"],a={title:e.Key["GNTtile"],createTime:Object(r["a"])(e.Key["CreateTime"],"yyyy-MM-dd hh:mm"),imgSrc:t.$mainHttp.common.picture(e.Key["GNContent"],v["e"].groupNote),id:e["GNID"]},s=t.groupNoteList.findIndex((function(t){return t.groupID===n&&t.groupName===i}));s>-1?t.groupNoteList[s].noteList.push(a):t.groupNoteList.push({groupID:n,groupName:i,noteList:[a]})}))):e.Info&&t.$toast(e.Info),t.isLoading=!1})).catch((function(){t.isLoading=!1}))}}}),C=N,x=(i("d24e"),Object(d["a"])(C,b,y,!1,null,"41e7606c",null)),D=x.exports,k={name:"history-record-view",components:{CourseWare:h,BoardNote:I,GroupNote:D},data:function(){return{courseID:this.$store.getters.courseID,courseInfo:this.$store.getters.course}}},$=k,S=(i("63fe"),Object(d["a"])($,n,a,!1,null,"3dd7f150",null));e["default"]=S.exports},"204d":function(t,e,i){},"5b18":function(t,e,i){},"63fe":function(t,e,i){"use strict";var n=i("0499"),a=i.n(n);a.a},6830:function(t,e,i){"use strict";var n=i("5b18"),a=i.n(n);a.a},7324:function(t,e,i){"use strict";var n=i("204d"),a=i.n(n);a.a},cb60:function(t,e,i){"use strict";var n=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[i("van-image",{style:{width:t.width,height:t.height},attrs:{fit:t.fit,src:t.src},on:{click:function(e){return e.stopPropagation(),e.preventDefault(),t.preview(e)}},scopedSlots:t._u([{key:"loading",fn:function(){return[i("van-loading",{attrs:{type:"spinner",size:"20"}})]},proxy:!0},{key:"error",fn:function(){return[t._v(t._s(t.errMsg))]},proxy:!0}])}),i("van-image-preview",{attrs:{showIndex:!1,images:t.images},model:{value:t.show,callback:function(e){t.show=e},expression:"show"}})],1)},a=[],s=(i("b0c0"),i("ade3")),o=i("1e55"),r={name:"r-image",components:Object(s["a"])({},o["ImagePreview"].Component.name,o["ImagePreview"].Component),props:{width:{type:String,default:"100px"},height:{type:String,default:"100px"},fit:{type:String,default:"scale-down"},src:{type:String,default:""},errMsg:{type:String,default:"加载失败"}},data:function(){return{show:!1,images:[]}},methods:{preview:function(){this.images=[this.src],this.show=!0}}},c=r,l=i("2877"),u=Object(l["a"])(c,n,a,!1,null,null,null),d=u.exports;e["a"]=d},d24e:function(t,e,i){"use strict";var n=i("04bd"),a=i.n(n);a.a}}]);