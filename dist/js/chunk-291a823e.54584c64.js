(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-291a823e"],{2967:function(t,e,s){},"4d63":function(t,e,s){var i=s("83ab"),a=s("da84"),n=s("94ca"),r=s("7156"),c=s("9bf2").f,o=s("241c").f,l=s("44e7"),u=s("ad6d"),p=s("9f7f"),m=s("6eeb"),h=s("d039"),f=s("69f3").set,d=s("2626"),I=s("b622"),v=I("match"),b=a.RegExp,g=b.prototype,_=/a/g,S=/a/g,y=new b(_)!==_,T=p.UNSUPPORTED_Y,w=i&&n("RegExp",!y||T||h((function(){return S[v]=!1,b(_)!=_||b(S)==S||"/a/i"!=b(_,"i")})));if(w){var D=function(t,e){var s,i=this instanceof D,a=l(t),n=void 0===e;if(!i&&a&&t.constructor===D&&n)return t;y?a&&!n&&(t=t.source):t instanceof D&&(n&&(e=u.call(t)),t=t.source),T&&(s=!!e&&e.indexOf("y")>-1,s&&(e=e.replace(/y/g,"")));var c=r(y?new b(t,e):b(t,e),i?this:g,D);return T&&s&&f(c,{sticky:s}),c},$=function(t){t in D||c(D,t,{configurable:!0,get:function(){return b[t]},set:function(e){b[t]=e}})},x=o(b),C=0;while(x.length>C)$(x[C++]);g.constructor=D,D.prototype=g,m(a,"RegExp",D)}d("RegExp")},6828:function(t,e,s){"use strict";s.d(e,"a",(function(){return i}));s("fb6a"),s("4d63"),s("ac1f"),s("25f0"),s("5319");function i(t,e){if(t){var s=t;if(/(y+)/.test("yyyy-MM-dd hh:mm:ss"))try{e=e.replace(RegExp.$1,(s.getFullYear()+"").substr(4-RegExp.$1.length))}catch(a){if(s=new Date(parseInt(t.slice(6,19))),!s||"Invalid Date"===s.toUTCString())return""}else if(s=new Date(parseInt(t.slice(6,19))),!s||"Invalid Date"===s.toUTCString())return"";var i={M:s.getMonth()+1,d:s.getDate(),h:s.getHours(),m:s.getMinutes(),s:s.getSeconds(),q:Math.floor((s.getMonth()+3)/3),S:s.getMilliseconds()};return e=e.replace(/([yMdhmsqS])+/g,(function(t,e){var a=i[e];return void 0!==a?(t.length>1&&(a="0"+a,a=a.substr(a.length-2)),a):"y"===e?(s.getFullYear()+"").substr(4-t.length):t})),e}}},7156:function(t,e,s){var i=s("861d"),a=s("d2bb");t.exports=function(t,e,s){var n,r;return a&&"function"==typeof(n=e.constructor)&&n!==s&&i(r=n.prototype)&&r!==s.prototype&&a(t,r),t}},b91a:function(t,e,s){"use strict";s.r(e);var i=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"course-class-practise"},[s("head-top",{attrs:{title:"随堂测验"}}),t.dataList&&t.dataList.length>0?s("div",{staticClass:"sub_module"},t._l(t.dataList,(function(e,i){return s("div",{key:i,staticClass:"list-item van-hairline--bottom",on:{click:function(s){return t.handleClick(e,i)}}},[s("div",{staticClass:"flex-between"},[s("span",[t._v(t._s(e.name))]),1===e.state?s("van-tag",{attrs:{plain:""}},[t._v("未测验")]):2===e.state?s("van-tag",{attrs:{plain:"",type:"primary"}},[t._v("进行中")]):s("van-tag",{attrs:{plain:"",type:"danger"}},[t._v("已结束")])],1),s("div",{staticClass:"flex-between item-remark"},[s("span",[t._v("题数:"+t._s(e.number))]),s("span",[t._v("总分:"+t._s(e.score))]),1!==e.state?s("span",[t._v("时长:"+t._s(0===e.time?"不限":e.time))]):t._e(),s("span",[e.startTime?s("span",[t._v("开始:"+t._s(e.startTime))]):t._e()])])])})),0):s("r-lack-data"),s("van-popup",{attrs:{position:"bottom"},model:{value:t.operateVisible,callback:function(e){t.operateVisible=e},expression:"operateVisible"}},[s("van-cell",{attrs:{title:"题库预览"},on:{click:t.toPreview}}),t.selectItem&&1!==t.selectItem.state?t._e():s("van-cell",{staticStyle:{"text-align":"left"},attrs:{title:"开始测验"},scopedSlots:t._u([{key:"title",fn:function(){return[s("div",{staticClass:"flex-between"},[s("div",{staticClass:"flex"},[s("span",[t._v("计时：")]),s("van-stepper",{attrs:{integer:"",min:"0",max:"1000"},model:{value:t.testTime,callback:function(e){t.testTime=e},expression:"testTime"}}),s("span",{staticStyle:{"padding-left":"10px"}},[t._v("分(0表示不计时)")])],1),s("van-button",{attrs:{type:"primary",size:"small"},on:{click:t.toStart}},[t._v("开始测验")])],1)]},proxy:!0}],null,!1,628594860)}),!t.selectItem||2!==t.selectItem.state&&3!==t.selectItem.state?t._e():s("van-cell",{attrs:{title:"提交人员"},on:{click:t.toViewSubmit}}),t.selectItem&&3===t.selectItem.state?s("van-cell",{attrs:{title:"查看作答"},on:{click:t.toViewAnswer}}):t._e(),t.selectItem&&3===t.selectItem.state?s("van-cell",{attrs:{title:"得分统计"},on:{click:t.toViewScore}}):t._e()],1)],1)},a=[],n=(s("4160"),s("159b"),s("6828")),r={name:"classPractise",data:function(){return{dataList:[],operateVisible:!1,selectIndex:-1,selectItem:null,testTime:0}},created:function(){this.getPractiseList()},methods:{getPractiseList:function(){var t=this;this.dataList=[],this.$mainHttp.classPractise.CoursePractise({chID:this.$store.getters.classHourID,ciID:this.$store.getters.courseID,classID:this.$store.getters.classID}).then((function(e){e.Result?(e.Datas.sort((function(t,e){return t["StartTime"]>e["StartTime"]?-1:1})),e.Datas.forEach((function(e){t.dataList.push({taskID:e["CIPID"]+"",testID:e["CPID"]+"",id:e["PLID"]+"",name:e["PLTitle"]+"",number:e["SubjectTotal"]||0,score:e["SubjectScore"]||0,state:e["CIPState"],time:e["CIPTime"],createTime:Object(n["a"])(e["CreateTime"],"yyyy-MM-dd"),startTime:e["StartTime"]?e["StartTime"].substring(0,16):""})}))):e.Info&&t.$toast(e.Info)})).catch((function(){}))},handleClick:function(t,e){this.selectIndex=e,this.selectItem=t,this.testTime=0,this.operateVisible=!0},toPreview:function(){this.$store.commit("SET_PRACTISE_LIBRARY",this.selectItem),this.$router.push("/practise-library/view")},toStart:function(){var t=this;this.$gatewayHttp.classPractise.setStart({cpID:this.selectItem.testID,ciID:this.$store.getters.courseID,time:this.testTime,classID:this.$store.getters.classID,plID:this.selectItem.id,subjectTotal:this.selectItem.number}).then((function(e){e.Result?(t.getPractiseList(),t.operateVisible=!1,t.$toast("下发成功")):e.Info?t.$toast(e.Info):t.$toast("下发失败")})).catch((function(){t.$toast("操作失败")}))},toStop:function(){this.dataList[this.selectIndex].state=1,this.operateVisible=!1},toViewSubmit:function(){this.operateVisible=!1,this.$store.commit("SET_PRACTISE_LIBRARY",this.selectItem),this.$router.push("/course/class-practise/response")},toViewAnswer:function(){this.operateVisible=!1,this.$store.commit("SET_PRACTISE_LIBRARY",this.selectItem),this.$router.push("/course/class-practise/detail")},toViewScore:function(){this.operateVisible=!1,this.$store.commit("SET_PRACTISE_LIBRARY",this.selectItem),this.$router.push("/course/class-practise/score")}}},c=r,o=(s("ec6e"),s("2877")),l=Object(o["a"])(c,i,a,!1,null,"5bb2edba",null);e["default"]=l.exports},ec6e:function(t,e,s){"use strict";var i=s("2967"),a=s.n(i);a.a}}]);
//# sourceMappingURL=chunk-291a823e.54584c64.js.map