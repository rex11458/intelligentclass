(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-13ebf964"],{"1cae":function(t,e,s){"use strict";var i=s("eac5"),n=s.n(i);n.a},6392:function(t,e,s){"use strict";var i=s("e9f4"),n=s.n(i);n.a},7630:function(t,e,s){"use strict";s.r(e);var i=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"course_record_view"},[s("head-top",{attrs:{title:"课堂互动"}}),s("div",{staticClass:"record-item"},[s("div",{staticClass:"item-title"},[t._v("截屏提问 ")]),s("screen-question")],1),s("div",{staticClass:"record-item"},[s("div",{staticClass:"item-title"},[t._v("随堂练习 ")]),s("class-practice")],1),s("random-person"),s("group-rank",{attrs:{"group-time-list":t.groupTimeOptions}}),s("group-discussion",{attrs:{"group-time-list":t.groupTimeOptions}})],1)},n=[],a=(s("4160"),s("159b"),function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[t.dataList&&t.dataList.length>0?s("van-cell-group",t._l(t.dataList,(function(e,i){return s("van-cell",{key:i,staticClass:"cell_main",attrs:{"is-link":""},on:{click:function(s){return t.typeSelect(e)}},scopedSlots:t._u([{key:"icon",fn:function(){return[t._v(" "+t._s(i+1)+"、 ")]},proxy:!0},{key:"title",fn:function(){return[s("div",{staticClass:"flex-between line_title"},[s("span",[t._v(t._s(e.name))]),s("span",[t._v(" 题数： "),s("span",{staticStyle:{color:"#00cbab"}},[t._v(t._s(e.total))])])])]},proxy:!0}],null,!0)})})),1):s("r-lack-data")],1)}),o=[],r=s("08f3"),u={name:"ScreenQuestion",data:function(){return{courseID:this.$store.getters.courseID,courseInfo:this.$store.getters.course,dataList:[],dataLoading:!1}},created:function(){this.GetScreenQuestionStats()},methods:{GetScreenQuestionStats:function(){var t=this;this.dataLoading=!0,this.dataList=[],this.$mainHttp.screenQuestion.dataStatistics({ciID:this.courseID}).then((function(e){e.Result&&e.Datas&&e.Datas.length>0&&e.Datas.forEach((function(e){t.dataList.push({type:e["Type"],name:Object(r["k"])(e["Type"]),total:e["Total"]||0})})),t.dataLoading=!1})).catch((function(){t.dataLoading=!1}))},typeSelect:function(t){this.$router.push("/history-record/screen-question/list/"+t.type)}}},c=u,l=s("2877"),p=Object(l["a"])(c,a,o,!1,null,"c71aeb2a",null),d=p.exports,m=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"class-practise"},[t.dataList&&t.dataList.length>0?s("van-cell-group",t._l(t.dataList,(function(e,i){return s("van-cell",{key:i,staticClass:"cell_main",on:{click:function(s){return t.handleClick(e,i)}},scopedSlots:t._u([{key:"title",fn:function(){return[s("span",[t._v(" "+t._s(i+1)+"、"+t._s(e.name))])]},proxy:!0},{key:"label",fn:function(){return[s("div",{staticClass:"flex-between"},[s("span",[t._v("题数:"+t._s(e.number))]),s("span",[t._v("总分:"+t._s(e.score))]),s("span",[t._v("时长:"+t._s(e.time+""==="0"?"不限":e.time))]),e.startTime?s("span",[t._v("开始:"+t._s(e.startTime))]):t._e()])]},proxy:!0}],null,!0)})})),1):s("r-lack-data"),s("van-popup",{style:{textAlign:"center"},attrs:{position:"bottom"},model:{value:t.operateVisible,callback:function(e){t.operateVisible=e},expression:"operateVisible"}},[s("van-cell",{attrs:{title:"查看作答"},on:{click:t.toViewAnswer}}),s("van-cell",{attrs:{title:"得分统计"},on:{click:t.toViewScore}})],1)],1)},f=[],g=s("6828"),h={name:"ClassPractice",data:function(){return{courseID:this.$store.getters.courseID,courseInfo:this.$store.getters.course,dataList:[],dataLoading:!1,operateVisible:!1,selectItem:null}},created:function(){this.getPractiseList()},methods:{getPractiseList:function(){var t=this;this.dataList=[],this.isLoading=!0,this.$mainHttp.classPractise.recordList({ciID:this.$store.getters.courseID}).then((function(e){e.Result?(e.Datas.sort((function(t,e){return t.Key["CreateTime"]>e.Key["CreateTime"]?1:-1})),e.Datas.forEach((function(e){t.dataList.push({taskID:e["CIPID"]+"",testID:e.Key["CPID"]+"",id:e.Key["PLID"]+"",name:e["PLTitle"]+"",number:e["Total"]||0,score:e["Score"]||0,state:e.Key["State"],time:e["CIPTime"],createTime:Object(g["a"])(e["CreateTime"],"yyyy-MM-dd"),startTime:e["StartTime"]?e["StartTime"].substring(0,16):""})}))):e.Info&&t.$toast(e.Info),t.isLoading=!1})).catch((function(){t.isLoading=!1}))},handleClick:function(t){this.selectItem=t,this.operateVisible=!0},toPreview:function(){this.$store.commit("SET_PRACTISE_LIBRARY",this.selectItem),this.$router.push("/practise-library/view")},toViewAnswer:function(){this.operateVisible=!1,this.$store.commit("SET_PRACTISE_LIBRARY",this.selectItem),this.$router.push("/history-record/class-practise/detail")},toViewScore:function(){this.operateVisible=!1,this.$store.commit("SET_PRACTISE_LIBRARY",this.selectItem),this.$router.push("/history-record/class-practise/score")}}},v=h,_=(s("f39f"),Object(l["a"])(v,m,f,!1,null,"1fb0d42a",null)),T=_.exports,L=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"record-item "},[s("div",{staticClass:"item-title flex-between"},[s("span",[t._v("随机挑人")]),t.randomTimeOptions&&t.randomTimeOptions.length>0?s("van-dropdown-menu",[s("van-dropdown-item",{attrs:{options:t.randomTimeOptions},model:{value:t.randomValue,callback:function(e){t.randomValue=e},expression:"randomValue"}})],1):t._e()],1),t.personList&&t.personList.length>0?s("div",{staticClass:"flex-wrap-between sub_module",staticStyle:{"padding-bottom":"0"}},[t._l(t.personList,(function(e,i){return s("div",{key:i,staticClass:"student_card van-hairline--surround"},[s("img",{directives:[{name:"real-img",rawName:"v-real-img",value:[e.userID,e.id],expression:"[sub.userID, sub.id]"}],staticClass:"col_4",attrs:{src:t.defaultHead,alt:""}}),s("div",[t._v(t._s(e.name||"姓名"))])])})),t._l(Math.abs(4-t.personList.length%4)%4,(function(t){return s("div",{key:-t,staticClass:"student_card",staticStyle:{width:"19vw"}})}))],2):s("r-lack-data")],1)},b=[],y=(s("c740"),{name:"RandomPerson",data:function(){return{courseID:this.$store.getters.courseID,courseInfo:this.$store.getters.course,defaultHead:s("a5b7"),randomValue:"",randomTimeOptions:[],groupList:[],isLoading:!1}},computed:{personList:function(){var t=this,e=this.randomTimeOptions.findIndex((function(e){return e.value===t.randomValue}));return e>-1?this.randomTimeOptions[e].personList:[]}},created:function(){this.getRandomList()},methods:{getRandomList:function(){var t=this;this.randomTimeOptions=[],this.$mainHttp.randomPick.dataList({ciID:this.courseID}).then((function(e){e.Result?e.Datas&&e.Datas.length>0&&(e.Datas.forEach((function(e){var s=[];e.Value&&e.Value.length>0&&e.Value.forEach((function(t){s.push({id:t["StudentID"],userID:t["UserID"],name:t["StudentName"]})})),t.randomTimeOptions.push({text:"第".concat(e.Key["RPSerial"],"次挑人"),value:e.Key["RPID"],number:e.Key["RPSerial"],courseID:e.Key["CIID"],personList:s})})),t.randomValue=t.randomTimeOptions[0].value):e.Info&&t.$toast(e.Info)})).catch((function(){}))}}}),I=y,D=(s("6392"),Object(l["a"])(I,L,b,!1,null,"59193136",null)),k=D.exports,C=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"record-item "},[s("div",{staticClass:"item-title flex-between"},[s("span",[t._v("分组讨论")]),t.groupTimeList&&t.groupTimeList.length>0?s("van-dropdown-menu",[s("van-dropdown-item",{attrs:{options:t.groupTimeList},on:{change:t.changeGroupTime},model:{value:t.groupTime,callback:function(e){t.groupTime=e},expression:"groupTime"}})],1):t._e()],1),t.discussionList&&t.discussionList.length>0?t._l(t.discussionList,(function(e,i){return s("div",{key:i},[s("div",{staticClass:"image_card flex-wrap"},[s("span",[s("van-icon",{attrs:{name:"chat-o",color:"#07c160"}}),t._v(" 论题 "),s("span",{staticClass:"mark-value"},[t._v(t._s(e.sort))])],1),s("div",{staticClass:"card-line"},[e.titleType===t.defaultType?s("span",[t._v(t._s(e.titleContent))]):s("img",{attrs:{src:e.titleContent,alt:""},on:{click:function(s){return t.preview(e.titleContent)}}})])]),e.groupList&&e.groupList.length>0?s("van-cell-group",t._l(e.groupList,(function(i,n){return s("van-cell",{key:n,staticClass:"cell_main",scopedSlots:t._u([{key:"title",fn:function(){return[s("div",{staticClass:"flex-between"},[s("span",[t._v(t._s(i.groupName))]),s("van-button",{attrs:{type:"primary",size:"mini"},on:{click:function(s){return t.showView(e,i)}}},[t._v("详情")])],1)]},proxy:!0},{key:"label",fn:function(){return[s("div",{staticClass:"flex-between"},[s("span",[t._v("得分 "),s("span",{staticClass:"mark-value"},[t._v(t._s(i.scoreTotal))])]),s("span",[t._v("获赞 "),s("span",{staticClass:"mark-value"},[t._v(t._s(i.goodTotal))])]),s("span",{class:{"mark-doing":1===i.state,"mark-end":1!==i.state}},[t._v(t._s(1===i.state?"进行中":"已结束"))])])]},proxy:!0}],null,!0)})})),1):s("r-lack-data")],1)})):s("r-lack-data")],2)},S=[],w=s("5530"),x=s("a5b7"),$=s.n(x),G={name:"GroupDiscussion",props:{groupTimeList:{type:Array,default:function(){return[]}}},data:function(){return{courseID:this.$store.getters.courseID,courseInfo:this.$store.getters.course,defaultHead:$.a,defaultType:r["a"].Text,groupTime:"",discussionList:[],activeName:""}},methods:{changeGroupTime:function(t){this.groupList=[],this.getGroupDiscussion(t)},getGroupDiscussion:function(t){var e=this;this.isLoading=!0,this.discussionList=[],this.$mainHttp.groupDiscussion.dataList({ciID:this.courseID,number:t}).then((function(t){t.Result?t.Datas&&t.Datas.length>0&&(t.Datas.sort((function(t,e){return t.Key["GSSort"]>e.Key["GSSort"]?1:-1})),t.Datas.forEach((function(t){var s=t.Key["GSSort"],i=t.Key["GSForm"],n=i===e.defaultType?t.Key["GSContent"]:e.$mainHttp.common.picture(t.Key["GSContent"],r["e"].GroupSubject),a={id:t.Key["GSID"],groupName:t["GroupName"],groupID:t.Key["GroupID"],goodTotal:t["TotalGood"],scoreTotal:t["TotalScore"],state:t.Key["State"]},o=e.discussionList.findIndex((function(t){return t.sort===s&&t.titleContent===n}));o>-1?e.discussionList[o].groupList.push(a):e.discussionList.push({sort:s,titleType:i,titleContent:n,groupList:[a]})}))):t.Info&&e.$toast(t.Info),e.isLoading=!1})).catch((function(){e.isLoading=!1}))},preview:function(t){this.$store.commit("SET_IMAGE_PREVIEW",t)},showView:function(t,e){var s=Object(w["a"])({},t,{},e);this.$router.push({path:"/history-record/group-discussion/view",query:s})}},watch:{groupTimeList:{immediate:!0,handler:function(){this.groupTimeList&&this.groupTimeList.length>0&&(this.groupTime=this.groupTimeList[0].value,this.changeGroupTime(this.groupTime))}}}},R=G,V=(s("850d"),Object(l["a"])(R,C,S,!1,null,"ec089e7c",null)),E=V.exports,O=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"record-item "},[s("div",{staticClass:"item-title flex-between"},[s("span",[t._v("小组排名")]),t.groupTimeList&&t.groupTimeList.length>0?s("van-dropdown-menu",[s("van-dropdown-item",{attrs:{options:t.groupTimeList},on:{change:t.changeGroupTime},model:{value:t.groupTime,callback:function(e){t.groupTime=e},expression:"groupTime"}})],1):t._e()],1),t.groupList&&t.groupList.length>0?s("van-cell-group",t._l(t.groupList,(function(e,i){return s("van-cell",{key:i,staticClass:"cell_main",on:{click:function(s){return t.groupSelect(e)}},scopedSlots:t._u([{key:"icon",fn:function(){return[s("van-icon",{staticClass:"line_icon",attrs:{"class-prefix":"iconfont icon-wangguan"}})]},proxy:!0},{key:"title",fn:function(){return[s("div",{staticClass:"flex-between line_title"},[s("span",[t._v(t._s(e.name))]),s("span",[t._v("排名： "),s("van-tag",{attrs:{type:"primary"}},[t._v(t._s(e.rank))])],1)])]},proxy:!0},{key:"label",fn:function(){return[s("div",{staticClass:"flex-between line_title"},[s("span",[t._v(" 总分："+t._s(e.scoreTotal||0))]),s("span",[t._v(" 总赞："+t._s(e.goodTotal||0))]),s("span"),s("span",[t._v("成员：查看")])])]},proxy:!0}],null,!0)})})),1):s("r-lack-data"),s("van-popup",{attrs:{position:"bottom",closeable:""},model:{value:t.dialogVisible,callback:function(e){t.dialogVisible=e},expression:"dialogVisible"}},[s("div",{staticClass:"sub_nav"},[s("span",[t._v("小组成员("+t._s(t.groupSelected?t.groupSelected.name:"")+")")])]),t.groupMember&&t.groupMember.length>0?s("van-cell-group",t._l(t.groupMember,(function(e,i){return s("van-cell",{key:i,staticClass:"cell_main",scopedSlots:t._u([{key:"icon",fn:function(){return[s("img",{directives:[{name:"real-img",rawName:"v-real-img",value:[e.userID,e.id],expression:"[item.userID, item.id]"}],attrs:{src:t.defaultHead,alt:""}})]},proxy:!0},{key:"title",fn:function(){return[s("div",{staticClass:"flex-between line_title"},[s("span",[t._v(t._s(e.name))]),s("span",[t._v("排名： "),s("van-tag",{attrs:{type:"primary"}},[t._v(t._s(e.rank))])],1)])]},proxy:!0},{key:"label",fn:function(){return[s("div",{staticClass:"flex-between line_title"},[s("van-tag",{attrs:{plain:"",type:e.isLeader?"warning":"success"}},[t._v(" "+t._s(e.isLeader?"组长":"成员")+" ")]),s("span"),s("span",[t._v(" 总分："+t._s(e.scoreTotal||0))]),s("span",[t._v(" 总赞："+t._s(e.goodTotal||0))])],1)]},proxy:!0}],null,!0)})})),1):s("r-lack-data")],1)],1)},P=[],K={name:"GroupRank",props:{groupTimeList:{type:Array,default:function(){return[]}}},data:function(){return{courseID:this.$store.getters.courseID,courseInfo:this.$store.getters.course,defaultHead:s("a5b7"),groupTime:"",groupList:[],isLoading:!1,groupSelected:null,groupMember:[],dialogVisible:!1}},methods:{changeGroupTime:function(t){this.groupList=[],this.getGroupRank(t)},getGroupRank:function(t){var e=this;this.isLoading=!0,this.$mainHttp.group.dataRanking({ciID:this.courseID,number:t}).then((function(t){t.Result?t.Datas&&t.Datas.length>0&&(t.Datas.sort((function(t,e){return t["Ranking"]>e["Ranking"]?1:-1})),t.Datas.forEach((function(t){e.groupList.push({id:t["GroupID"],name:t["GroupName"],rank:t["Ranking"],goodTotal:t["TotalGood"],scoreTotal:t["TotalScore"]})}))):t.Info&&e.$toast(t.Info),e.isLoading=!1})).catch((function(){e.isLoading=!1}))},groupSelect:function(t){this.groupSelected=t,this.groupMember=[],this.getGroupMember(),this.dialogVisible=!0},getGroupMember:function(){var t=this;this.isLoading=!0,this.$mainHttp.group.memberRanking({groupID:this.groupSelected.id}).then((function(e){e.Result?e.Datas&&e.Datas.length>0&&(e.Datas.sort((function(t,e){return t["Ranking"]>e["Ranking"]?1:-1})),e.Datas.forEach((function(e){t.groupMember.push({name:e["StudentName"],id:e["StudentID"],userID:e["UserID"],isLeader:e["IsGroupLeader"],rank:e["Ranking"],goodTotal:e["TotalGood"],scoreTotal:e["TotalScore"]})}))):e.Info&&t.$toast(e.Info),t.isLoading=!1})).catch((function(){t.isLoading=!1}))}},watch:{groupTimeList:{immediate:!0,handler:function(){this.groupTimeList&&this.groupTimeList.length>0&&(this.groupTime=this.groupTimeList[0].value,this.changeGroupTime(this.groupTime))}}}},H=K,A=(s("d955"),Object(l["a"])(H,O,P,!1,null,"25b3d646",null)),M=A.exports,N={name:"history-record-view",components:{ScreenQuestion:d,ClassPractice:T,RandomPerson:k,GroupDiscussion:E,GroupRank:M},data:function(){return{courseID:this.$store.getters.courseID,courseInfo:this.$store.getters.course,groupTimeOptions:[]}},created:function(){this.getGroupTimes()},methods:{getGroupTimes:function(){var t=this;this.groupTimeOptions=[],this.$mainHttp.group.dataList({ciID:this.courseID}).then((function(e){e.Result?e.Datas&&e.Datas.length>0&&e.Datas.forEach((function(e){t.groupTimeOptions.push({text:"第".concat(e["GroupingNumber"],"次分组"),value:e["GroupingNumber"],number:e["GroupingNumber"],courseID:e["CIID"]})})):e.Info&&t.$toast(e.Info)})).catch((function(){}))}}},j=N,Q=(s("1cae"),Object(l["a"])(j,i,n,!1,null,"069d740f",null));e["default"]=Q.exports},"850d":function(t,e,s){"use strict";var i=s("96de"),n=s.n(i);n.a},"96de":function(t,e,s){},d955:function(t,e,s){"use strict";var i=s("fbf8"),n=s.n(i);n.a},e9f4:function(t,e,s){},eac5:function(t,e,s){},f39f:function(t,e,s){"use strict";var i=s("fd0c"),n=s.n(i);n.a},fbf8:function(t,e,s){},fd0c:function(t,e,s){}}]);