(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-5f31d4f6"],{"1c7b":function(e,t,n){},"2b22":function(e,t,n){"use strict";n.r(t);var s=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"vb",attrs:{id:"play-box"}},[n("div",{ref:"videoBox",staticClass:"Player",on:{touchstart:function(t){return t.stopPropagation(),e.Start(t)},touchmove:function(t){return t.stopPropagation(),e.Move(t)},touchend:function(t){return t.stopPropagation(),e.End(t)}}},[n("div",{directives:[{name:"show",rawName:"v-show",value:e.showBack,expression:"showBack"}],staticClass:"handle-bar"},[n("div",{staticClass:"bar-l"},[n("div",{staticClass:"back",on:{click:function(t){return t.stopPropagation(),e.goback(t)}}},[n("van-icon",{attrs:{name:"arrow-left"}}),n("span",[e._v(e._s(e.name))])],1)])]),n("Player",{ref:"Player",attrs:{autoplay:!0,source:e.Videos,type:e.Type,IsMuted:!1,IsPaused:e.IsPaused,duration:e.Duration,IsLive:e.IsLive},on:{"update:IsPaused":function(t){e.IsPaused=t},"update:is-paused":function(t){e.IsPaused=t},"update:duration":function(t){e.Duration=t},CurrentTime:e.CurrentTimeChange,FullScreen:e.Full,PlayDeal:e.PlayDeal,PlayEnded:e.PlayEnded}}),e.showControl&&e.IsControl?n("i",{staticClass:"iconfont icon-jietu ",on:{click:e.Screenshots}}):e._e(),e.loading?n("div",{staticClass:"loading"},[n("div",{staticClass:"circle loader"})]):e._e(),e.showV?n("div",{staticClass:"volum"},[n("i",{staticClass:"iconfont icon-shengyin"}),n("van-slider",{attrs:{min:0,max:100,"bar-height":"2px","active-color":"#00CBAB"},model:{value:e.value,callback:function(t){e.value=t},expression:"value"}})],1):e._e(),e.showControl&&e.IsControl?n("div",{staticClass:"sv-control"},[n("div",{staticClass:"sv-play-container"},[e.IsPaused?e._e():n("button",{staticClass:"sv-playBtn",on:{click:e.Pause}},[n("span",{staticClass:"sv-font sv-play icon-zantingtingzhi"})]),e.IsPaused?n("button",{staticClass:"sv-playBtn",on:{click:e.Play}},[n("span",{staticClass:"sv-font sv-play  icon-bofang1"})]):e._e(),n("div",{staticClass:"sv-time"},[n("span",{staticClass:"sv-time-s"},[e._v(e._s(e.curTime))]),e.IsLive?e._e():n("span",{staticClass:"sv-time-split"},[e._v("/")]),e.IsLive?e._e():n("span",{staticClass:"sv-time-e"},[e._v(e._s(e.FormatDuration(e.Duration)))])])]),n("div",{staticClass:"sv-control-r"},[n("div",{staticClass:"sv-el-control sv-el-control-style"},[e.isFullScreen?e._e():n("button",{staticClass:"sv-nextBtn sv-font icon-quanping1",on:{click:e.FullScreenHandler}}),e.isFullScreen?n("button",{staticClass:"sv-nextBtn sv-font icon-quanpingshouqi",on:{click:e.FullScreenHandler}}):e._e()])]),n("van-slider",{staticClass:"sv-progressBar",attrs:{min:0,max:e.Duration,"bar-height":"2px","active-color":"#00CBAB"},on:{change:e.SetProcess},model:{value:e.progress,callback:function(t){e.progress=t},expression:"progress"}})],1):e._e()],1)])},o=[],i=(n("a9e3"),n("d3b7"),n("d11a")),r=n("93bf"),l=n.n(r),a="",u=0,c={props:{IsLive:{type:Boolean,default:!1},Videos:{type:String,default:""},ShowPlayList:{type:Boolean,default:!0},showEpi:{type:Boolean,default:!1},SelectAble:{type:Boolean,default:!0},CanExpand:{type:Boolean,default:!1},IsControl:{type:Boolean,default:!0},autoFull:{type:Boolean,default:!1},name:{type:String,default:""}},components:{Player:function(){return Promise.all([n.e("chunk-fadf1b66"),n.e("chunk-411e9deb")]).then(n.bind(null,"b06f"))}},data:function(){return{loading:!0,value:30,curTime:"00:00",url:"",PlayList:[],CurrentURL:"",CurrentIndex:0,Type:this.IsLive?"flv":"mp4",IsLoaded:!1,progress:0,volume:100,beforeMuted:100,IsPaused:!1,Duration:0,ProgressIsDrag:!1,IsExpand:!1,isFullScreen:!1,proess:0,showControl:!0,showBack:!1,volumn:0,showV:!1,touchCount:0}},mounted:function(){var e=this;l.a.on("change",(function(){e.isFullScreen||(e.showBack=!0,document.querySelector(".vpplayer").style.height="100%"),e.isFullScreen&&e.IsControl&&(document.querySelector(".vpplayer").style.height="5.6rem"),e.isFullScreen=l.a.isFullscreen})),this.timerC=setTimeout((function(){e.loading=!1}),5e3)},beforeDestroy:function(){l.a.off("change"),clearTimeout(this.timerC),this.Dispose()},watch:{touchCount:function(e){var t=this;clearTimeout(this.timerA),clearTimeout(this.timerB),this.timerA=null,this.timerB=null,this.IsControl&&(this.showControl=!0),this.isFullScreen&&(this.showBack=!0),this.timerA=setTimeout((function(){t.showControl=!1,t.showBack=!1}),3e3)}},methods:{Screenshots:function(){Object(i["b"])(i["a"].Screenshots,"")},PlayEnded:function(){this.loading=!0},PlayDeal:function(){var e=this;this.loading=!1,this.IsControl&&(this.timerB=setTimeout((function(){e.showControl=!1}),1e3))},goback:function(){this.IsControl?(this.FullScreenHandler(),this.showControl=!0,this.showBack=!1):(this.url="",this.$router.push("/home-source"))},Full:function(){this.autoFull&&(console.log("全屏"),this.FullScreenHandler())},FullScreenHandler:function(){l.a.isEnabled&&l.a.toggle(this.$refs.videoBox)},ChangeMuted:function(){this.volume>0?(this.beforeMuted=this.volume,this.volume=0):this.volume=this.beforeMuted,this.SetVolume(this.volume)},SetVolume:function(e){this.$refs.Player&&this.$refs.Player.Volume(e)},FormatDuration:function(e){var t=Number(e)/60,n=t-parseInt(t);n*=60,t=parseInt(t),n=parseInt(n),0===parseInt(n/10)&&(n="0"+n),0===parseInt(t/10)&&(t="0"+t);var s=t+":"+n;return s},CurrentTimeChange:function(e){this.progress=e,this.curTime=this.FormatDuration(e)},SetProcess:function(e){this.$refs.Player&&this.$refs.Player.CurrentTime(e)},Play:function(){this.$refs.Player&&this.$refs.Player.Play()},Pause:function(){this.$refs.Player&&this.$refs.Player.Pause()},Dispose:function(){try{this.$refs.Player&&(console.log("释放"),this.$refs.Player.Pause(),this.$refs.Player.Dispose())}catch(e){console.log(e)}this.progress=0,this.Duration=0},Start:function(e){var t=event.targetTouches[0];a={x:t.pageX,y:t.pageY};var n=a.x/document.documentElement.clientWidth,s=e.target.getAttribute("class");"vjs-tech"===s&&n<.8&&this.touchCount++,"sv-progressBar van-slider"===s&&this.touchCount++},End:function(){var e=this;this.timerC=setTimeout((function(){e.showV=!1}),1e3)},Move:function(){var e=event.targetTouches[0],t={x:e.pageX-a.x,y:e.pageY-a.y};u=Math.abs(t.x)<Math.abs(t.y)?1:0,0===u?(event.preventDefault(),this.touchCount++):(event.preventDefault(),clearTimeout(this.timerC),this.timerC=null,this.showControl=!1,this.showV=!0,a.y<e.pageY?this.value=this.value-Math.abs(t.y)/10:this.value=Math.abs(t.y)/10+this.value,this.value>100&&(this.value=100),this.$refs.Player.Volume(this.value))}}},h=c,f=(n("5612"),n("2877")),d=Object(f["a"])(h,s,o,!1,null,null,null);t["default"]=d.exports},5612:function(e,t,n){"use strict";var s=n("1c7b"),o=n.n(s);o.a},"93bf":function(e,t,n){
/*!
* screenfull
* v5.0.2 - 2020-02-13
* (c) Sindre Sorhus; MIT License
*/
(function(){"use strict";var t="undefined"!==typeof window&&"undefined"!==typeof window.document?window.document:{},n=e.exports,s=function(){for(var e,n=[["requestFullscreen","exitFullscreen","fullscreenElement","fullscreenEnabled","fullscreenchange","fullscreenerror"],["webkitRequestFullscreen","webkitExitFullscreen","webkitFullscreenElement","webkitFullscreenEnabled","webkitfullscreenchange","webkitfullscreenerror"],["webkitRequestFullScreen","webkitCancelFullScreen","webkitCurrentFullScreenElement","webkitCancelFullScreen","webkitfullscreenchange","webkitfullscreenerror"],["mozRequestFullScreen","mozCancelFullScreen","mozFullScreenElement","mozFullScreenEnabled","mozfullscreenchange","mozfullscreenerror"],["msRequestFullscreen","msExitFullscreen","msFullscreenElement","msFullscreenEnabled","MSFullscreenChange","MSFullscreenError"]],s=0,o=n.length,i={};s<o;s++)if(e=n[s],e&&e[1]in t){for(s=0;s<e.length;s++)i[n[0][s]]=e[s];return i}return!1}(),o={change:s.fullscreenchange,error:s.fullscreenerror},i={request:function(e){return new Promise(function(n,o){var i=function(){this.off("change",i),n()}.bind(this);this.on("change",i),e=e||t.documentElement;var r=e[s.requestFullscreen]();r instanceof Promise&&r.then(i).catch(o)}.bind(this))},exit:function(){return new Promise(function(e,n){if(this.isFullscreen){var o=function(){this.off("change",o),e()}.bind(this);this.on("change",o);var i=t[s.exitFullscreen]();i instanceof Promise&&i.then(o).catch(n)}else e()}.bind(this))},toggle:function(e){return this.isFullscreen?this.exit():this.request(e)},onchange:function(e){this.on("change",e)},onerror:function(e){this.on("error",e)},on:function(e,n){var s=o[e];s&&t.addEventListener(s,n,!1)},off:function(e,n){var s=o[e];s&&t.removeEventListener(s,n,!1)},raw:s};s?(Object.defineProperties(i,{isFullscreen:{get:function(){return Boolean(t[s.fullscreenElement])}},element:{enumerable:!0,get:function(){return t[s.fullscreenElement]}},isEnabled:{enumerable:!0,get:function(){return Boolean(t[s.fullscreenEnabled])}}}),n?e.exports=i:window.screenfull=i):n?e.exports={isEnabled:!1}:window.screenfull={isEnabled:!1}})()}}]);