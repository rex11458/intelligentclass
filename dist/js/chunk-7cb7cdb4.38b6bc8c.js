(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-7cb7cdb4"],{"0707":function(t,s,e){},"7a72":function(t,s,e){"use strict";e.r(s);var n=function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",{staticClass:"course-practise-response"},[e("head-top",{attrs:{title:t.libraryInfo.name||"提交成员"}},[[2,4].indexOf(t.libraryInfo.state)>-1?e("span",{attrs:{slot:"right"},on:{click:t.toStop},slot:"right"},[e("van-icon",{staticClass:"head-right",attrs:{"class-prefix":"iconfont icon-jieshu",color:"#fff"}})],1):t._e()]),e("div",{staticClass:"sub_nav"},[e("span",[t._v("提交成员")]),e("span",[t._v(t._s(t.submitInfo.subNum)+" / "+t._s(t.submitInfo.total))])]),e("div",{staticClass:"sub_module"},[0===t.submitInfo.persons.length?e("span",[t._v("暂无数据")]):e("div",{staticClass:"flex-wrap-between"},[t._l(t.submitInfo.persons,(function(s,n){return e("div",{key:n,staticClass:"student_card van-hairline--surround"},[e("img",{directives:[{name:"real-img",rawName:"v-real-img",value:[s.userID,s.studentID],expression:"[sub.userID, sub.studentID]"}],staticClass:"col_4",attrs:{src:t.defaultHead,alt:""}}),e("div",[t._v(t._s(s.studentName))])])})),t._l(Math.abs(4-t.submitInfo.persons.length%4)%4,(function(t){return e("div",{key:-t,staticClass:"student_card",staticStyle:{width:"19vw"}})}))],2)])],1)},a=[],i=(e("c740"),e("4160"),e("ac1f"),e("5319"),e("159b"),e("1e55")),o={name:"practiseResponse",data:function(){return{defaultHead:e("a5b7"),libraryInfo:this.$store.getters.practiseLibrary,submitInfo:{total:0,subNum:0,persons:[]}}},created:function(){this.getSubmitPerson()},methods:{getSubmitPerson:function(){var t=this;this.submitInfo={total:0,subNum:0,persons:[]},this.submitInfo.persons.length=0,this.$mainHttp.classPractise.getSubmitPerson({cipID:this.libraryInfo.taskID,ciID:this.$store.getters.courseID}).then((function(s){s.Result?(t.submitInfo.subNum=s["SubNum"]||0,t.submitInfo.total=s["Total"]||0,s.Datas&&s.Datas.length>0&&s.Datas.forEach((function(s){var e={studentID:s["StudentID"],studentName:s["StudentName"],userID:s["UserID"]};-1===t.submitInfo.persons.findIndex((function(t){return t.studentID===e.studentID}))&&t.submitInfo.persons.push(e)}))):s.Info&&t.$toast(s.Info)})).catch((function(){}))},toStop:function(){var t=this;i["Dialog"].confirm({title:"提示",message:"确定结束答题？"}).then((function(){t.postStop()})).catch((function(){}))},postStop:function(){var t=this;this.$mainHttp.classPractise.setStopAnswer({cipID:this.libraryInfo.taskID,plID:this.libraryInfo.id,ciID:this.$store.getters.courseID}).then((function(s){s.Result?(t.$toast("结束答题成功"),t.$router.replace("/course/class-practise/list")):s.Info?t.$toast(s.Info):t.$toast("结束答题失败")})).catch((function(){t.$toast("操作失败")}))}},watch:{"$store.getters.practiseState":{immediate:!0,handler:function(t,s){0===t&&(this.libraryInfo.state=0,this.getSubmitPerson())}}}},r=o,u=(e("995a"),e("2877")),c=Object(u["a"])(r,n,a,!1,null,"749ebf22",null);s["default"]=c.exports},"995a":function(t,s,e){"use strict";var n=e("0707"),a=e.n(n);a.a}}]);