{"version":3,"sources":["webpack:///src/components/r-task-list/r-task-item.vue","webpack:///./src/components/r-task-list/r-task-item.vue?2b25","webpack:///src/components/r-task-list/r-task-list.vue","webpack:///./src/components/r-task-list/r-task-item.vue","webpack:///./src/components/r-task-list/r-task-list.vue?f238","webpack:///./src/components/r-task-list/r-task-list.vue","webpack:///./src/components/r-task-list/index.js","webpack:///src/pages/space/task/homeworkList.vue","webpack:///./src/pages/space/task/homeworkList.vue?c486","webpack:///./src/pages/space/task/homeworkList.vue","webpack:///src/pages/space/task/homework.vue","webpack:///./src/pages/space/task/homework.vue?976f","webpack:///./src/pages/space/task/homework.vue"],"names":["r_task_item","name","props","taskItem","type","Object","state","String","default","data","methods","handleDownload","this","$emit","handleFileView","handleDeal","handleView","r_task_list_r_task_item","render","_vm","_h","$createElement","_c","_self","staticClass","_v","_s","attrs","size","on","click","$event","stopPropagation","preventDefault","split","staticRenderFns","r_task_list","components","TaskItem","__webpack_require__","normalizeComponent","dataList","Array","item","r_task_list_r_task_list","_l","index","key","task-item","download","fileView","doDeal","doView","components_r_task_list_r_task_list","r_task_list_normalizeComponent","TaskList","homeworkList","searchForm","subjectID","classHourID","taskInfo","pno","pageSize","list","total","loading","error","finished","isLoading","mounted","search","obj","init","loadData","getUnFinishTaskList","getFinishedTaskList","_this","reqData","courseID","chID","psize","estate","stuID","$store","getters","studentID","$mainHttp","classHour","getPracticeTaskList","getCourseWareTaskList","then","res","Result","rowsCount","Datas","length","forEach","sub","push","RowsCount","catch","_this2","doPractice","$router","fileInfo","fileName","filter","k","r","join","_this3","fileUrl","resourse","file","window","webkit","sendToAPP","FuncType","downloadFile","addCoursewareTask","err","location","href","_this4","courseware","postCoursewareTask","cID","$toast","viewPractice","comment","task_homeworkList","refresh","model","value","callback","$$v","expression","finished-text","immediate-check","error-text","update:error","$set","load","data-list","_e","homework","ssrContext","stateIndex","menus","icon","taskTypes","taskTypeIndex","subjectList","subjectSelected","subjectSelectedName","subjectPicker","subjectOptions","classHourList","classHourSelected","classHourSelectedName","classHourPicker","computed","lessonName","beforeRouteEnter","to","from","next","vm","path","indexOf","getSubjectList","initSearch","handleClick","taskTypeChange","course","getAllList","text","Info","getClassHourList","findIndex","values","slice","CHName","CHID","subjectConfirm","asyncToGenerator_default","regenerator_default","a","mark","_callee","wrap","_context","prev","stop","classHourConfirm","$refs","task_homework","id","title","style","textAlign","label","label-width","scopedSlots","_u","fn","direction","change","staticStyle","margin-bottom","proxy","readonly","clickable","placeholder","position","show-toolbar","columns","cancel","confirm","ref","class","slot","homework_Component","homework_normalizeComponent","__webpack_exports__"],"mappings":"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","file":"static/js/13.c6a3cf622deefc9bd9df.js","sourcesContent":["<template>\r\n  <div class=\"r-task-item\">\r\n    <div class=\"item-title\">\r\n      <h3> {{ taskItem['Title'] }} </h3>\r\n      <div>\r\n        <div v-if=\"taskItem['Type']===1\" size=\"mini\" class=\"item-operate\">\r\n          <van-button size=\"mini\" type=\"primary\"  @click.stop.prevent=\"handleFileView\">\r\n            预览\r\n          </van-button>\r\n          <van-button size=\"mini\" type=\"info\"  @click.stop.prevent=\"handleDownload\">\r\n            下载\r\n          </van-button>\r\n        </div>\r\n        <van-button v-else-if=\"state==='0'\" size=\"mini\" type=\"primary\" @click=\"handleDeal\">\r\n          去完成\r\n        </van-button>\r\n        <van-button v-else size=\"mini\" type=\"primary\" @click=\"handleView\">\r\n          查看\r\n        </van-button>\r\n      </div>\r\n    </div>\r\n    <div class=\"item-foot foot-remark\">\r\n      <span>\r\n        {{ (taskItem[\"Attribute\"] + '') === '1' ? \"课前\" : \"课后\" }}\r\n      </span>\r\n      <span>\r\n        {{taskItem['Type']===1?'课件':'随堂练习'}}\r\n      </span>\r\n      <span>\r\n        {{ taskItem['CreateTime'].split(\" \")[0] }}\r\n      </span>\r\n    </div>\r\n    <div class=\"item-foot foot-info\">\r\n      <span>\r\n        {{ taskItem['CHName'] }}\r\n      </span>\r\n      <span>\r\n        老师：{{ taskItem['TeacherName'] }}\r\n      </span>\r\n    </div>\r\n\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  name: \"task-item\",\r\n  props: {\r\n    taskItem: {\r\n      type: Object\r\n    },\r\n    state: {\r\n      type: String,\r\n      default: \"0\" // 0未完成 1已完成\r\n    }\r\n  },\r\n  data() {\r\n    return {};\r\n  },\r\n  methods: {\r\n    handleDownload() {\r\n      this.$emit(\"download\", this.taskItem);\r\n    },\r\n    handleFileView() {\r\n      this.$emit(\"fileView\", this.taskItem);\r\n    },\r\n    handleDeal() {\r\n      this.$emit(\"doDeal\", this.taskItem);\r\n    },\r\n    handleView() {\r\n      this.$emit(\"doView\", this.taskItem);\r\n    }\r\n  }\r\n};\r\n</script>\n\n\n// WEBPACK FOOTER //\n// src/components/r-task-list/r-task-item.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"r-task-item\"},[_c('div',{staticClass:\"item-title\"},[_c('h3',[_vm._v(\" \"+_vm._s(_vm.taskItem['Title'])+\" \")]),_vm._v(\" \"),_c('div',[(_vm.taskItem['Type']===1)?_c('div',{staticClass:\"item-operate\",attrs:{\"size\":\"mini\"}},[_c('van-button',{attrs:{\"size\":\"mini\",\"type\":\"primary\"},on:{\"click\":function($event){$event.stopPropagation();$event.preventDefault();return _vm.handleFileView($event)}}},[_vm._v(\"\\n          预览\\n        \")]),_vm._v(\" \"),_c('van-button',{attrs:{\"size\":\"mini\",\"type\":\"info\"},on:{\"click\":function($event){$event.stopPropagation();$event.preventDefault();return _vm.handleDownload($event)}}},[_vm._v(\"\\n          下载\\n        \")])],1):(_vm.state==='0')?_c('van-button',{attrs:{\"size\":\"mini\",\"type\":\"primary\"},on:{\"click\":_vm.handleDeal}},[_vm._v(\"\\n        去完成\\n      \")]):_c('van-button',{attrs:{\"size\":\"mini\",\"type\":\"primary\"},on:{\"click\":_vm.handleView}},[_vm._v(\"\\n        查看\\n      \")])],1)]),_vm._v(\" \"),_c('div',{staticClass:\"item-foot foot-remark\"},[_c('span',[_vm._v(\"\\n      \"+_vm._s((_vm.taskItem[\"Attribute\"] + '') === '1' ? \"课前\" : \"课后\")+\"\\n    \")]),_vm._v(\" \"),_c('span',[_vm._v(\"\\n      \"+_vm._s(_vm.taskItem['Type']===1?'课件':'随堂练习')+\"\\n    \")]),_vm._v(\" \"),_c('span',[_vm._v(\"\\n      \"+_vm._s(_vm.taskItem['CreateTime'].split(\" \")[0])+\"\\n    \")])]),_vm._v(\" \"),_c('div',{staticClass:\"item-foot foot-info\"},[_c('span',[_vm._v(\"\\n      \"+_vm._s(_vm.taskItem['CHName'])+\"\\n    \")]),_vm._v(\" \"),_c('span',[_vm._v(\"\\n      老师：\"+_vm._s(_vm.taskItem['TeacherName'])+\"\\n    \")])])])}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-919a9c3a\",\"hasScoped\":false,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/r-task-list/r-task-item.vue\n// module id = null\n// module chunks = ","<template>\r\n  <div class=\"r-task-list\">\r\n    <task-item v-for=\"(item, index) in dataList\" :key=\"index\" :task-item=\"item\" :state=\"state\"\r\n      @download=\"handleDownload\" @fileView=\"handleFileView\" @doDeal=\"handleDeal\"\r\n      @doView=\"handleView\">\r\n    </task-item>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport TaskItem from \"./r-task-item\";\r\nexport default {\r\n  name: \"task-list\",\r\n  components: { TaskItem },\r\n  props: {\r\n    dataList: {\r\n      type: Array,\r\n      default: () => {\r\n        return [];\r\n      }\r\n    },\r\n    state: {\r\n      type: String,\r\n      default: \"0\"\r\n    }\r\n  },\r\n  data() {\r\n    return {};\r\n  },\r\n  methods: {\r\n    handleDownload(item) {\r\n      this.$emit(\"download\", item);\r\n    },\r\n    handleFileView(item) {\r\n      this.$emit(\"fileView\", item);\r\n    },\r\n    handleDeal(item) {\r\n      this.$emit(\"doDeal\", item);\r\n    },\r\n    handleView(item) {\r\n      this.$emit(\"doView\", item);\r\n    }\r\n  }\r\n};\r\n</script>\r\n\n\n\n// WEBPACK FOOTER //\n// src/components/r-task-list/r-task-list.vue","var normalizeComponent = require(\"!../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./r-task-item.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./r-task-item.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-919a9c3a\\\",\\\"hasScoped\\\":false,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../node_modules/vue-loader/lib/selector?type=template&index=0!./r-task-item.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = null\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/r-task-list/r-task-item.vue\n// module id = null\n// module chunks = ","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"r-task-list\"},_vm._l((_vm.dataList),function(item,index){return _c('task-item',{key:index,attrs:{\"task-item\":item,\"state\":_vm.state},on:{\"download\":_vm.handleDownload,\"fileView\":_vm.handleFileView,\"doDeal\":_vm.handleDeal,\"doView\":_vm.handleView}})}),1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-167c1c44\",\"hasScoped\":false,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/r-task-list/r-task-list.vue\n// module id = null\n// module chunks = ","var normalizeComponent = require(\"!../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./r-task-list.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./r-task-list.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-167c1c44\\\",\\\"hasScoped\\\":false,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../node_modules/vue-loader/lib/selector?type=template&index=0!./r-task-list.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = null\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/r-task-list/r-task-list.vue\n// module id = null\n// module chunks = ","import TaskList from './r-task-list.vue';\r\nexport default TaskList;\n\n\n// WEBPACK FOOTER //\n// ./src/components/r-task-list/index.js","<template>\r\n  <div class=\"home-work\">\r\n\r\n    <van-pull-refresh v-model=\"isLoading\" @refresh=\"init\" class=\"pull_fresh\">\r\n      <van-list v-model=\"taskInfo.loading\" :finished=\"taskInfo.finished\" finished-text=\"没有更多了\"\r\n        :immediate-check=\"false\" :error.sync=\"taskInfo.error\" error-text=\"请求失败，点击重新加载\"\r\n        @load=\"loadData()\">\r\n\r\n        <task-list v-if=\"taskInfo.list && taskInfo.list.length > 0\" :data-list=\"taskInfo.list\"\r\n          :state=\"(searchForm.state + '')\" @download=\"download\" @fileView=\"fileView\"\r\n          @doDeal=\"doPractice\" @doView=\"viewPractice\">\r\n        </task-list>\r\n      </van-list>\r\n    </van-pull-refresh>\r\n\r\n    <!-- <van-tabs v-model=\"tabSelected\" @change=\"handleTabClick\">\r\n      <van-tab v-for=\"(tab, k) in tabOptions\" :key=\"k\" :title=\"tab.label\" :name=\"tab.name\">\r\n\r\n        <van-pull-refresh v-model=\"isLoading\" @refresh=\"refreshTab(k)\" class=\"pull_fresh\">\r\n          <van-list v-model=\"tab.loading\" :finished=\"tab.finished\" finished-text=\"没有更多了\"\r\n            :error.sync=\"tab.error\" error-text=\"请求失败，点击重新加载\" @load=\"loadData(k)\">\r\n            <task-list v-if=\"tab.taskList && tab.taskList.length > 0\" :data-list=\"tab.taskList\"\r\n              :state=\"tabSelected\" @download=\"download\" @doDeal=\"doPractice\" @doView=\"viewPractice\">\r\n            </task-list>\r\n          </van-list>\r\n        </van-pull-refresh>\r\n\r\n      </van-tab>\r\n    </van-tabs> -->\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport TaskList from \"@/components/r-task-list\";\r\n\r\nexport default {\r\n  name: \"homework\",\r\n  components: { TaskList },\r\n  // props: {\r\n  //   typeSelected: {\r\n  //     type: Number,\r\n  //     default: 0\r\n  //   },\r\n  //   stateSelected: {\r\n  //     type: Number,\r\n  //     default: 0\r\n  //   },\r\n  //   subjectId: {\r\n  //     type: String,\r\n  //     default: \"\"\r\n  //   },\r\n  //   classHourId: {\r\n  //     type: String,\r\n  //     default: \"\"\r\n  //   }\r\n  // },\r\n  data() {\r\n    return {\r\n      searchForm: {\r\n        type: 0,\r\n        state: 0,\r\n        subjectID: \"\",\r\n        classHourID: \"\"\r\n      },\r\n      taskInfo: {\r\n        pno: 0,\r\n        pageSize: 8,\r\n        list: [],\r\n        total: 0,\r\n\r\n        loading: false,\r\n        error: false,\r\n        finished: false\r\n      },\r\n      isLoading: false\r\n    };\r\n  },\r\n  mounted() {},\r\n  methods: {\r\n    /**\r\n     * 父组件通过此方法初始化查询条件\r\n     */\r\n    search(obj) {\r\n      this.searchForm.type = obj.type;\r\n      this.searchForm.state = obj.state;\r\n      this.searchForm.subjectID = obj.subjectID;\r\n      this.searchForm.classHourID = obj.classHourID;\r\n\r\n      this.init();\r\n    },\r\n    init() {\r\n      this.taskInfo = {\r\n        pno: 0,\r\n        pageSize: 8,\r\n        list: [],\r\n        total: 0,\r\n\r\n        loading: false,\r\n        error: false,\r\n        finished: false\r\n      };\r\n      this.loadData();\r\n    },\r\n    loadData() {\r\n      if (this.searchForm.state === 0) {\r\n        this.getUnFinishTaskList();\r\n      } else {\r\n        this.getFinishedTaskList();\r\n      }\r\n    },\r\n    getUnFinishTaskList() {\r\n      let item = this.taskInfo;\r\n      this.isLoading = true;\r\n      item.loading = true;\r\n      if (item.pno === 0 || item.total > item.pno * item.pageSize) {\r\n        item.pno++;\r\n      } else {\r\n        this.isLoading = false;\r\n        item.loading = false;\r\n        item.finished = true;\r\n        return;\r\n      }\r\n      if (item.pno === 1) item.list = [];\r\n      let reqData = {\r\n        courseID: this.searchForm.subjectID,\r\n        chID: this.searchForm.classHourID,\r\n        pno: item.pno,\r\n        psize: item.pageSize,\r\n        estate: 1,\r\n        stuID: this.$store.getters.studentID\r\n      };\r\n      let reqFunc =\r\n        this.searchForm.type === 0\r\n          ? this.$mainHttp.classHour.getPracticeTaskList\r\n          : this.$mainHttp.classHour.getCourseWareTaskList;\r\n      reqFunc(reqData)\r\n        .then(res => {\r\n          if (res.Result) {\r\n            item.total = res.rowsCount;\r\n            if (res.Datas && res.Datas.length > 0) {\r\n              res.Datas.forEach(sub => {\r\n                item.list.push(sub);\r\n              });\r\n            }\r\n          }\r\n          if (res.RowsCount) item.total = res.RowsCount;\r\n          if (item.total <= item.pno * item.pageSize) item.finished = true;\r\n          item.loading = false;\r\n          this.isLoading = false;\r\n        })\r\n        .catch(() => {\r\n          item.error = true;\r\n          item.loading = false;\r\n          this.isLoading = false;\r\n        });\r\n    },\r\n    getFinishedTaskList() {\r\n      let item = this.taskInfo;\r\n      this.isLoading = true;\r\n      item.loading = true;\r\n      if (item.pno === 0 || item.total > item.pno * item.pageSize) {\r\n        item.pno++;\r\n      } else {\r\n        this.isLoading = false;\r\n        item.loading = false;\r\n        item.finished = true;\r\n        return;\r\n      }\r\n\r\n      if (item.pno === 1) item.list = [];\r\n      let reqData = {\r\n        courseID: this.searchForm.subjectID,\r\n        chID: this.searchForm.classHourID,\r\n        pno: item.pno,\r\n        psize: item.pageSize,\r\n        estate: 2,\r\n        stuID: this.$store.getters.studentID\r\n      };\r\n      let reqFunc =\r\n        this.searchForm.type === 0\r\n          ? this.$mainHttp.classHour.getPracticeTaskList\r\n          : this.$mainHttp.classHour.getCourseWareTaskList;\r\n      reqFunc(reqData)\r\n        .then(res => {\r\n          if (res.Result) {\r\n            item.total = res.rowsCount;\r\n            if (res.Datas && res.Datas.length > 0) {\r\n              res.Datas.forEach(sub => {\r\n                item.list.push(sub);\r\n              });\r\n            }\r\n          }\r\n          if (res.RowsCount) item.total = res.RowsCount;\r\n          if (item.total <= item.pno * item.pageSize) item.finished = true;\r\n          item.loading = false;\r\n          this.isLoading = false;\r\n        })\r\n        .catch(() => {\r\n          item.error = true;\r\n          item.loading = false;\r\n          this.isLoading = false;\r\n        });\r\n    },\r\n    doPractice(item) {\r\n      this.$router.push(\r\n        `/space/practiceDone/${item[\"CIPID\"]}/${item[\"PLID\"]}/${item[\"CPID\"]}/${item[\"CHID\"]}`\r\n      );\r\n    },\r\n    fileView(item) {\r\n      const fileInfo = item[\"Title\"].split(\".\");\r\n      if (fileInfo.length >= 2) {\r\n        const fileName = fileInfo.length === 2 ? fileInfo[0] : fileInfo.filter((k, r) => r < fileInfo.length - 2).join('.');\r\n        this.$router.push(\r\n          `/fileView/${item[\"MaterialID\"]}/${fileInfo[fileInfo.length - 1]}/${fileName}`\r\n        );\r\n      }\r\n    },\r\n    download(item) {      \r\n      let fileUrl = this.$mainHttp.resourse.file(item[\"MaterialID\"]);\r\n      if (!window.webkit) {\r\n        window.location.href = fileUrl;\r\n       if (this.searchForm.state === 0) this.addCoursewareTask(item);\r\n      } else {\r\n        sendToAPP(FuncType.downloadFile, fileUrl)\r\n          .then(res => {\r\n           if (this.searchForm.state === 0) this.addCoursewareTask(item);\r\n          })\r\n          .catch(err => {});\r\n      }\r\n    },\r\n    addCoursewareTask(item) {\r\n      this.$mainHttp.courseware\r\n        .postCoursewareTask({\r\n          cID: item[\"CID\"],\r\n          stuID: this.$store.getters.studentID\r\n        })\r\n        .then(res => {\r\n          if (res.Result) {\r\n            this.init();\r\n            this.$toast(\"数据下载成功！\");\r\n          }\r\n        })\r\n        .catch(err => {});\r\n    },\r\n    viewPractice(item) {\r\n      this.$router.push(\r\n        `/space/practiceView/${item[\"CIPID\"]}/${item[\"PLID\"]}/${item[\"CPID\"]}/${item[\"CHID\"]}`\r\n      );\r\n    },\r\n    comment(item) {\r\n      this.$router.push(\r\n        `/space/coursewareComment/${item[\"CID\"]}/${item[\"CourseID\"]}`\r\n      );\r\n    }\r\n  }\r\n};\r\n</script>\r\n\r\n<style lang=\"less\" scoped>\r\n.home-work {\r\n  background-color: #fff;\r\n\r\n  /deep/.pull_fresh {\r\n    height: 100%;\r\n    margin-bottom: 50px;\r\n  }\r\n}\r\n</style>\r\n\n\n\n// WEBPACK FOOTER //\n// src/pages/space/task/homeworkList.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"home-work\"},[_c('van-pull-refresh',{staticClass:\"pull_fresh\",on:{\"refresh\":_vm.init},model:{value:(_vm.isLoading),callback:function ($$v) {_vm.isLoading=$$v},expression:\"isLoading\"}},[_c('van-list',{attrs:{\"finished\":_vm.taskInfo.finished,\"finished-text\":\"没有更多了\",\"immediate-check\":false,\"error\":_vm.taskInfo.error,\"error-text\":\"请求失败，点击重新加载\"},on:{\"update:error\":function($event){return _vm.$set(_vm.taskInfo, \"error\", $event)},\"load\":function($event){return _vm.loadData()}},model:{value:(_vm.taskInfo.loading),callback:function ($$v) {_vm.$set(_vm.taskInfo, \"loading\", $$v)},expression:\"taskInfo.loading\"}},[(_vm.taskInfo.list && _vm.taskInfo.list.length > 0)?_c('task-list',{attrs:{\"data-list\":_vm.taskInfo.list,\"state\":(_vm.searchForm.state + '')},on:{\"download\":_vm.download,\"fileView\":_vm.fileView,\"doDeal\":_vm.doPractice,\"doView\":_vm.viewPractice}}):_vm._e()],1)],1)],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-8bf73252\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/pages/space/task/homeworkList.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true,\\\"publicPath\\\":\\\"../../\\\"}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-8bf73252\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!less-loader?{\\\"sourceMap\\\":true}!../../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./homeworkList.vue\")\n}\nvar normalizeComponent = require(\"!../../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../../node_modules/vue-loader/lib/selector?type=script&index=0!./homeworkList.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../../node_modules/vue-loader/lib/selector?type=script&index=0!./homeworkList.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-8bf73252\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../../node_modules/vue-loader/lib/selector?type=template&index=0!./homeworkList.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-8bf73252\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/pages/space/task/homeworkList.vue\n// module id = null\n// module chunks = ","<template>\r\n  <div id=\"home-work\">\r\n    <head-top title=\"我的任务\"></head-top>\r\n\r\n    <van-cell-group :style=\"{textAlign:'left'}\">\r\n\r\n      <van-field label=\"任务类型：\" label-width=\"70px\">\r\n        <template #input>\r\n          <van-radio-group v-model=\"taskTypeIndex\" direction=\"horizontal\" @change=\"taskTypeChange\">\r\n            <van-radio v-for=\"(item, index) in taskTypes\" :key=\"index\" :name=\"item.value\"\r\n              style=\"margin-bottom: 6px;\">\r\n              {{item.name}}\r\n            </van-radio>\r\n          </van-radio-group>\r\n        </template>\r\n      </van-field>\r\n\r\n      <van-field readonly clickable label=\"课程选择：\" :value=\"subjectSelectedName\" placeholder=\"选择课程\"\r\n        @click=\"subjectPicker = true\">\r\n      </van-field>\r\n      <!-- 课程选择 -->\r\n      <van-popup v-model=\"subjectPicker\" position=\"bottom\">\r\n        <van-picker show-toolbar :columns=\"subjectList\" @cancel=\"subjectPicker = false\"\r\n          @confirm=\"subjectConfirm\">\r\n        </van-picker>\r\n      </van-popup>\r\n\r\n      <van-field v-if=\"subjectSelected\" readonly clickable label=\"课时选择：\"\r\n        :value=\"classHourSelectedName\" placeholder=\"选择课时\" @click=\"classHourPicker = true\">\r\n      </van-field>\r\n      <!-- 课时选择 -->\r\n      <van-popup v-model=\"classHourPicker\" position=\"bottom\">\r\n        <van-picker show-toolbar :columns=\"classHourList\" @cancel=\"classHourPicker = false\"\r\n          @confirm=\"classHourConfirm\">\r\n        </van-picker>\r\n      </van-popup>\r\n\r\n    </van-cell-group>\r\n\r\n    <homework-list ref=\"taskList\"></homework-list>\r\n    <!-- :type-selected=\"taskTypeIndex\" :state-selected=\"stateIndex\"\r\n      :subject-id=\"subjectSelected ? subjectSelected.value : ''\"\r\n      :class-hour-id=\"classHourSelected ? classHourSelected.value : ''\" -->\r\n\r\n    <div class=\"footer\">\r\n      <van-tabbar v-model=\"stateIndex\">\r\n        <van-tabbar-item v-for=\"(item, index) in menus\" :key=\"index\" @click=\"handleClick(item)\">\r\n          <i slot=\"icon\" class=\" iconfont\" :class=\"item.icon\"></i>\r\n          <span>{{item.name}}</span>\r\n        </van-tabbar-item>\r\n      </van-tabbar>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport homeworkList from \"./homeworkList\";\r\n\r\nexport default {\r\n  name: \"homework\",\r\n  components: { homeworkList },\r\n  data() {\r\n    return {\r\n      stateIndex: 0,\r\n      menus: [\r\n        { name: \"未完成\", index: 0, icon: \"icon-quanbuwenjian\" },\r\n        { name: \"已完成\", index: 1, icon: \"icon-fenlei\" }\r\n      ],\r\n      taskTypes: [\r\n        { name: \"随堂练习\", value: 0 },\r\n        { name: \"课件\", value: 1 }\r\n      ],\r\n      taskTypeIndex: 0,\r\n\r\n      subjectList: [],\r\n      subjectSelected: null,\r\n      subjectSelectedName: \"\",\r\n      subjectPicker: false,\r\n      subjectOptions: [], // 记录数据，作缓存\r\n      classHourList: [],\r\n      classHourSelected: null,\r\n      classHourSelectedName: \"\",\r\n      classHourPicker: false,\r\n\r\n      isLoading: false\r\n    };\r\n  },\r\n  computed: {\r\n    lessonName() {\r\n      return this.classHourSelectedName || this.subjectSelectedName;\r\n    }\r\n  },\r\n  beforeRouteEnter(to, from, next) {\r\n    next(vm => {\r\n      // 通过 `vm` 访问组件实例\r\n      if (\r\n        from.path.indexOf(\"/fileView\") > -1 ||\r\n        from.path.indexOf(\"/coursewareComment\") > -1\r\n      ) {\r\n        vm.taskTypeIndex = 1;\r\n      }\r\n    });\r\n  },\r\n  mounted() {\r\n    // this.typeSelected(0);\r\n    this.getSubjectList();\r\n    this.initSearch();\r\n  },\r\n  methods: {\r\n    handleClick(item) {\r\n      // this.stateIndex = item.index;\r\n      this.initSearch();\r\n    },\r\n    taskTypeChange() {\r\n      this.initSearch();\r\n    },\r\n    getSubjectList() {\r\n      this.$mainHttp.course\r\n        .getAllList({\r\n          studentID: this.$store.getters.studentID\r\n        })\r\n        .then(res => {\r\n          if (res.Result) {\r\n            res.Datas.forEach(item => {\r\n              this.subjectList.push({\r\n                text: item[\"CourseName\"],\r\n                value: item[\"CourseID\"]\r\n              });\r\n            });\r\n          } else if (res.Info) {\r\n            this.$toast(res.Info);\r\n          }\r\n          this.isLoading = false;\r\n        })\r\n        .catch(() => {\r\n          this.isLoading = false;\r\n        });\r\n    },\r\n    getClassHourList(subjectID) {\r\n      this.classHourList = [];\r\n      let index = this.subjectOptions.findIndex(r => r.subjectID === subjectID);\r\n      if (index > -1) {\r\n        this.classHourList = this.subjectOptions[index].values.slice(\r\n          0,\r\n          this.subjectOptions[index].values.length\r\n        );\r\n      } else {\r\n        this.classHourList = [];\r\n        this.isLoading = true;\r\n        this.$mainHttp.classHour\r\n          .dataList({ courseID: subjectID })\r\n          .then(res => {\r\n            if (res.Result && res.Datas && res.Datas.length > 0) {\r\n              res.Datas.forEach(item => {\r\n                this.classHourList.push({\r\n                  text: `${item.CHName}`,\r\n                  value: item.CHID\r\n                });\r\n              });\r\n\r\n              this.subjectOptions.push({\r\n                subjectID: subjectID,\r\n                values: this.classHourList.slice(0, this.classHourList.length)\r\n              });\r\n            }\r\n            this.isLoading = false;\r\n          })\r\n          .catch(err => {\r\n            this.isLoading = false;\r\n          });\r\n      }\r\n    },\r\n    async subjectConfirm(value) {\r\n      this.subjectSelected = value;\r\n      this.subjectSelectedName = value.text;\r\n      this.subjectPicker = false;\r\n      // 初始化课时数据列表\r\n      await this.getClassHourList(value.value);\r\n      const index = this.classHourList.findIndex(\r\n        r => r.value === this.classHourSelected.value\r\n      );\r\n      if (index === -1) {\r\n        this.classHourSelected = null;\r\n        this.classHourSelectedName = \"\";\r\n      }\r\n      this.initSearch();\r\n    },\r\n    classHourConfirm(value) {\r\n      this.classHourSelected = value;\r\n      this.classHourSelectedName = value.text;\r\n      this.classHourPicker = false;\r\n      this.initSearch();\r\n    },\r\n    /**\r\n     * 初始化查询\r\n     */\r\n    initSearch() {\r\n      this.$refs[\"taskList\"].search({\r\n        type: this.taskTypeIndex,\r\n        state: this.stateIndex,\r\n        subjectID: this.subjectSelected ? this.subjectSelected.value : \"\",\r\n        classHourID: this.classHourSelected ? this.classHourSelected.value : \"\"\r\n      });\r\n    }\r\n  }\r\n};\r\n</script>\r\n\r\n<style lang=\"less\" scoped>\r\n#home-work {\r\n  width: 100%;\r\n  height: 100vh;\r\n  overflow-y: auto;\r\n\r\n  .footer {\r\n    /deep/ .van-tabbar-item--active {\r\n      color: #00cbab;\r\n    }\r\n  }\r\n}\r\n</style>\r\n\n\n\n// WEBPACK FOOTER //\n// src/pages/space/task/homework.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{attrs:{\"id\":\"home-work\"}},[_c('head-top',{attrs:{\"title\":\"我的任务\"}}),_vm._v(\" \"),_c('van-cell-group',{style:({textAlign:'left'})},[_c('van-field',{attrs:{\"label\":\"任务类型：\",\"label-width\":\"70px\"},scopedSlots:_vm._u([{key:\"input\",fn:function(){return [_c('van-radio-group',{attrs:{\"direction\":\"horizontal\"},on:{\"change\":_vm.taskTypeChange},model:{value:(_vm.taskTypeIndex),callback:function ($$v) {_vm.taskTypeIndex=$$v},expression:\"taskTypeIndex\"}},_vm._l((_vm.taskTypes),function(item,index){return _c('van-radio',{key:index,staticStyle:{\"margin-bottom\":\"6px\"},attrs:{\"name\":item.value}},[_vm._v(\"\\n            \"+_vm._s(item.name)+\"\\n          \")])}),1)]},proxy:true}])}),_vm._v(\" \"),_c('van-field',{attrs:{\"readonly\":\"\",\"clickable\":\"\",\"label\":\"课程选择：\",\"value\":_vm.subjectSelectedName,\"placeholder\":\"选择课程\"},on:{\"click\":function($event){_vm.subjectPicker = true}}}),_vm._v(\" \"),_c('van-popup',{attrs:{\"position\":\"bottom\"},model:{value:(_vm.subjectPicker),callback:function ($$v) {_vm.subjectPicker=$$v},expression:\"subjectPicker\"}},[_c('van-picker',{attrs:{\"show-toolbar\":\"\",\"columns\":_vm.subjectList},on:{\"cancel\":function($event){_vm.subjectPicker = false},\"confirm\":_vm.subjectConfirm}})],1),_vm._v(\" \"),(_vm.subjectSelected)?_c('van-field',{attrs:{\"readonly\":\"\",\"clickable\":\"\",\"label\":\"课时选择：\",\"value\":_vm.classHourSelectedName,\"placeholder\":\"选择课时\"},on:{\"click\":function($event){_vm.classHourPicker = true}}}):_vm._e(),_vm._v(\" \"),_c('van-popup',{attrs:{\"position\":\"bottom\"},model:{value:(_vm.classHourPicker),callback:function ($$v) {_vm.classHourPicker=$$v},expression:\"classHourPicker\"}},[_c('van-picker',{attrs:{\"show-toolbar\":\"\",\"columns\":_vm.classHourList},on:{\"cancel\":function($event){_vm.classHourPicker = false},\"confirm\":_vm.classHourConfirm}})],1)],1),_vm._v(\" \"),_c('homework-list',{ref:\"taskList\"}),_vm._v(\" \"),_c('div',{staticClass:\"footer\"},[_c('van-tabbar',{model:{value:(_vm.stateIndex),callback:function ($$v) {_vm.stateIndex=$$v},expression:\"stateIndex\"}},_vm._l((_vm.menus),function(item,index){return _c('van-tabbar-item',{key:index,on:{\"click\":function($event){return _vm.handleClick(item)}}},[_c('i',{staticClass:\" iconfont\",class:item.icon,attrs:{\"slot\":\"icon\"},slot:\"icon\"}),_vm._v(\" \"),_c('span',[_vm._v(_vm._s(item.name))])])}),1)],1)],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-767e0fd2\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/pages/space/task/homework.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true,\\\"publicPath\\\":\\\"../../\\\"}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-767e0fd2\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!less-loader?{\\\"sourceMap\\\":true}!../../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./homework.vue\")\n}\nvar normalizeComponent = require(\"!../../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../../node_modules/vue-loader/lib/selector?type=script&index=0!./homework.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../../node_modules/vue-loader/lib/selector?type=script&index=0!./homework.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-767e0fd2\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../../node_modules/vue-loader/lib/selector?type=template&index=0!./homework.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-767e0fd2\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/pages/space/task/homework.vue\n// module id = null\n// module chunks = "],"sourceRoot":""}