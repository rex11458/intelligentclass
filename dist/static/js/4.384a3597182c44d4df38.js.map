{"version":3,"sources":["webpack:///src/pages/history/courseware/fileView.vue","webpack:///./src/pages/history/courseware/fileView.vue?3ebd","webpack:///./src/pages/history/courseware/fileView.vue","webpack:///./src/assets/video/content_btn_play.svg","webpack:///./src/assets/video/content_btn_pause.svg","webpack:///./src/assets/video/video.png","webpack:///./src/assets/video/content_ic_tutu.svg","webpack:///src/components/r-file-view/ImageView.vue","webpack:///./src/components/r-file-view/ImageView.vue?e516","webpack:///./src/components/r-file-view/ImageView.vue","webpack:///src/components/r-video/r-video.vue","webpack:///./src/utils/tool.js","webpack:///./src/components/r-video/r-video.vue?9211","webpack:///./src/components/r-video/index.js","webpack:///./src/components/r-video/r-video.vue","webpack:///src/components/r-file-view/VideoView.vue","webpack:///./src/components/r-file-view/VideoView.vue?4273","webpack:///./src/components/r-file-view/VideoView.vue","webpack:///src/components/r-file-view/r-file-view.vue","webpack:///./src/components/r-file-view/r-file-view.vue?74d1","webpack:///./src/components/r-file-view/r-file-view.vue","webpack:///src/components/RFilePreview.vue","webpack:///./src/components/RFilePreview.vue?de96","webpack:///./src/components/RFilePreview.vue","webpack:///./src/assets/video/content_ic_increase.svg"],"names":["fileView","name","components","RFilePreview","props","data","id","this","$route","params","fileExt","dataList","previewUrl","loading","diaologShow","courseware_fileView","render","_h","$createElement","_c","_self","attrs","title","_v","fileName","fileId","staticRenderFns","Component","__webpack_require__","normalizeComponent","ssrContext","__webpack_exports__","module","exports","ImageView","type","String","required","index","Number","default","fileTotal","autoLoad","Boolean","isLoad","loadFail","file","computed","indexShow","indexOf","mounted","init","methods","_this","$mainHttp","common","viewFile","mid","suffix","then","res","byteArray","Uint8Array","binary","i","byteLength","fromCharCode","window","btoa","setTimeout","$emit","catch","view","r_file_view_ImageView","_vm","ref","staticClass","staticStyle","object-fit","src","alt","width","on","click","$event","stopPropagation","preventDefault","_e","_s","components_r_file_view_ImageView","pad","val","Math","floor","timeParse","sec","min","r_video","poster","showVideo","autoPlay","defaultPost","mediaSrc","mediaPoster","$video","player","$player","pos","progressBar","$progress","video","loaded","displayTime","totalTime","progress","current","hideTimer","state","controlBtnShow","controlBarShow","fullScreen","playing","isLoading","isEnd","isError","isFirstTouch","isPauseTouch","$nextTick","$el","getElementsByTagName","initPlayer","initParam","getElementsByClassName","getBoundingClientRect","round","clickPlayBtn","_this2","play","addEventListener","e","getLoadTime","func","wait","previous","timeout","context","args","arguments","now","Date","apply","throttle","getPlayTime","currentTime","pause","stopPlay","load","touchEnterVideo","clearTimeout","touchLeaveVideo","_this3","handleWaiting","handleError","retry","percent","duration","buffered","end","moveStart","moveIng","offsetX","targetTouches","pageX","left","setPlayTime","moveEnd","changedTouches","console","log","document","webkitCancelFullScreen","webkitRequestFullScreen","beforeDestroy","r_video_r_video","webkit-playsinline","playsinline","x-webkit-airplay","x5-video-player-type","x5-video-player-fullscreen","x5-video-orientation","controlslist","preload","waiting","canplaythrough","stalled","error","directives","rawName","value","expression","onerror","touchstart","touchend","_m","style","visibility","transform","touchmove","Video","r_video_normalizeComponent","VideoView","tVideo","components_r_video","video_default","a","r_file_view_VideoView","components_r_file_view_VideoView","VideoView_normalizeComponent","r_file_view","defineProperty_default","image_preview","canOpenFileExt","txtContent","loadIndex","finishedHeight","canLoad","active","viewTotal","allFinished","startIndex","viewIndex","viewShow","viewImages","fullName","lazyLoad","divDom","getElementById","viewTxt","Result","Data","findIndex","r","push","scrollPage","loadImage","offsetTopArr","querySelectorAll","forEach","item","offsetTop","scrollTop","documentElement","body","divScrollTop","navIndex","n","length","imgDiv","$refs","h","innerHeight","s","navContents","outHeight","domOut","handleFinish","offsetHeight","splice","imageView","imageSrc","imagePreview","Object","images","showIndex","onClose","toView","onChange","lastIndex","nextIndex","watch","immediate","handler","removeEventListener","close","r_file_view_r_file_view","scroll","file-id","file-ext","file-total","auto-load","preview","_l","key","refInFor","finish","start-position","loop","change","scopedSlots","_u","fn","proxy","model","callback","$$v","RFileView","r_file_view_normalizeComponent","find","material","fileConvertCount","Total","Info","$toast","components_RFilePreview","file-name","RFilePreview_Component","RFilePreview_normalizeComponent"],"mappings":"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","file":"static/js/4.384a3597182c44d4df38.js","sourcesContent":["<template>\r\n  <div id=\"CoursewareView\">\r\n    <head-top title=\"文件预览\"></head-top>\r\n    <r-file-preview :fileExt=\"fileExt\" :fileName=\"name\" :fileId=\"id\"></r-file-preview>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport RFilePreview from \"@/components/RFilePreview\";\r\nexport default {\r\n  name: \"\",\r\n  components: { RFilePreview },\r\n  props: {},\r\n  data() {\r\n    return {\r\n      id: this.$route.params.id,\r\n      fileExt: this.$route.params.fileExt,\r\n      name: this.$route.params.name,\r\n\r\n      dataList: [],\r\n      previewUrl: \"\",\r\n      loading: false,\r\n      diaologShow: false\r\n    };\r\n  }\r\n};\r\n</script>\r\n\r\n<style lang='less' scoped>\r\n#CoursewareView {\r\n  width: 100%;\r\n  height: 100%;\r\n}\r\n</style>\n\n\n// WEBPACK FOOTER //\n// src/pages/history/courseware/fileView.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{attrs:{\"id\":\"CoursewareView\"}},[_c('head-top',{attrs:{\"title\":\"文件预览\"}}),_vm._v(\" \"),_c('r-file-preview',{attrs:{\"fileExt\":_vm.fileExt,\"fileName\":_vm.name,\"fileId\":_vm.id}})],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-7a7b8a16\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/pages/history/courseware/fileView.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true,\\\"publicPath\\\":\\\"../../\\\"}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-7a7b8a16\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!less-loader?{\\\"sourceMap\\\":true}!../../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./fileView.vue\")\n}\nvar normalizeComponent = require(\"!../../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../../node_modules/vue-loader/lib/selector?type=script&index=0!./fileView.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../../node_modules/vue-loader/lib/selector?type=script&index=0!./fileView.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-7a7b8a16\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../../node_modules/vue-loader/lib/selector?type=template&index=0!./fileView.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-7a7b8a16\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/pages/history/courseware/fileView.vue\n// module id = null\n// module chunks = ","module.exports = \"data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBzdGFuZGFsb25lPSJubyI/PjwhRE9DVFlQRSBzdmcgUFVCTElDICItLy9XM0MvL0RURCBTVkcgMS4xLy9FTiIgImh0dHA6Ly93d3cudzMub3JnL0dyYXBoaWNzL1NWRy8xLjEvRFREL3N2ZzExLmR0ZCI+PHN2ZyB0PSIxNTY4MjgxNDU1MDQ1IiBjbGFzcz0iaWNvbiIgdmlld0JveD0iMCAwIDEwMjQgMTAyNCIgdmVyc2lvbj0iMS4xIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHAtaWQ9IjQzODMiIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiB3aWR0aD0iMjAwIiBoZWlnaHQ9IjIwMCI+PGRlZnM+PHN0eWxlIHR5cGU9InRleHQvY3NzIj48L3N0eWxlPjwvZGVmcz48cGF0aCBkPSJNNTEyIDEwMjRBNTEyIDUxMiAwIDEgMSA1MTIgMGE1MTIgNTEyIDAgMCAxIDAgMTAyNHpNMzgzLjIzMiAyODcuNjE2djQ0OGwzODQtMjIzLjEwNC0zODQtMjI0Ljg5NnoiIGZpbGw9InJnYmEoMjU1LCAyNTUsIDI1NSwwLjgpIiBwLWlkPSI0Mzg0Ij48L3BhdGg+PC9zdmc+\"\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/assets/video/content_btn_play.svg\n// module id = OfTL\n// module chunks = 2 4","module.exports = \"data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBzdGFuZGFsb25lPSJubyI/PjwhRE9DVFlQRSBzdmcgUFVCTElDICItLy9XM0MvL0RURCBTVkcgMS4xLy9FTiIgImh0dHA6Ly93d3cudzMub3JnL0dyYXBoaWNzL1NWRy8xLjEvRFREL3N2ZzExLmR0ZCI+PHN2ZyB0PSIxNTY4MjgxODY4MjQ5IiBjbGFzcz0iaWNvbiIgdmlld0JveD0iMCAwIDEwMjQgMTAyNCIgdmVyc2lvbj0iMS4xIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHAtaWQ9IjUwMjMiIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiB3aWR0aD0iMjAwIiBoZWlnaHQ9IjIwMCI+PGRlZnM+PHN0eWxlIHR5cGU9InRleHQvY3NzIj48L3N0eWxlPjwvZGVmcz48cGF0aCBkPSJNNTEyIDEwMjRBNTEyIDUxMiAwIDEgMSA1MTIgMGE1MTIgNTEyIDAgMCAxIDAgMTAyNHpNMzIwIDMyMHYzODRoMTI4VjMyMEgzMjB6IG0yNTYgMHYzODRoMTI4VjMyMEg1NzZ6IiBmaWxsPSJyZ2JhKDI1NSwgMjU1LCAyNTUsMC44KSIgcC1pZD0iNTAyNCI+PC9wYXRoPjwvc3ZnPg==\"\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/assets/video/content_btn_pause.svg\n// module id = aw7r\n// module chunks = 2 4","module.exports = \"data:image/png;base64,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\"\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/assets/video/video.png\n// module id = eQnu\n// module chunks = 2 4","module.exports = \"data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBzdGFuZGFsb25lPSJubyI/PjwhRE9DVFlQRSBzdmcgUFVCTElDICItLy9XM0MvL0RURCBTVkcgMS4xLy9FTiIgImh0dHA6Ly93d3cudzMub3JnL0dyYXBoaWNzL1NWRy8xLjEvRFREL3N2ZzExLmR0ZCI+PHN2ZyB0PSIxNTY4MjgyMDEzMjI4IiBjbGFzcz0iaWNvbiIgdmlld0JveD0iMCAwIDEwMjQgMTAyNCIgdmVyc2lvbj0iMS4xIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHAtaWQ9IjU4MjUiIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiB3aWR0aD0iMjAwIiBoZWlnaHQ9IjIwMCI+PGRlZnM+PHN0eWxlIHR5cGU9InRleHQvY3NzIj48L3N0eWxlPjwvZGVmcz48cGF0aCBkPSJNNTExLjUgNTE0bS00NDcgMGE0NDcgNDQ3IDAgMSAwIDg5NCAwIDQ0NyA0NDcgMCAxIDAtODk0IDBaIiBmaWxsPSIjZmZmIiBwLWlkPSI1ODI2Ij48L3BhdGg+PC9zdmc+\"\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/assets/video/content_ic_tutu.svg\n// module id = m1Wi\n// module chunks = 2 4","<template>\r\n  <div ref=\"img\" class=\"image-view\">\r\n    <img ref=\"image\" :src=\"file\" alt=\"\" width=\"100%\" style=\"object-fit: fill;\" @click=\"view\" />\r\n    <div v-if=\"loadFail\" @click.stop.prevent=\"init\">加载失败，点击重新加载</div>\r\n    <div class=\"remark\" v-if=\"indexShow && (loadFail || isLoad)\">{{ index}}</div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  name: \"imageView\",\r\n  props: {\r\n    fileId: {\r\n      type: String,\r\n      required: true\r\n    },\r\n    fileExt: {\r\n      type: String,\r\n      required: true\r\n    },\r\n    index: {\r\n      type: Number,\r\n      default: 1\r\n    },\r\n    fileTotal: {\r\n      type: Number,\r\n      default: 0\r\n    },\r\n    autoLoad: {\r\n      type: Boolean,\r\n      default: false\r\n    }\r\n  },\r\n  data() {\r\n    return {\r\n      isLoad: false,\r\n      loading: false,\r\n      loadFail: false,\r\n      file: null\r\n    };\r\n  },\r\n  computed: {\r\n    indexShow() {\r\n      return [\"bmp\", \"gif\", \"jpg\", \"png\", \"ico\"].indexOf(this.fileExt) === -1;\r\n    }\r\n  },\r\n  mounted() {\r\n    if (this.autoLoad) this.init();\r\n  },\r\n  methods: {\r\n    init() {\r\n      if (this.loading || this.isLoad) return;\r\n      this.loading = true;\r\n      this.$mainHttp.common\r\n        .viewFile({\r\n          mid: this.fileId,\r\n          suffix: this.fileExt,\r\n          index: this.index\r\n        })\r\n        .then(res => {\r\n          let byteArray = new Uint8Array(res);\r\n          let binary = \"\";\r\n          for (let i = 0; i < byteArray.byteLength; i++) {\r\n            binary += String.fromCharCode(byteArray[i]);\r\n          }\r\n          switch (this.fileExt) {\r\n            case \"png\":\r\n              this.file = \"data:image/png;base64,\" + window.btoa(binary);\r\n              break;\r\n            case \"gif\":\r\n              this.file = \"data:image/gif;base64,\" + window.btoa(binary);\r\n              break;\r\n            case \"x-icon\":\r\n              this.file = \"data:image/x-icon;base64,\" + window.btoa(binary);\r\n              break;\r\n            default:\r\n              this.file = \"data:image/jpeg;base64,\" + window.btoa(binary);\r\n              break;\r\n          }\r\n          this.loading = false;\r\n          this.isLoad = true;\r\n          setTimeout(() => {\r\n            if (!this.loadFail) this.$emit(\"finish\", this.index);\r\n          });\r\n        })\r\n        .catch(() => {\r\n          this.loading = false;\r\n          if (!this.loadFail) this.$emit(\"finish\", this.index);\r\n          this.loadFail = true;\r\n        });\r\n    },\r\n    view() {\r\n      if (!this.loadFail) {\r\n        this.$emit(\"preview\", this.file);\r\n      }\r\n    }\r\n  }\r\n};\r\n</script>\r\n\r\n<style lang=\"less\" scoped>\r\n@import url(\"./../../styles/common/base.less\");\r\n.image-view {\r\n  width: 100%;\r\n  position: relative;\r\n\r\n  .remark {\r\n    position: absolute;\r\n    top: 0;\r\n    right: 0;\r\n    padding: 0 5px;\r\n    background-color: rgba(0, 0, 0, 0.3);\r\n    color: #fff;\r\n    font-size: @font-info * 0.8;\r\n  }\r\n}\r\n</style>\r\n\n\n\n// WEBPACK FOOTER //\n// src/components/r-file-view/ImageView.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{ref:\"img\",staticClass:\"image-view\"},[_c('img',{ref:\"image\",staticStyle:{\"object-fit\":\"fill\"},attrs:{\"src\":_vm.file,\"alt\":\"\",\"width\":\"100%\"},on:{\"click\":_vm.view}}),_vm._v(\" \"),(_vm.loadFail)?_c('div',{on:{\"click\":function($event){$event.stopPropagation();$event.preventDefault();return _vm.init($event)}}},[_vm._v(\"加载失败，点击重新加载\")]):_vm._e(),_vm._v(\" \"),(_vm.indexShow && (_vm.loadFail || _vm.isLoad))?_c('div',{staticClass:\"remark\"},[_vm._v(_vm._s(_vm.index))]):_vm._e()])}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-4b00d5f3\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/r-file-view/ImageView.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true,\\\"publicPath\\\":\\\"../../\\\"}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-4b00d5f3\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!less-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./ImageView.vue\")\n}\nvar normalizeComponent = require(\"!../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./ImageView.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./ImageView.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-4b00d5f3\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../node_modules/vue-loader/lib/selector?type=template&index=0!./ImageView.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-4b00d5f3\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/r-file-view/ImageView.vue\n// module id = null\n// module chunks = ","<template>\n  <div class=\"r-video\">\n    <!-- 播放器界面; 兼容ios  controls-->\n    <video ref=\"video\" v-if=\"showVideo\" webkit-playsinline=\"true\" playsinline=\"true\"\n           x-webkit-airplay=\"true\" x5-video-player-type=\"h5\" x5-video-player-fullscreen=\"true\"\n           x5-video-orientation=\"landscape\" style=\"object-fit:fill\" controlslist=\"nodownload\"\n           preload=\"false\" :poster=\"mediaPoster\" :src=\"mediaSrc\" @waiting=\"handleWaiting\"\n           @canplaythrough=\"state.isLoading = false\"\n           @playing=\"state.isLoading = false, state.controlBtnShow = false, state.playing=true\"\n           @stalled=\"state.isLoading = true\" @error=\"handleError\">\n      您的浏览器不支持HTML5\n    </video>\n    <!--\n  object-fit: fill   视频内容充满整个video容器\n  poster:\"img.jpg\" 视频封面\n  autoplay： 自动播放\n     auto - 当页面加载后载入整个视频\n     meta - 当页面加载后只载入元数据\n     none - 当页面加载后不载入视频\n\n  muted：当设置该属性后，它规定视频的音频输出应该被静音\n  webkit-playsinline playsinline:   内联播放\n  x5-video-player-type=\"h5\" :  启用x5内核H5播放器\n  x5-video-player-fullscreen=\"true\"  全屏设置。ture和false的设置会导致布局上的不一样\n  x5-video-orientation=\"portraint\" ：声明播放器支持的方向，可选值landscape 横屏,portraint竖屏。\n                                     默认值portraint。无论是直播还是全屏H5一般都是竖屏播放，\n                                     但是这个属性需要x5-video-player-type开启H5模式\n    -->\n    <!-- 兼容Android端层级问题, 弹出层被覆盖 -->\n    <img v-show=\"!showVideo || state.isEnd\" class=\"poster\" :src=\"mediaPoster\" :onerror=\"`onerror=null;src='${defaultPost}'`\" alt/>\n    <!--    :onerror=\"`onerror=null;src='${defaultPost}'`\"-->\n    <!-- 控制窗口 -->\n    <div class=\"control\" v-show=\"!state.isError\" ref=\"control\" @touchstart=\"touchEnterVideo\"\n         @touchend=\"touchLeaveVideo\">\n      <!-- 播放 || 暂停 || 加载中-->\n      <div class=\"play\" @touchstart.stop=\"clickPlayBtn\" v-show=\"state.controlBtnShow\">\n        <img v-show=\"!state.playing && !state.isLoading\"\n             src=\"./../../assets/video/content_btn_play.svg\" alt=\"\"/>\n        <img v-show=\"state.playing  && !state.isLoading\"\n             src=\"./../../assets/video/content_btn_pause.svg\" alt=\"\"/>\n        <div class=\"loader\" v-show=\"state.isLoading\">\n          <div class=\"loader-inner ball-clip-rotate\">\n            <div></div>\n          </div>\n        </div>\n      </div>\n      <!-- 控制条 -->\n      <!-- <div class=\"control-bar\" v-show=\"state.controlBarShow\"> -->\n      <div class=\"control-bar\" :style=\"{ visibility: state.controlBarShow ? 'visible' : 'hidden'}\">\n        <span class=\"time\">{{video.displayTime}}</span>\n        <span class=\"progress\" ref=\"progress\">\n          <img class=\"progress-btn ignore\"\n               :style=\"{transform: `translate3d(${video.progress.current}px, 0, 0)`}\"\n               src=\"./../../assets/video/content_ic_tutu.svg\" alt=\"\"/>\n          <span class=\"progress-loaded\" :style=\"{ width: `${video.loaded}%`}\"></span>\n          <!-- 设置手动移动的进度条 -->\n          <span class=\"progress-move\" @touchmove.stop.prevent=\"moveIng($event)\"\n                @touchstart.stop=\"moveStart($event)\" @touchend.stop=\"moveEnd($event)\"></span>\n        </span>\n\n        <span class=\"total-time\">{{video.totalTime}}</span>\n        <span class=\"full-screen\" @click=\"fullScreen\">\n          <img src=\"./../../assets/video/content_ic_increase.svg\" alt/>\n        </span>\n      </div>\n    </div>\n    <!-- 错误弹窗 -->\n    <div class=\"error\" v-show=\"state.isError\">\n      <p class=\"lose\">视频加载失败</p>\n      <p class=\"retry\" @click=\"retry\">点击重试</p>\n    </div>\n  </div>\n</template>\n<script>\nimport { throttle } from \"@/utils/tool\";\n\nconst pad = val => {\n  val = Math.floor(val);\n  if (val < 10) {\n    return \"0\" + val;\n  }\n  return val + \"\";\n};\nconst timeParse = sec => {\n  let min = 0;\n  min = Math.floor(sec / 60);\n  sec = sec - min * 60;\n  return pad(min) + \":\" + pad(sec);\n};\n\nexport default {\n  name: \"r-video\",\n  props: {\n    src: {\n      type: String,\n      required: true\n    },\n    poster: {\n      type: String,\n      default: \"\"\n    },\n    showVideo: {\n      // 兼容android弹出层\n      type: Boolean,\n      default: true\n    },\n    autoPlay: {\n      type: Boolean,\n      default: true\n    }\n  },\n  data () {\n    return {\n      defaultPost: require(\"@/assets/video/videopost.png\"),\n      mediaSrc: \"\",\n      mediaPoster: \"\",\n      // video元素\n      $video: null,\n      // 视频容器元素\n      player: {\n        $player: null,\n        pos: null\n      },\n      // progress进度条元素\n      progressBar: {\n        $progress: null, // 进度条DOM对象\n        pos: null\n      },\n      // video控制显示设置\n      video: {\n        loaded: 0, // 缓存长度\n        displayTime: \"00:00\", // 进度时间\n        totalTime: \"00:00\", // 总时间\n        progress: {\n          width: 0, // 进度条长度\n          current: 0 // 进度条当前位置\n        }\n      },\n      // 定时器\n      hideTimer: null,\n      // 播放状态控制\n      state: {\n        controlBtnShow: true, // 播放按钮\n        controlBarShow: false, // 控制条\n        fullScreen: false,\n        playing: false,\n        isLoading: false,\n        isEnd: false,\n        isError: false\n      },\n      // 首次触摸\n      isFirstTouch: true,\n      // 暂停状态触摸\n      isPauseTouch: false\n    };\n  },\n  mounted () {\n    this.$nextTick(() => {\n      // if (this.autoPlay)\n      this.init();\n    });\n  },\n  methods: {\n    init () {\n      this.mediaSrc = this.src;\n      this.mediaPoster = this.poster;\n      // 初始化video,获取video元素\n      this.$video = this.$el.getElementsByTagName(\"video\")[0];\n      this.initPlayer();\n    },\n    // 带参数初始化，防止参数没获取到\n    initParam (src, poster) {\n      this.mediaSrc = src;\n      this.mediaPoster = poster;\n      this.state.isError = false;\n      this.$video = this.$el.getElementsByTagName(\"video\")[0];\n      this.initPlayer();\n    },\n    // 初始化播放器容器, 获取video-player元素\n    // getBoundingClientRect()以client可视区的左上角为基点进行位置计算\n    initPlayer () {\n      const $player = this.$el;\n      const $progress = this.$el.getElementsByClassName(\"progress\")[0];\n      // 播放器位置\n      this.player.$player = $player;\n      this.progressBar.$progress = $progress;\n      this.player.pos = $player.getBoundingClientRect();\n      this.progressBar.pos = $progress.getBoundingClientRect();\n      this.video.progress.width = Math.round(\n        $progress.getBoundingClientRect().width\n      );\n    },\n    // 点击播放 & 暂停按钮\n    clickPlayBtn () {\n      if (this.state.isLoading) return;\n      this.initPlayer();\n      this.isFirstTouch = false;\n      this.state.playing = !this.state.playing;\n      this.state.isEnd = false;\n      if (this.$video) {\n        // 播放状态\n        if (this.state.playing) {\n          try {\n            this.$video.play();\n            this.$emit(\"selectChange\");\n            this.isPauseTouch = false;\n            // 监听缓存进度\n            this.$video.addEventListener(\"progress\", e => {\n              this.getLoadTime();\n            });\n            // 监听播放进度\n            this.$video.addEventListener(\"timeupdate\", throttle(this.getPlayTime, 100, 1));\n            // 监听结束\n            this.$video.addEventListener(\"ended\", e => {\n              // 重置状态\n              this.state.playing = false;\n              this.state.isEnd = true;\n              this.state.controlBtnShow = true;\n              this.video.displayTime = \"00:00\";\n              this.video.progress.current = 0;\n              this.$video.currentTime = 0;\n              // this.mediaSrc = this.mediaSrc;\n            });\n          } catch (e) {\n            // 捕获url异常出现的错误\n          }\n        } else {\n          // 停止状态\n          this.isPauseTouch = true;\n          this.$video.pause();\n        }\n      }\n    },\n\n    stopPlay () {\n      // this.state.isEnd = true;\n      // this.isFirstTouch = true;\n\n      this.$video.load();\n      this.state.playing = false;\n      this.init();\n    },\n    // 触碰播放区\n    touchEnterVideo () {\n      if (this.isFirstTouch) return;\n      if (this.hideTimer) {\n        clearTimeout(this.hideTimer);\n        this.hideTimer = null;\n      }\n      this.state.controlBtnShow = true;\n      this.state.controlBarShow = true;\n    },\n    // 离开播放区\n    touchLeaveVideo () {\n      if (this.isFirstTouch) return;\n      if (this.hideTimer) {\n        clearTimeout(this.hideTimer);\n      }\n      // 暂停触摸, 不隐藏\n      if (this.isPauseTouch) {\n        this.state.controlBtnShow = true;\n        this.state.controlBarShow = true;\n      } else {\n        this.hideTimer = setTimeout(() => {\n          this.state.controlBarShow = false;\n          // 加载中只显示loading\n          if (this.state.isLoading) {\n            this.state.controlBtnShow = true;\n          } else {\n            this.state.controlBtnShow = false;\n          }\n          this.hideTimer = null;\n        }, 3000);\n      }\n    },\n    // 等待数据加载\n    handleWaiting () {\n      this.state.controlBtnShow = true;\n      this.state.isLoading = true;\n    },\n    // 数据加载出错\n    handleError () {\n      // console.log(this.mediaSrc, e);\n      if (this.mediaSrc) this.state.isError = true;\n    },\n    // 点击重新加载\n    retry () {\n      this.state.isError = false;\n      this.$video.load();\n      // this.init();\n    },\n    // 获取播放时间\n    getPlayTime () {\n      const percent = this.$video.currentTime / this.$video.duration;\n      this.video.progress.current = Math.round(\n        this.video.progress.width * percent\n      );\n      // this.state.isError = false;\n      // console.log(percent, this.video.progress.width)\n      // 赋值时长\n      this.video.totalTime = timeParse(this.$video.duration);\n      this.video.displayTime = timeParse(this.$video.currentTime);\n    },\n    // 获取缓存时间\n    getLoadTime () {\n      // console.log('缓存了...',this.$video.buffered.end(0));\n      this.video.loaded =\n        (this.$video.buffered.end(0) / this.$video.duration) * 100;\n    },\n    // 手动调节播放进度\n    moveStart (e) {\n    },\n    moveIng (e) {\n      // console.log(\"触摸中...\");\n      let currentX = e.targetTouches[0].pageX;\n      let offsetX = currentX - this.progressBar.pos.left;\n      // 边界检测\n      if (offsetX <= 0) {\n        offsetX = 0;\n      }\n      if (offsetX >= this.video.progress.width) {\n        offsetX = this.video.progress.width;\n      }\n      this.video.progress.current = offsetX;\n\n      let percent = this.video.progress.current / this.video.progress.width;\n      this.$video.duration && this.setPlayTime(percent, this.$video.duration);\n    },\n    moveEnd (e) {\n      // console.log(\"触摸结束...\");\n      let currentX = e.changedTouches[0].pageX;\n      let offsetX = currentX - this.progressBar.pos.left;\n      this.video.progress.current = offsetX;\n      // 这里的offsetX都是正数\n      let percent = offsetX / this.video.progress.width;\n      this.$video.duration && this.setPlayTime(percent, this.$video.duration);\n    },\n    // 设置手动播放时间\n    setPlayTime (percent, totalTime) {\n      this.$video.currentTime = Math.floor(percent * totalTime);\n    },\n    // 设置全屏\n    fullScreen () {\n      console.log(\"点击全屏...\");\n      if (!this.state.fullScreen) {\n        this.state.fullScreen = true;\n        this.$video.webkitRequestFullScreen();\n      } else {\n        this.state.fullScreen = false;\n        document.webkitCancelFullScreen();\n      }\n    }\n  },\n  beforeDestroy () {\n  }\n};\n</script>\n\n\n\n// WEBPACK FOOTER //\n// src/components/r-video/r-video.vue","// 获取浏览器语言\r\nexport const getLanguage = () => {\r\n  return (navigator.browserLanguage || navigator.language).toLowerCase();\r\n};\r\n\r\n/**\r\n * @desc 函数防抖\r\n * @param func 函数\r\n * @param wait 延迟执行毫秒数\r\n * @param immediate true 表立即执行，false 表非立即执行\r\n */\r\nexport const debounce = (func, wait, immediate) => {\r\n  let timeout;\r\n  return function() {\r\n    let context = this;\r\n    let args = arguments;\r\n\r\n    if (timeout) clearTimeout(timeout);\r\n    if (immediate) {\r\n      let callNow = !timeout;\r\n      timeout = setTimeout(() => {\r\n        timeout = null;\r\n      }, wait);\r\n      if (callNow) func.apply(context, args);\r\n    } else {\r\n      timeout = setTimeout(() => {\r\n        func.apply(context, args);\r\n      }, wait);\r\n    }\r\n  };\r\n};\r\n\r\n/**\r\n * @desc 函数节流\r\n * @param func 函数\r\n * @param wait 延迟执行毫秒数\r\n * @param type 1 表时间戳版，2 表定时器版\r\n */\r\nexport const throttle = (func, wait, type) => {\r\n  if (type === 1) {\r\n    var previous = 0;\r\n  } else if (type === 2) {\r\n    var timeout;\r\n  }\r\n  return function() {\r\n    let context = this;\r\n    let args = arguments;\r\n    if (type === 1) {\r\n      let now = Date.now();\r\n\r\n      if (now - previous > wait) {\r\n        func.apply(context, args);\r\n        previous = now;\r\n      }\r\n    } else if (type === 2) {\r\n      if (!timeout) {\r\n        timeout = setTimeout(() => {\r\n          timeout = null;\r\n          func.apply(context, args);\r\n        }, wait);\r\n      }\r\n    }\r\n  };\r\n};\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/utils/tool.js","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"r-video\"},[(_vm.showVideo)?_c('video',{ref:\"video\",staticStyle:{\"object-fit\":\"fill\"},attrs:{\"webkit-playsinline\":\"true\",\"playsinline\":\"true\",\"x-webkit-airplay\":\"true\",\"x5-video-player-type\":\"h5\",\"x5-video-player-fullscreen\":\"true\",\"x5-video-orientation\":\"landscape\",\"controlslist\":\"nodownload\",\"preload\":\"false\",\"poster\":_vm.mediaPoster,\"src\":_vm.mediaSrc},on:{\"waiting\":_vm.handleWaiting,\"canplaythrough\":function($event){_vm.state.isLoading = false},\"playing\":function($event){_vm.state.isLoading = false, _vm.state.controlBtnShow = false, _vm.state.playing=true},\"stalled\":function($event){_vm.state.isLoading = true},\"error\":_vm.handleError}},[_vm._v(\"\\n    您的浏览器不支持HTML5\\n  \")]):_vm._e(),_vm._v(\" \"),_c('img',{directives:[{name:\"show\",rawName:\"v-show\",value:(!_vm.showVideo || _vm.state.isEnd),expression:\"!showVideo || state.isEnd\"}],staticClass:\"poster\",attrs:{\"src\":_vm.mediaPoster,\"onerror\":(\"onerror=null;src='\" + _vm.defaultPost + \"'\"),\"alt\":\"\"}}),_vm._v(\" \"),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(!_vm.state.isError),expression:\"!state.isError\"}],ref:\"control\",staticClass:\"control\",on:{\"touchstart\":_vm.touchEnterVideo,\"touchend\":_vm.touchLeaveVideo}},[_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.state.controlBtnShow),expression:\"state.controlBtnShow\"}],staticClass:\"play\",on:{\"touchstart\":function($event){$event.stopPropagation();return _vm.clickPlayBtn($event)}}},[_c('img',{directives:[{name:\"show\",rawName:\"v-show\",value:(!_vm.state.playing && !_vm.state.isLoading),expression:\"!state.playing && !state.isLoading\"}],attrs:{\"src\":require(\"./../../assets/video/content_btn_play.svg\"),\"alt\":\"\"}}),_vm._v(\" \"),_c('img',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.state.playing  && !_vm.state.isLoading),expression:\"state.playing  && !state.isLoading\"}],attrs:{\"src\":require(\"./../../assets/video/content_btn_pause.svg\"),\"alt\":\"\"}}),_vm._v(\" \"),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.state.isLoading),expression:\"state.isLoading\"}],staticClass:\"loader\"},[_vm._m(0)])]),_vm._v(\" \"),_c('div',{staticClass:\"control-bar\",style:({ visibility: _vm.state.controlBarShow ? 'visible' : 'hidden'})},[_c('span',{staticClass:\"time\"},[_vm._v(_vm._s(_vm.video.displayTime))]),_vm._v(\" \"),_c('span',{ref:\"progress\",staticClass:\"progress\"},[_c('img',{staticClass:\"progress-btn ignore\",style:({transform: (\"translate3d(\" + (_vm.video.progress.current) + \"px, 0, 0)\")}),attrs:{\"src\":require(\"./../../assets/video/content_ic_tutu.svg\"),\"alt\":\"\"}}),_vm._v(\" \"),_c('span',{staticClass:\"progress-loaded\",style:({ width: ((_vm.video.loaded) + \"%\")})}),_vm._v(\" \"),_c('span',{staticClass:\"progress-move\",on:{\"touchmove\":function($event){$event.stopPropagation();$event.preventDefault();return _vm.moveIng($event)},\"touchstart\":function($event){$event.stopPropagation();return _vm.moveStart($event)},\"touchend\":function($event){$event.stopPropagation();return _vm.moveEnd($event)}}})]),_vm._v(\" \"),_c('span',{staticClass:\"total-time\"},[_vm._v(_vm._s(_vm.video.totalTime))]),_vm._v(\" \"),_c('span',{staticClass:\"full-screen\",on:{\"click\":_vm.fullScreen}},[_c('img',{attrs:{\"src\":require(\"./../../assets/video/content_ic_increase.svg\"),\"alt\":\"\"}})])])]),_vm._v(\" \"),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.state.isError),expression:\"state.isError\"}],staticClass:\"error\"},[_c('p',{staticClass:\"lose\"},[_vm._v(\"视频加载失败\")]),_vm._v(\" \"),_c('p',{staticClass:\"retry\",on:{\"click\":_vm.retry}},[_vm._v(\"点击重试\")])])])}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"loader-inner ball-clip-rotate\"},[_c('div')])}]\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-eb174a58\",\"hasScoped\":false,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/r-video/r-video.vue\n// module id = null\n// module chunks = ","import Video from './r-video.vue';\r\nexport default Video;\n\n\n// WEBPACK FOOTER //\n// ./src/components/r-video/index.js","var normalizeComponent = require(\"!../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./r-video.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./r-video.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-eb174a58\\\",\\\"hasScoped\\\":false,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../node_modules/vue-loader/lib/selector?type=template&index=0!./r-video.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = null\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/r-video/r-video.vue\n// module id = null\n// module chunks = ","<template>\r\n  <div ref=\"img\" class=\"video-view\">\r\n    <t-video :src=\"mediaSrc\" :poster=\"mediaPoster\"></t-video>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport tVideo from \"@/components/r-video\";\r\nimport defaultBg from \"@/assets/video/video.png\";\r\n\r\nexport default {\r\n  name: \"VideoView\",\r\n  components: { tVideo },\r\n  props: {\r\n    fileId: {\r\n      type: String,\r\n      required: true\r\n    }\r\n  },\r\n  data() {\r\n    return {\r\n      mediaPoster: defaultBg,\r\n\r\n      isLoad: false,\r\n      loading: false,\r\n      loadFail: false,\r\n      file: null\r\n    };\r\n  },\r\n  computed: {\r\n    mediaSrc() {\r\n      return this.$mainHttp.common.file(this.fileId);\r\n    }\r\n  },\r\n  mounted() {},\r\n  methods: {}\r\n};\r\n</script>\r\n\r\n<style lang=\"less\" scoped>\r\n.video-view {\r\n  background-color: #000;\r\n}\r\n</style>\r\n\n\n\n// WEBPACK FOOTER //\n// src/components/r-file-view/VideoView.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{ref:\"img\",staticClass:\"video-view\"},[_c('t-video',{attrs:{\"src\":_vm.mediaSrc,\"poster\":_vm.mediaPoster}})],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-224ea6e9\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/r-file-view/VideoView.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true,\\\"publicPath\\\":\\\"../../\\\"}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-224ea6e9\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!less-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./VideoView.vue\")\n}\nvar normalizeComponent = require(\"!../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./VideoView.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./VideoView.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-224ea6e9\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../node_modules/vue-loader/lib/selector?type=template&index=0!./VideoView.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-224ea6e9\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/r-file-view/VideoView.vue\n// module id = null\n// module chunks = ","<template>\r\n  <div ref=\"main\" id=\"file-preview\" class=\"file-preview\" @scroll=\"lazyLoad\">\r\n    <div ref=\"head\" class=\"head-sticky\">\r\n      <span v-if=\"fileExt !== 'txt' && fileExt !== 'mp4'\">{{fileTotal}}-{{active}}</span>\r\n    </div>\r\n    <div class=\"file-main\">\r\n      <div v-if=\"fileExt === 'txt'\" class=\"file-txt\">\r\n        <h2>{{fullName}}</h2>\r\n        <p>\r\n          {{txtContent}}\r\n        </p>\r\n      </div>\r\n      <!-- <div v-else-if=\"fileExt === 'mp4'\">\r\n        <video-view :file-id=\"fileId\"></video-view>\r\n        <h2>{{fullName}}</h2>\r\n      </div> -->\r\n      <div v-else-if=\"canOpenFileExt.indexOf(fileExt) > -1 \" ref=\"content\">\r\n        <image-view :file-id=\"fileId\" :file-ext=\"fileExt\" :file-total=\"1\" :index=\"1\" auto-load\r\n          @preview=\"imageView\" />\r\n        <h2>{{fullName}}</h2>\r\n      </div>\r\n      <div v-else ref=\"content\">\r\n        <h2>{{fullName}}</h2>\r\n        <image-view class=\"lazy\" :ref=\"'img'+ index\" v-for=\"index in viewTotal\" :key=\"index\"\r\n          :file-id=\"fileId\" :file-ext=\"fileExt\" :file-total=\"fileTotal\" :index=\"index\"\r\n          @finish=\"handleFinish\" @preview=\"toView(index)\" />\r\n\r\n        <van-image-preview v-model=\"viewShow\" :start-position=\"startIndex\" :images=\"viewImages\"\r\n          :loop=\"false\" @change=\"onChange\">\r\n          <template v-slot:index>第{{ viewIndex }}页，共{{fileTotal}}页</template>\r\n        </van-image-preview>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { ImagePreview } from \"vant\";\r\n\r\nimport ImageView from \"./ImageView\";\r\nimport VideoView from \"./VideoView\";\r\n\r\n// import PinchZoom from \"pinch-zoom-js\";\r\nexport default {\r\n  name: \"r-file-view\",\r\n  components: {\r\n    ImageView,\r\n    VideoView,\r\n    [ImagePreview.Component.name]: ImagePreview.Component\r\n  },\r\n  props: {\r\n    fileId: {\r\n      type: String,\r\n      required: true\r\n    },\r\n    fileName: {\r\n      type: String,\r\n      required: true\r\n    },\r\n    fileExt: {\r\n      type: String,\r\n      required: true\r\n    },\r\n    fileTotal: {\r\n      type: Number,\r\n      default: 0\r\n    }\r\n  },\r\n  data() {\r\n    return {\r\n      canOpenFileExt: [\"txt\", \"bmp\", \"gif\", \"jpg\", \"png\", \"ico\"], //, \"mp4\"\r\n      txtContent: \"\",\r\n      loadIndex: 1,\r\n      finishedHeight: 0, // 加载完图片的高度\r\n      canLoad: true, // 可否继续加载\r\n      active: 1,\r\n\r\n      // stickyHeight: 0,\r\n      // stickyWidth: 0,\r\n      // stickyLeft: 0,\r\n      // stickyStyle: {},\r\n      // isSticky: false,\r\n\r\n      viewTotal: 1,\r\n      allFinished: false,\r\n\r\n      // 多张图片预览形式\r\n      startIndex: 0,\r\n      viewIndex: 1,\r\n      viewShow: false,\r\n      viewImages: []\r\n    };\r\n  },\r\n  computed: {\r\n    fullName() {\r\n      return this.fileName + \".\" + this.fileExt;\r\n    }\r\n  },\r\n  mounted() {\r\n    // this.stickyHeight = this.$refs[\"head\"].offsetTop;\r\n    // this.stickyWidth = this.$refs[\"head\"].clientWidth;\r\n    // this.stickyLeft = this.$refs[\"head\"].offsetLeft;\r\n  },\r\n  methods: {\r\n    load() {\r\n      this.init();\r\n      // 滚屏函数\r\n      window.addEventListener(\"scroll\", this.lazyLoad);\r\n      const divDom = document.getElementById(\"file-preview\");\r\n      if (divDom) divDom.addEventListener(\"scroll\", this.lazyLoad);\r\n    },\r\n    init() {\r\n      if (this.fileExt === \"txt\") {\r\n        this.$mainHttp.common\r\n          .viewTxt({\r\n            mid: this.fileId\r\n          })\r\n          .then(res => {\r\n            if (res.Result) {\r\n              this.txtContent = res.Data;\r\n            } else {\r\n              this.txtContent = \"加载失败\";\r\n            }\r\n          })\r\n          .catch(() => {\r\n            this.txtContent = \"加载异常\";\r\n          });\r\n      } else if (\r\n        this.canOpenFileExt.findIndex(r => r === this.fileExt) === -1\r\n      ) {\r\n        this.active = 0;\r\n        // this.viewImages.length = this.fileTotal;\r\n        this.viewImages = []; //\r\n        for (let i = 0; i < this.fileTotal; i++) {\r\n          this.viewImages.push(\"\");\r\n        }\r\n        this.$nextTick(() => {\r\n          this.lazyLoad();\r\n\r\n          // const el = this.$refs[\"content\"];\r\n          // new PinchZoom(el, {\r\n          //   draggableUnzoomed: false,\r\n          //   minZoom: 1,\r\n          //   onZoomStart: function(object, event) {\r\n          //     // Do something on zoom start\r\n          //     // You can use any Pinchzoom method by calling object.method()\r\n          //   },\r\n          //   onZoomEnd: function(object, event) {\r\n          //     // Do something on zoom end\r\n          //   }\r\n          // });\r\n        });\r\n      }\r\n    },\r\n    lazyLoad() {\r\n      if (\r\n        this.fileTotal < 1 ||\r\n        this.canOpenFileExt.indexOf(this.fileExt) > -1\r\n      ) {\r\n        return;\r\n      }\r\n      this.scrollPage();\r\n      if (!this.allFinished) {\r\n        setTimeout(() => {\r\n          this.loadImage(this.loadIndex);\r\n        }, 200);\r\n      }\r\n    },\r\n    // 加载页码\r\n    scrollPage() {\r\n      // 获取所有锚点元素\r\n      const navContents = document.querySelectorAll(\".lazy\");\r\n      // 所有锚点元素的 offsetTop\r\n      const offsetTopArr = [];\r\n      navContents.forEach(item => {\r\n        offsetTopArr.push(item.offsetTop);\r\n      });\r\n      // 获取当前文档流的 scrollTop\r\n      const scrollTop =\r\n        document.documentElement.scrollTop || document.body.scrollTop;\r\n      const divDom = document.getElementById(\"file-preview\");\r\n      const divScrollTop = divDom.scrollTop;\r\n\r\n      // 定义当前点亮的导航下标\r\n      let navIndex = 0;\r\n      for (let n = 0; n < offsetTopArr.length; n++) {\r\n        // 如果 scrollTop 大于等于第 n 个元素的 offsetTop 则说明 n-1 的内容已经完全不可见\r\n        // 那么此时导航索引就应该是 n 了\r\n        if (scrollTop >= offsetTopArr[n] && scrollTop > 0) {\r\n          navIndex = n + 1;\r\n        } else if (divScrollTop >= offsetTopArr[n] && divScrollTop > 0) {\r\n          navIndex = n + 1;\r\n        } else {\r\n          break;\r\n        }\r\n      }\r\n      // 把下标赋值给 vue 的 data\r\n      this.active = navIndex >= this.fileTotal ? this.fileTotal : navIndex + 1;\r\n    },\r\n    loadImage(index) {\r\n      if (index > this.fileTotal) return;\r\n      let imgDiv = this.$refs[\"img\" + index][0] || this.$refs[\"img\" + index];\r\n      if (!imgDiv) return;\r\n      if (!this.canLoad) return;\r\n\r\n      if (!imgDiv.isLoad) {\r\n        // 可视区域高度\r\n        const h = window.innerHeight;\r\n        // 滚动区域高度\r\n        const s = document.documentElement.scrollTop || document.body.scrollTop;\r\n        const scrollTop = document.getElementById(\"file-preview\").scrollTop;\r\n\r\n        const navContents = document.querySelectorAll(\".lazy\");\r\n        const finishedHeight =\r\n          navContents.length > 0\r\n            ? navContents[navContents.length - 1].offsetTop\r\n            : 0;\r\n        // console.log(index + \":\", h, s, scrollTop, this.finishedHeight, finishedHeight)\r\n        const outHeight =\r\n          h + s + h / 2 >= this.finishedHeight ||\r\n          h + s + h / 2 >= finishedHeight;\r\n        const domOut =\r\n          h + scrollTop + h / 2 >= this.finishedHeight ||\r\n          h + scrollTop + h / 2 >= finishedHeight;\r\n        // console.log(outHeight, domOut);\r\n        if (outHeight || domOut) {\r\n          this.viewTotal++;\r\n          this.canLoad = false;\r\n\r\n          imgDiv.init();\r\n          if (index >= this.fileTotal) {\r\n            this.allFinished = true;\r\n          }\r\n        }\r\n      }\r\n    },\r\n    handleFinish(index) {\r\n      this.loadIndex++;\r\n      this.canLoad = true;\r\n      let offsetHeight = this.$refs[\"img\" + index][0].$el.offsetHeight;\r\n      this.finishedHeight += offsetHeight;\r\n      this.viewImages.splice(index - 1, 1, this.$refs[\"img\" + index][0].file);\r\n      this.lazyLoad();\r\n    },\r\n    // 单图预览\r\n    imageView(imageSrc) {\r\n      this.imagePreview = ImagePreview({\r\n        images: [imageSrc],\r\n        showIndex: false,\r\n        onClose() {}\r\n      });\r\n    },\r\n    // 开启多图预览\r\n    toView(index) {\r\n      this.startIndex = index - 1;\r\n      this.onChange(index - 1);\r\n      this.viewShow = true;\r\n    },\r\n    // 切换下一张图，暂不允许倒叙看（从末尾看起需优化）\r\n    onChange(index) {\r\n      const lastIndex = this.viewIndex;\r\n      this.viewIndex = index + 1;\r\n      // 下一张\r\n      if (index === lastIndex) {\r\n        const nextIndex = this.viewIndex + 1;\r\n        if (!this.viewImages[nextIndex] && nextIndex <= this.fileTotal) {\r\n          const imgDiv =\r\n            this.$refs[\"img\" + nextIndex][0] || this.$refs[\"img\" + nextIndex];\r\n          this.viewTotal++;\r\n          this.canLoad = false;\r\n\r\n          imgDiv.init();\r\n          if (index >= this.fileTotal) {\r\n            this.allFinished = true;\r\n          }\r\n        }\r\n      } else {\r\n        // 上一张\r\n      }\r\n    }\r\n  },\r\n  watch: {\r\n    fileTotal: {\r\n      immediate: true,\r\n      handler() {\r\n        this.load();\r\n      }\r\n    }\r\n  },\r\n  beforeDestroy() {\r\n    window.removeEventListener(\"scroll\", this.lazyLoad);\r\n    const divDom = document.getElementById(\"file-preview\");\r\n    if (divDom) divDom.removeEventListener(\"scroll\", this.lazyLoad);\r\n\r\n    if (this.imagePreview) this.imagePreview.close();\r\n  }\r\n};\r\n</script>\r\n\r\n<style lang=\"less\" scoped>\r\n@import url(\"./../../styles/common/base.less\");\r\n.file-preview {\r\n  overflow-y: auto;\r\n\r\n  .head-sticky {\r\n    position: fixed;\r\n    top: 0;\r\n    right: 16px;\r\n    z-index: 999;\r\n    font-size: @font-title;\r\n    line-height: 44px;\r\n    color: #fff;\r\n  }\r\n\r\n  .file-main {\r\n    min-height: calc(100vh - 45px);\r\n    word-break: break-all;\r\n    h2 {\r\n      padding: 2vw 0;\r\n      font-size: @font-title;\r\n    }\r\n    .file-txt {\r\n      padding: 10px 16px;\r\n      font-size: @font-title;\r\n      text-align: left;\r\n      line-height: 1.5;\r\n    }\r\n  }\r\n}\r\n</style>\r\n\n\n\n// WEBPACK FOOTER //\n// src/components/r-file-view/r-file-view.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{ref:\"main\",staticClass:\"file-preview\",attrs:{\"id\":\"file-preview\"},on:{\"scroll\":_vm.lazyLoad}},[_c('div',{ref:\"head\",staticClass:\"head-sticky\"},[(_vm.fileExt !== 'txt' && _vm.fileExt !== 'mp4')?_c('span',[_vm._v(_vm._s(_vm.fileTotal)+\"-\"+_vm._s(_vm.active))]):_vm._e()]),_vm._v(\" \"),_c('div',{staticClass:\"file-main\"},[(_vm.fileExt === 'txt')?_c('div',{staticClass:\"file-txt\"},[_c('h2',[_vm._v(_vm._s(_vm.fullName))]),_vm._v(\" \"),_c('p',[_vm._v(\"\\n        \"+_vm._s(_vm.txtContent)+\"\\n      \")])]):(_vm.canOpenFileExt.indexOf(_vm.fileExt) > -1 )?_c('div',{ref:\"content\"},[_c('image-view',{attrs:{\"file-id\":_vm.fileId,\"file-ext\":_vm.fileExt,\"file-total\":1,\"index\":1,\"auto-load\":\"\"},on:{\"preview\":_vm.imageView}}),_vm._v(\" \"),_c('h2',[_vm._v(_vm._s(_vm.fullName))])],1):_c('div',{ref:\"content\"},[_c('h2',[_vm._v(_vm._s(_vm.fullName))]),_vm._v(\" \"),_vm._l((_vm.viewTotal),function(index){return _c('image-view',{key:index,ref:'img'+ index,refInFor:true,staticClass:\"lazy\",attrs:{\"file-id\":_vm.fileId,\"file-ext\":_vm.fileExt,\"file-total\":_vm.fileTotal,\"index\":index},on:{\"finish\":_vm.handleFinish,\"preview\":function($event){return _vm.toView(index)}}})}),_vm._v(\" \"),_c('van-image-preview',{attrs:{\"start-position\":_vm.startIndex,\"images\":_vm.viewImages,\"loop\":false},on:{\"change\":_vm.onChange},scopedSlots:_vm._u([{key:\"index\",fn:function(){return [_vm._v(\"第\"+_vm._s(_vm.viewIndex)+\"页，共\"+_vm._s(_vm.fileTotal)+\"页\")]},proxy:true}]),model:{value:(_vm.viewShow),callback:function ($$v) {_vm.viewShow=$$v},expression:\"viewShow\"}})],2)])])}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-27c7c88a\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/r-file-view/r-file-view.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true,\\\"publicPath\\\":\\\"../../\\\"}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-27c7c88a\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!less-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./r-file-view.vue\")\n}\nvar normalizeComponent = require(\"!../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./r-file-view.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./r-file-view.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-27c7c88a\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../node_modules/vue-loader/lib/selector?type=template&index=0!./r-file-view.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-27c7c88a\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/r-file-view/r-file-view.vue\n// module id = null\n// module chunks = ","<template>\r\n  <div class=\"file-view\">\r\n    <r-file-view :file-id=\"fileId\" :file-name=\"fileName\" :file-ext=\"fileExt\"\r\n      :file-total=\"fileTotal\">\r\n    </r-file-view>\r\n  </div>\r\n</template>\r\n<script>\r\nimport RFileView from \"@/components/r-file-view\";\r\n\r\nexport default {\r\n  name: \"r-file-preview\",\r\n  components: { RFileView },\r\n  props: {\r\n    fileName: {\r\n      type: String,\r\n      required: true\r\n    },\r\n    fileExt: {\r\n      type: String,\r\n      default: \"\"\r\n    },\r\n    fileId: {\r\n      type: String,\r\n      default: \"\"\r\n    }\r\n  },\r\n  data() {\r\n    return {\r\n      canOpenFileExt: [\"txt\", \"bmp\", \"gif\", \"jpg\", \"png\", \"ico\"], //, \"mp4\"\r\n      // fileInfo: this.$store.getters.cloudFile,\r\n      fileTotal: 1\r\n    };\r\n  },\r\n  mounted() {\r\n    this.init();\r\n  },\r\n  methods: {\r\n    init() {\r\n      if (!this.canOpenFileExt.find(r => r === this.fileExt)) {\r\n        this.$mainHttp.material\r\n          .fileConvertCount({\r\n            mid: this.fileId\r\n          })\r\n          .then(res => {\r\n            if (res.Result) {\r\n              this.fileTotal = res.Total;\r\n            } else if (res.Info) {\r\n              this.$toast(res.Info);\r\n              this.fileTotal = 0;\r\n            } else {\r\n              this.fileTotal = 0;\r\n            }\r\n          })\r\n          .catch(() => {\r\n            this.fileTotal = 0;\r\n          });\r\n      }\r\n    }\r\n  }\r\n};\r\n</script>\r\n\r\n<style lang=\"less\" scoped>\r\n.file-view {\r\n  min-height: calc(100% - 44px);\r\n  background-color: #fcfcfc;\r\n}\r\n</style>\r\n\n\n\n// WEBPACK FOOTER //\n// src/components/RFilePreview.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"file-view\"},[_c('r-file-view',{attrs:{\"file-id\":_vm.fileId,\"file-name\":_vm.fileName,\"file-ext\":_vm.fileExt,\"file-total\":_vm.fileTotal}})],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-e1a9468a\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/RFilePreview.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true,\\\"publicPath\\\":\\\"../../\\\"}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-e1a9468a\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!less-loader?{\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/selector?type=styles&index=0!./RFilePreview.vue\")\n}\nvar normalizeComponent = require(\"!../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./RFilePreview.vue\"\nimport __vue_script__ from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./RFilePreview.vue\"\n/* template */\nimport __vue_template__ from \"!!../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-e1a9468a\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../node_modules/vue-loader/lib/selector?type=template&index=0!./RFilePreview.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-e1a9468a\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/RFilePreview.vue\n// module id = null\n// module chunks = ","module.exports = \"data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBzdGFuZGFsb25lPSJubyI/PjwhRE9DVFlQRSBzdmcgUFVCTElDICItLy9XM0MvL0RURCBTVkcgMS4xLy9FTiIgImh0dHA6Ly93d3cudzMub3JnL0dyYXBoaWNzL1NWRy8xLjEvRFREL3N2ZzExLmR0ZCI+PHN2ZyB0PSIxNTY4MjgyNzYyOTM3IiBjbGFzcz0iaWNvbiIgdmlld0JveD0iMCAwIDEwMjQgMTAyNCIgdmVyc2lvbj0iMS4xIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHAtaWQ9IjU4MjMiIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiB3aWR0aD0iMjAwIiBoZWlnaHQ9IjIwMCI+PGRlZnM+PHN0eWxlIHR5cGU9InRleHQvY3NzIj48L3N0eWxlPjwvZGVmcz48cGF0aCBkPSJNMzgzLjc1IDg1Ny42NTFIMjIzLjgzYy0zMS43MTggMC01Ny41MTgtMjUuOC01Ny41MTgtNTcuNTEzVjYzOC43YTI2LjEyNyAyNi4xMjcgMCAwIDEgNTIuMjU1IDB2MTYxLjQzOGE1LjI3NCA1LjI3NCAwIDAgMCA1LjI2OCA1LjI2NGgxNTkuOTE4YTI2LjEyNyAyNi4xMjcgMCAxIDEtMC4wMDUgNTIuMjV6IG0tMTkxLjMxNS00NDkuNTRhMjYuMTI3IDI2LjEyNyAwIDAgMS0yNi4xMjctMjYuMTI4VjIyMy41MDhjMC0zMS43MTggMjUuODA1LTU3LjUxOCA1Ny41MTgtNTcuNTE4aDE1OS45MThhMjYuMTI3IDI2LjEyNyAwIDAgMSAwIDUyLjI1NUgyMjMuODMxYTUuMjc0IDUuMjc0IDAgMCAwLTUuMjY4IDUuMjY5djE1OC40NzlhMjYuMTI3IDI2LjEyNyAwIDAgMS0yNi4xMjggMjYuMTE3ek04MDAuNDQgODU3LjY1SDY0MS45MWEyNi4xMjcgMjYuMTI3IDAgMSAxIDAtNTIuMjU1aDE1OC41M2E1LjI2OCA1LjI2OCAwIDAgMCA1LjI2NC01LjI2M1Y2MzguNjk0YTI2LjEyNyAyNi4xMjcgMCAxIDEgNTIuMjU0IDB2MTYxLjQ0YzAgMzEuNzE4LTI1LjggNTcuNTE3LTU3LjUxOCA1Ny41MTd6IG0zMS4zOTEtNDQ5LjU0YTI2LjEyNyAyNi4xMjcgMCAwIDEtMjYuMTI3LTI2LjEyOFYyMjMuNTA4YTUuMjc0IDUuMjc0IDAgMCAwLTUuMjY0LTUuMjY4SDY0MS45MWEyNi4xMjcgMjYuMTI3IDAgMCAxIDAtNTIuMjU1aDE1OC41M2MzMS43MTQgMCA1Ny41MTMgMjUuODA1IDU3LjUxMyA1Ny41MTh2MTU4LjQ4YTI2LjEyMiAyNi4xMjIgMCAwIDEtMjYuMTIyIDI2LjEyN3oiIGZpbGw9IiNmZmYiIHAtaWQ9IjU4MjQiPjwvcGF0aD48L3N2Zz4=\"\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/assets/video/content_ic_increase.svg\n// module id = wxj2\n// module chunks = 2 4"],"sourceRoot":""}