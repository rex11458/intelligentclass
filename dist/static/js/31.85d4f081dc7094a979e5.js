webpackJsonp([31],{ZIut:function(t,o,n){"use strict";Object.defineProperty(o,"__esModule",{value:!0});var e,a=n("bOdI"),r=n.n(a),u=(n("XmAh"),n("il3B")),s=(n("3Lne"),n("SSsa")),i={name:"",components:(e={headTop:n("bBUo").a},r()(e,s.a.name,s.a),r()(e,u.a.Component.name,u.a.Component),e),props:{},data:function(){return{groupList:[]}},created:function(){this.getGroupDataList()},methods:{getGroupDataList:function(){var t=this;this.$store.dispatch("GetGroupByUser").then(function(o){o.Result||o.IsGrouping?o.Result&&(o.Datas&&o.Datas.length>0?(t.groupList=[],o.Datas.forEach(function(o){var n={gatewayID:o.Key.GatewayID,groupID:o.Key.GroupID,groupName:o.Key.GroupName,groupMax:o.Key.GroupNumber,groupingID:o.Key.GroupingID,studentID:o.Key.StudentID,currentNum:o.Total,gatewayIP:o.GatewayIP};t.groupList.push(n)})):o.Data&&t.$store.getters.groupID&&t.$router.push("/groupInfo")):t.$toast("当前尚无分组")}).catch(function(o){t.groupList=[]})},lookGroup:function(t){this.$router.push("/groupInfo/"+t.groupID)},joinGroup:function(t){var o=this,n=t;u.a.confirm({title:"加入小组",message:"是否加入组："+t.groupName}).then(function(){o.$store.dispatch("JoinGroup",{groupID:n.groupID,group:n}).then(function(t){t.Result?(o.$toast("加入成功"),o.$router.push("/groupInfo")):t.Info&&o.$toast(t.Info)}).catch(function(t){})}).catch(function(){})}}},p={render:function(){var t=this,o=t.$createElement,n=t._self._c||o;return n("div",{staticClass:"group_list"},[n("head-top",{attrs:{title:"小组列表"}}),t._v(" "),n("div",{staticClass:"main"},t._l(t.groupList,function(o,e){return n("div",{key:e,staticClass:"item",on:{click:function(n){return t.lookGroup(o)}}},[n("div",{staticClass:"item_head"},[n("span",[t._v(t._s(o.groupName))]),t._v(" "),n("div",[o.currentNum<o.groupMax?n("van-button",{attrs:{type:"primary",size:"mini"},on:{click:function(n){return n.stopPropagation(),n.preventDefault(),t.joinGroup(o)}}},[t._v("加入")]):n("van-button",{attrs:{type:"danger",disabled:"",size:"mini"}},[t._v("已满")])],1)]),t._v(" "),n("div",{staticClass:"item_foot"},[n("span",[t._v("小组人数："+t._s(o.groupMax)+"人")]),t._v(" "),n("span",[t._v("已加入人数："+t._s(o.currentNum)+"人")]),t._v(" "),n("div")])])}),0)],1)},staticRenderFns:[]};var c=n("VU/8")(i,p,!1,function(t){n("pcaG")},"data-v-1e599ded",null);o.default=c.exports},pcaG:function(t,o){}});
//# sourceMappingURL=31.85d4f081dc7094a979e5.js.map