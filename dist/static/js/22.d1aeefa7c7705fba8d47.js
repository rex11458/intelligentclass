webpackJsonp([22],{AWl0:function(t,o){},ZIut:function(t,o,n){"use strict";Object.defineProperty(o,"__esModule",{value:!0});var e=n("bOdI"),a=n.n(e),r=(n("XmAh"),n("il3B")),u={name:"",components:a()({},r.a.Component.name,r.a.Component),props:{},data:function(){return{groupList:[]}},created:function(){this.getGroupDataList()},methods:{getGroupDataList:function(){var t=this;this.$store.dispatch("GetGroupByUser").then(function(o){o.Result||o.IsGrouping?o.Result&&(o.Datas&&o.Datas.length>0?(t.groupList=[],o.Datas.forEach(function(o){var n={gatewayID:o.Key.GatewayID,groupID:o.Key.GroupID,groupName:o.Key.GroupName,groupMax:o.Key.GroupNumber,groupingID:o.Key.GroupingID,studentID:o.Key.StudentID,currentNum:o.Total,gatewayIP:o.GatewayIP};t.groupList.push(n)})):o.Data&&t.$store.getters.groupID&&t.$router.push("/groupInfo")):t.$toast("当前尚无分组")}).catch(function(o){t.groupList=[]})},lookGroup:function(t){this.$router.push("/groupInfo/"+t.groupID)},joinGroup:function(t){var o=this,n=t;r.a.confirm({title:"加入小组",message:"是否加入组："+t.groupName}).then(function(){o.$store.dispatch("JoinGroup",{groupID:n.groupID,group:n}).then(function(t){t.Result?(o.$toast("加入成功"),o.$router.push("/groupInfo")):t.Info?o.$toast(t.Info):o.$toast("加入失败")}).catch(function(t){o.$toast("加入失败")})}).catch(function(){})}}},s={render:function(){var t=this,o=t.$createElement,n=t._self._c||o;return n("div",{staticClass:"group_list"},[n("head-top",{attrs:{title:"小组列表"}}),t._v(" "),n("div",{staticClass:"main"},t._l(t.groupList,function(o,e){return n("div",{key:e,staticClass:"item",on:{click:function(n){return t.lookGroup(o)}}},[n("div",{staticClass:"item_head"},[n("span",[t._v(t._s(o.groupName))]),t._v(" "),n("div",[o.currentNum<o.groupMax?n("van-button",{attrs:{type:"primary",size:"mini"},on:{click:function(n){return n.stopPropagation(),n.preventDefault(),t.joinGroup(o)}}},[t._v("加入")]):n("van-button",{attrs:{type:"danger",disabled:"",size:"mini"}},[t._v("已满")])],1)]),t._v(" "),n("div",{staticClass:"item_foot"},[n("span",[t._v("小组人数："+t._s(o.groupMax)+"人")]),t._v(" "),n("span",[t._v("已加入人数："+t._s(o.currentNum)+"人")]),t._v(" "),n("div")])])}),0)],1)},staticRenderFns:[]};var i=n("VU/8")(u,s,!1,function(t){n("AWl0")},"data-v-b22a1756",null);o.default=i.exports}});
//# sourceMappingURL=22.d1aeefa7c7705fba8d47.js.map