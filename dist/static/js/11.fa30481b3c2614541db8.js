webpackJsonp([11],{BIEP:function(t,e,i){"use strict";var s=i("Dd8w"),n=i.n(s),a=i("eQnu"),o=i.n(a),r=i("Rh6y"),c=i.n(r),l=i("0zVH"),d=i("FwVa"),u={name:"",components:{tVideo:l.a},props:{routeType:{type:String,default:"course"}},data:function(){return{defaultPost:c.a,activeIndex:0,menus:[{name:"老师实况",index:0,icon:"icon-pingmu-"},{name:"小组实况",index:1,icon:"icon-renmai"}],keyWord:"",teacherTypes:[1,2,3,4],selectIndex:-1,liveList:[],videoItem:null,playerOptions:{autoplay:!1,muted:!0,language:"en",playbackRates:[.7,1,1.5,2],sources:[{type:"video/mp4",src:"http://vjs.zencdn.net/v/oceans.mp4"}],poster:"https://surmon-china.github.io/vue-quill-editor/static/images/surmon-1.jpg"},loading:!1}},computed:{playList:function(){var t=this;return this.liveList.filter(function(e){return 0===t.activeIndex&&t.teacherTypes.indexOf(e.MLType)>-1||1===t.activeIndex&&-1===t.teacherTypes.indexOf(e.MLType)}).filter(function(e){return t.keyWord&&e.title.indexOf(t.keyWord)>-1||e.RecLabel.indexOf(t.keyWord)>-1||!t.keyWord})},restList:function(){var t=this;return this.playList.filter(function(e){return e.index!==t.selectIndex})}},created:function(){this.$store.commit("SET_LIVELESSION",null),this.getList()},methods:{getList:function(){var t=this;this.dataList=[],this.liveList=[],this.loading=!0,this.$config.isTest||this.$mainHttp.miniCourse.getList({ciID:this.$store.getters.courseID}).then(function(e){e.Result&&e.Datas&&e.Datas.length>0&&e.Datas.forEach(function(e,i){var s=n()({},e,{index:i,title:e.MLTitle,time:e.StartTime,typeName:Object(d.l)(e.MLType),src:"course"===t.routeType?t.$gatewayHttp.resourse.video(e.MLID,e.FileFormat):t.$mainHttp.resourse.video(e.MLID,e.FileFormat),poster:o.a});t.liveList.push(s)}),t.loading=!1}).catch(function(e){t.loading=!1})},handleClick:function(t){this.keyWord="",this.selectIndex=-1,this.videoItem=null,this.activeIndex=t.index},select:function(t){var e=this;this.selectIndex=t.index,this.videoItem=this.liveList&&this.liveList.length>0?this.liveList[this.selectIndex]:null,this.$refs.video&&(this.$refs.video.stopPlay(),this.$refs.video.init()),setTimeout(function(){e.$refs.video.clickPlayBtn(),window.scrollTo(0,0)},200)}}},v={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{attrs:{id:"LiveTimeList"}},[i("head-top",{attrs:{title:"实况录播"}}),t._v(" "),t.videoItem?[i("t-video",{ref:"video",attrs:{src:t.videoItem.src,poster:t.defaultPost}}),t._v(" "),i("div",{staticClass:"video_info"},[i("div",{staticClass:"flex-between info_title"},[i("span",[t._v("标签： "+t._s(t.videoItem.RecLabel||"无"))])]),t._v(" "),i("div",{staticClass:"flex-between info_mark"},[i("van-tag",{attrs:{mark:"",type:"success"}},[t._v(t._s(t.videoItem.title))]),t._v(" "),i("div",[t._v(t._s(t._f("formatDate")(t.videoItem.time,t.videoItem.time)))])],1)])]:t._e(),t._v(" "),i("van-search",{attrs:{placeholder:"请输入搜索关键词"},model:{value:t.keyWord,callback:function(e){t.keyWord=e},expression:"keyWord"}}),t._v(" "),t.restList?i("div",{staticClass:"rest_list"},t._l(t.restList,function(e,s){return i("div",{key:s,staticClass:"line_mark",on:{click:function(i){return t.select(e)}}},[i("img",{attrs:{src:t.defaultPost,alt:""}}),t._v(" "),i("div",{staticClass:"line_right"},[i("van-tag",{attrs:{mark:"",type:"success"}},[t._v(t._s(e.title))]),t._v(" "),i("div",{staticClass:"line_info"},[t._v("标签： "+t._s(e.RecLabel||"无"))]),t._v(" "),i("div",[t._v(t._s(t._f("formatDate")(e.time,e.time)))])],1)])}),0):t._e(),t._v(" "),t.playList&&0!==t.playList.length?t._e():i("r-lack-data"),t._v(" "),i("div",{staticClass:"footer"},[i("van-tabbar",{model:{value:t.activeIndex,callback:function(e){t.activeIndex=e},expression:"activeIndex"}},t._l(t.menus,function(e,s){return i("van-tabbar-item",{key:s,on:{click:function(i){return t.handleClick(e)}}},[i("i",{staticClass:" iconfont",class:e.icon,attrs:{slot:"icon"},slot:"icon"}),t._v(" "),i("span",[t._v(t._s(e.name))])])}),1)],1)],2)},staticRenderFns:[]};var f=i("VU/8")(u,v,!1,function(t){i("d6tZ")},null,null);e.a=f.exports},DB9t:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s={name:"",components:{LiveTimeList:i("BIEP").a},props:{},data:function(){return{}},mounted:function(){},created:function(){},methods:{}},n={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",[e("live-time-list",{attrs:{"route-type":"history"}})],1)},staticRenderFns:[]};var a=i("VU/8")(s,n,!1,function(t){i("eLqi")},null,null);e.default=a.exports},d6tZ:function(t,e){},eLqi:function(t,e){}});
//# sourceMappingURL=11.fa30481b3c2614541db8.js.map