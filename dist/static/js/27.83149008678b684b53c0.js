webpackJsonp([27],{GXS0:function(t,e){},R6pW:function(t,e,o){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=o("0xDb"),s={name:"",components:{},props:{},data:function(){return{formComment:{id:"",courseID:this.$route.params.courseId,coursewareID:this.$route.params.coursewareId,comment:"",anonymous:!1,score:100},saveLoading:!1}},created:function(){this.getData()},mounted:function(){},methods:{getData:function(){var t=this,e={courseID:this.formComment.courseID,studentID:this.$store.getters.studentID,cID:this.formComment.coursewareID};this.$mainHttp.coursewareComment.getCommentData(e).then(function(e){e.Result&&e.Data&&(t.formComment.id=e.Data.CCID,t.formComment.comment=e.Data.Comment,t.formComment.score=e.Data.Score,t.formComment.anonymous=!!e.Data.IsAnonymous)})},saveData:function(){var t=this;if(!this.saveLoading)if(this.formComment.comment)if(Object(n.d)(this.formComment.comment))this.$toast("不支持表情字符");else{this.saveLoading=!0;var e={ccID:this.formComment.id,courseID:this.formComment.courseID,cID:this.formComment.coursewareID,studentID:this.$store.getters.studentID,score:this.formComment.score,comment:this.formComment.comment,isAnonymous:this.formComment.anonymous?1:0,type:2};this.$mainHttp.coursewareComment.postCommentSave(e).then(function(e){e.Result?(t.dialogCommentVisible=!1,t.$toast.success("提交成功！"),setTimeout(function(){t.$router.push("/space/homework")},500)):e.Info&&t.$toast.fail(e.Info),t.saveLoading=!1}).catch(function(e){t.saveLoading=!1})}else this.$toast("请填写课件评价")}}},m={render:function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{attrs:{id:"edit-note"}},[o("head-top",{attrs:{title:"课件点评"}},[o("span",{attrs:{slot:"right"},on:{click:t.saveData},slot:"right"},[o("i",{staticClass:"iconfont icon-finish"})])]),t._v(" "),o("div",{staticClass:"main"},[o("van-cell-group",[o("van-cell",{attrs:{title:"课件评分"}},[o("van-stepper",{attrs:{slot:"default",step:"1",max:100},slot:"default",model:{value:t.formComment.score,callback:function(e){t.$set(t.formComment,"score",e)},expression:"formComment.score"}})],1)],1),t._v(" "),o("van-cell-group",[o("van-cell",{attrs:{title:"匿名评价"}},[o("van-switch",{attrs:{size:"24px"},model:{value:t.formComment.anonymous,callback:function(e){t.$set(t.formComment,"anonymous",e)},expression:"formComment.anonymous"}})],1)],1),t._v(" "),o("van-cell-group",[o("van-field",{attrs:{rows:"2",autosize:"",label:"课件评价",type:"textarea",maxlength:"500",placeholder:"请输入评价","show-word-limit":""},model:{value:t.formComment.comment,callback:function(e){t.$set(t.formComment,"comment",e)},expression:"formComment.comment"}})],1)],1)],1)},staticRenderFns:[]};var a=o("VU/8")(s,m,!1,function(t){o("GXS0")},"data-v-7cadc5ea",null);e.default=a.exports}});
//# sourceMappingURL=27.83149008678b684b53c0.js.map