webpackJsonp([19],{"1pvJ":function(t,e,a){"use strict";var s=a("j/ZV"),i={name:"task-list",props:{dataList:{type:Array,default:function(){return[]}},state:{type:String,default:"0"}},data:function(){return{dataSelected:null,operateVisible:!1}},methods:{selectItem:function(t){this.dataSelected=t,1===t.Type?this.operateVisible=!0:"0"===this.state?this.handleDeal():this.handleView()},handleDownload:function(){var t=this,e=this.dataSelected,a=this.$mainHttp.common.file(e.MaterialID);window.webkit?Object(s.b)(s.a.downloadFile,a).then(function(a){"0"===t.state&&t.addCoursewareTask(e)}).catch(function(t){}):(window.location.href=a,"0"===this.state&&this.addCoursewareTask(e))},addCoursewareTask:function(t){var e=this;this.$mainHttp.courseware.postCoursewareTask({cID:t.CID,stuID:this.$store.getters.studentID}).then(function(t){t.Result&&(e.$emit("refresh"),e.$toast("数据下载成功！"),e.operateVisible=!1)}).catch(function(t){})},handleFileView:function(){var t=this.dataSelected,e=t.Title.split(".");if(e.length>=2){var a=2===e.length?e[0]:e.filter(function(t,a){return a<e.length-2}).join(".");this.$router.push("/fileView/"+t.MaterialID+"/"+e[e.length-1]+"/"+a)}},handleDeal:function(){var t=this.dataSelected;this.$router.push("/space/practiceDone/"+t.CIPID+"/"+t.PLID+"/"+t.CPID+"/"+t.CHID)},handleView:function(){var t=this.dataSelected;this.$router.push("/space/practiceView/"+t.CIPID+"/"+t.PLID+"/"+t.CPID+"/"+t.CHID)}}},n={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"r-task-list"},[t._l(t.dataList,function(e,s){return a("div",{key:s,staticClass:"r-task-item",on:{click:function(a){return t.selectItem(e)}}},[a("div",{staticClass:"item-title"},[a("h3",[t._v(" "+t._s(e.Title)+" ")])]),t._v(" "),a("div",{staticClass:"item-foot foot-remark"},[a("span",[t._v("\n        "+t._s(e.Attribute+""=="1"?"课前":"课后")+"\n      ")]),t._v(" "),a("span",[t._v("\n        "+t._s(1===e.Type?"课件":"随堂练习")+"\n      ")]),t._v(" "),a("span",[t._v("\n        "+t._s(e.CreateTime.split(" ")[0])+"\n      ")])]),t._v(" "),a("div",{staticClass:"item-foot foot-info"},[a("span",[t._v("\n        "+t._s(e.CHName)+"\n      ")]),t._v(" "),a("span",[t._v("\n        老师："+t._s(e.TeacherName)+"\n      ")])])])}),t._v(" "),a("van-popup",{style:{textAlign:"center"},attrs:{position:"bottom"},model:{value:t.operateVisible,callback:function(e){t.operateVisible=e},expression:"operateVisible"}},[t.dataSelected?a("div",[a("van-cell",{attrs:{title:"预览"},on:{click:t.handleFileView}}),t._v(" "),a("van-cell",{attrs:{title:"下载"},on:{click:t.handleDownload}})],1):t._e()])],2)},staticRenderFns:[]},o=a("VU/8")(i,n,!1,null,null,null).exports;e.a=o},"6Rpk":function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=a("1pvJ"),i=a("aXZl"),n=a("0xDb"),o={name:"homePage",components:{TaskList:s.a,NoteList:i.a},props:{},data:function(){return{navList:[{icon:"icon-fuxi",colorName:"nav_1",name:"课程",path:"/home-course"},{icon:"icon-zuoye",colorName:"nav_2",name:"任务",path:"/space/homework"},{icon:"icon-edu-biji",colorName:"nav_3",name:"笔记",path:"/space/note"}],practiceList:[],courseWareList:[],today:Object(n.f)(),noteDataList:[]}},computed:{},watch:{},created:function(){this.getPracticeTask(),this.getCourseWareTask(),this.getNoteList()},mounted:function(){},methods:{jump:function(t){if(this.navList[t].path)this.$router.push(this.navList[t].path);else{var e=document.getElementsByClassName("sub_nav"),a=e[t-1].offsetTop,s=document.documentElement.scrollTop||document.body.scrollTop;this.scrollAnimation(s,a)}},scrollAnimation:function(t,e){var a=this,s=e-t,i=t;setTimeout(function(){var n=Math.ceil(s/10);i+=n,window.scrollTo(i,t),s>10||s<-10?a.scrollAnimation(i,e):window.scrollTo(i,e)},1)},getPracticeTask:function(){var t=this;this.practiceList=[];var e={courseID:"",chID:"",pno:1,psize:2,estate:1,stuID:this.$store.getters.studentID};this.$mainHttp.classHour.getPracticeTaskList(e).then(function(e){e.Result&&e.Datas&&e.Datas.length>0&&e.Datas.forEach(function(e){t.practiceList.push(e)})}).catch(function(){})},getCourseWareTask:function(){var t=this;this.courseWareList=[];var e={courseID:"",chID:"",pno:1,psize:2,estate:1,stuID:this.$store.getters.studentID};this.$mainHttp.classHour.getCourseWareTaskList(e).then(function(e){e.Result&&e.Datas&&e.Datas.length>0&&e.Datas.forEach(function(e){t.courseWareList.push(e)})}).catch(function(){})},getNoteList:function(){var t=this,e={startDate:Object(n.h)("date",-3650),endDate:this.today,psize:3,pno:1,snid:"",stuid:this.$store.getters.studentID,estate:1,key:""};this.$mainHttp.note.getSearchList(e).then(function(e){e.Result&&e.Datas.length>0&&e.Datas.forEach(function(e){t.noteDataList.push({id:e.Key.SNID,title:e.Key.SNTtile,content:e.Key.SNContent,state:e.Key.State,createTime:e.Key.CreateTime,CHID:e.Key.CHID,CIID:e.Key.CIID,CHName:e.CHName,CourseName:e.CourseName})})}).catch(function(t){})},transformValue:function(t){return Object(n.l)("show",t,this.$mainHttp.common.picture)},handleSelectNote:function(t){this.$router.push({path:"/space/noteView",query:{snID:t.id,courseID:t.CIID,courseName:t.CourseName,classHourID:t.CHID,classHourName:t.CHName,title:t.title,content:t.content,createTime:t.createTime}})}}},c={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"home-page"}},[a("head-top",{attrs:{title:"我的首页","show-back":!1}}),t._v(" "),a("div",{staticClass:"bgshouy"}),t._v(" "),a("div",{staticClass:"head_nav"},t._l(t.navList,function(e,s){return a("div",{key:s,staticClass:"nav_item",on:{click:function(e){return t.jump(s)}}},[a("i",{staticClass:"iconfont",class:[e.icon,e.colorName]}),t._v(" "),a("div",[t._v(t._s(e.name))])])}),0),t._v(" "),a("div",{staticClass:"sub_tag",on:{click:function(e){return t.$router.push("/space/homework")}}},[a("span",[t._v("近期任务")]),t._v(" "),a("div",{staticStyle:{"font-weight":"normal"},attrs:{type:"text"}},[t._v("查看全部")])]),t._v(" "),t.practiceList&&t.practiceList.length>0?a("task-list",{attrs:{"data-list":t.practiceList},on:{refresh:t.getCourseWareTask}}):t._e(),t._v(" "),t.courseWareList&&t.courseWareList.length>0?a("task-list",{style:{paddingTop:"0"},attrs:{"data-list":t.courseWareList},on:{refresh:t.getCourseWareTask}}):t.practiceList&&0!==t.practiceList.length?t._e():a("r-lack-data"),t._v(" "),a("div",{staticClass:"sub_tag",on:{click:function(e){return t.$router.push("/space/note")}}},[a("span",[t._v("近期笔记")]),t._v(" "),a("div",{staticStyle:{"font-weight":"normal"},attrs:{type:"text"}},[t._v("查看全部")])]),t._v(" "),t.noteDataList&&t.noteDataList.length>0?a("note-list",{style:{paddingTop:"0"},attrs:{"data-list":t.noteDataList},on:{select:t.handleSelectNote}}):a("r-lack-data")],1)},staticRenderFns:[]};var r=a("VU/8")(o,c,!1,function(t){a("emaV")},"data-v-44c97210",null);e.default=r.exports},emaV:function(t,e){}});
//# sourceMappingURL=19.eaa9c5c1b8c91d730240.js.map