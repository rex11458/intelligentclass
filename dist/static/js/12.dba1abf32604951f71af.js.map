{"version":3,"sources":["webpack:///./src/pages/course/course.vue?88fd","webpack:///./src/pages/course/course.vue","webpack:///src/pages/course/course.vue"],"names":["course_course","render","_vm","this","_h","$createElement","_c","_self","attrs","id","title","_v","staticClass","_s","courseInfo","_f","_l","items","key","text","on","click","$event","goTo","path","class","icon","position","model","value","callback","$$v","show","expression","item","i","selected","selectIndex","selectChange","groupName","directives","name","rawName","dialogTitle","currentNum","groupMax","groupList","type","plain","size","confirmDialog","staticRenderFns","__vue_styles__","ssrContext","__webpack_require__","Component","normalizeComponent","course","__webpack_exports__","components","_components","__WEBPACK_IMPORTED_MODULE_0_babel_runtime_helpers_defineProperty___default","__WEBPACK_IMPORTED_MODULE_6_vant_es_dialog__","__WEBPACK_IMPORTED_MODULE_4_vant_es_popup__","__WEBPACK_IMPORTED_MODULE_2_vant_es_button__","__WEBPACK_IMPORTED_MODULE_7__components_headTop__","props","beforeRouteLeave","to","from","next","$store","getters","courseID","window","GatewayHub","connection","state","confirm","message","then","catch","data","courseDetails","cifmBtnText","created","$gatewaySignalR","startGatewaySignalR","mounted","colors","tempArr","index","length","Jqicon","push","_index","$","css","$nextTick","methods","openGroupDialog","groupID","groupType","__WEBPACK_IMPORTED_MODULE_8__utils_enum__","Free","$router","getGroupDataList","toPath","_this","dispatch","res","Result","IsGrouping","Datas","forEach","groupItem","gatewayID","Key","groupingID","studentID","Total","Data","$toast","err","getSignWay","_this2","$gatewayHttp","sign","getInfo","SignModel","joinGroup","_this3","groupInfo","Info","onChange","picker","goBack","go","_this4","Object","__WEBPACK_IMPORTED_MODULE_9__utils_interFlow__","broadcastStart","throwScreenOpen","prompt","throwScreenStart","_value","throwScreenStop","goTOxiaoz","goTOQuiz","watch","$store.getters.groupID","newVal","oldVal","$store.getters.groupType"],"mappings":"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","file":"static/js/12.dba1abf32604951f71af.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{attrs:{\"id\":\"course\"}},[_c('head-top',{attrs:{\"title\":\"课程\"}}),_vm._v(\" \"),_c('div',{staticClass:\"bg\"},[_c('div',{staticClass:\"bg-title\"}),_vm._v(\" \"),_c('div',{staticClass:\"title\"},[_vm._v(_vm._s(_vm.courseInfo['CourseName']))]),_vm._v(\" \"),_c('div',{staticClass:\"tc-grade\"},[_c('span',{staticClass:\"tc-name\"},[_vm._v(\"老师：\"+_vm._s(_vm.courseInfo['TeacherName']))]),_vm._v(\" \"),_c('span',{staticClass:\"grade\"},[_vm._v(\"班级：\"+_vm._s(_vm.courseInfo['ClassName']))])]),_vm._v(\" \"),_c('div',{staticClass:\"croom-Time\"},[_c('span',{staticClass:\"c-room\"},[_vm._v(\"教室：\"+_vm._s(_vm.courseInfo['ClassroomName']))]),_vm._v(\" \"),_c('span',{staticClass:\"atime\"},[_vm._v(\"\\n        时间：\\n        \"+_vm._s(_vm._f(\"formatTime\")(_vm.courseInfo['StartTime'],_vm.courseInfo['StartTime']))+\"\\n        -\\n        \"+_vm._s(_vm._f(\"formatTime\")(_vm.courseInfo['EndTime'],_vm.courseInfo['EndTime']))+\"\\n      \")])])]),_vm._v(\" \"),_c('div',{staticClass:\"content\"},_vm._l((_vm.courseDetails),function(items){return _c('div',{key:items.text,staticClass:\"item\",on:{\"click\":function($event){return _vm.goTo(items.path)}}},[_c('div',{staticClass:\"icon\"},[_c('i',{staticClass:\"iconfont\",class:items.icon})]),_vm._v(\"\\n      \"+_vm._s(items.text)+\"\\n    \")])}),0),_vm._v(\" \"),_c('van-popup',{staticClass:\"dialog\",attrs:{\"position\":\"top\"},model:{value:(_vm.show),callback:function ($$v) {_vm.show=$$v},expression:\"show\"}},[_vm._l((_vm.groupList),function(item,i){return _c('div',{key:i,staticClass:\"ct\",class:{selected: _vm.selectIndex == i},on:{\"click\":function($event){return _vm.selectChange(item ,i)}}},[_c('div',{staticClass:\"name-info\"},[_c('div',{staticClass:\"name\"},[_vm._v(_vm._s((i + 1 ) + '、' + (item.groupName || '第' + (i + 1 ) + '组')))]),_vm._v(\" \"),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.dialogTitle==='选择加入小组'),expression:\"dialogTitle==='选择加入小组'\"}],staticClass:\"info\"},[(item.currentNum === item.groupMax)?_c('span',[_vm._v(\"已满\")]):_c('span',[_vm._v(_vm._s(item.currentNum + ' / '+ item.groupMax))])])]),_vm._v(\" \"),_c('div',{staticClass:\"xx\"},[_c('i',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.selectIndex==i),expression:\"selectIndex==i\"}],staticClass:\"iconfont iconfinish\"})])])}),_vm._v(\" \"),_c('div',{staticClass:\"pop_foot\"},[_vm._v(\"\\n      \"+_vm._s(_vm.selectIndex > -1 ? '加入：' + ( _vm.groupList[_vm.selectIndex].groupName || '第' + (_vm.selectIndex + 1 ) + '组') : _vm.dialogTitle)+\"\\n      \"),_c('van-button',{staticClass:\"pop_foot_btn\",attrs:{\"type\":\"primary\",\"plain\":\"\",\"size\":\"small\"},on:{\"click\":function($event){return _vm.confirmDialog()}}},[_vm._v(\"加入\")])],1)],2)],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-c2c9ce3c\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/pages/course/course.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true,\\\"publicPath\\\":\\\"../../\\\"}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-c2c9ce3c\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!less-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./course.vue\")\n}\nvar normalizeComponent = require(\"!../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./course.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./course.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-c2c9ce3c\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../node_modules/vue-loader/lib/selector?type=template&index=0!./course.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-c2c9ce3c\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/pages/course/course.vue\n// module id = null\n// module chunks = ","<template>\r\n  <div id=\"course\">\r\n    <head-top title=\"课程\" />\r\n    <div class=\"bg\">\r\n      <div class=\"bg-title\"></div>\r\n      <div class=\"title\">{{courseInfo['CourseName']}}</div>\r\n      <div class=\"tc-grade\">\r\n        <span class=\"tc-name\">老师：{{courseInfo['TeacherName']}}</span>\r\n        <span class=\"grade\">班级：{{courseInfo['ClassName']}}</span>\r\n      </div>\r\n      <div class=\"croom-Time\">\r\n        <span class=\"c-room\">教室：{{courseInfo['ClassroomName']}}</span>\r\n        <span class=\"atime\">\r\n          时间：\r\n          {{courseInfo['StartTime'] | formatTime(courseInfo['StartTime']) }}\r\n          -\r\n          {{courseInfo['EndTime'] | formatTime(courseInfo['EndTime']) }}\r\n        </span>\r\n      </div>\r\n    </div>\r\n    <div class=\"content\">\r\n      <div class=\"item\" v-for=\"items in courseDetails\" :key=\"items.text\" @click=\"goTo(items.path)\">\r\n        <div class=\"icon\">\r\n          <i class=\"iconfont\" :class=\"items.icon\"></i>\r\n        </div>\r\n        {{items.text}}\r\n      </div>\r\n    </div>\r\n\r\n    <van-popup class=\"dialog\" position=\"top\" v-model=\"show\">\r\n      <div\r\n        v-for=\"(item, i) in groupList\"\r\n        :key=\"i\"\r\n        class=\"ct\"\r\n        :class=\"{selected: selectIndex == i}\"\r\n        @click=\"selectChange(item ,i)\"\r\n      >\r\n        <div class=\"name-info\">\r\n          <div class=\"name\">{{ (i + 1 ) + '、' + (item.groupName || '第' + (i + 1 ) + '组')}}</div>\r\n          <div class=\"info\" v-show=\"dialogTitle==='选择加入小组'\">\r\n            <span v-if=\"item.currentNum === item.groupMax\">已满</span>\r\n            <span v-else>{{item.currentNum + ' / '+ item.groupMax }}</span>\r\n          </div>\r\n        </div>\r\n        <div class=\"xx\">\r\n          <i class=\"iconfont iconfinish\" v-show=\"selectIndex==i\"></i>\r\n        </div>\r\n      </div>\r\n      <div class=\"pop_foot\">\r\n        {{ selectIndex > -1 ? '加入：' + ( groupList[selectIndex].groupName || '第' + (selectIndex + 1 ) + '组') : dialogTitle}}\r\n        <van-button\r\n          class=\"pop_foot_btn\"\r\n          type=\"primary\"\r\n          plain\r\n          size=\"small\"\r\n          @click=\"confirmDialog()\"\r\n        >加入</van-button>\r\n      </div>\r\n    </van-popup>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport headTop from \"../../components/headTop\";\r\nimport { Dialog, Popup, Button } from \"vant\";\r\nimport { GroupType } from \"@/utils/enum\";\r\nimport { FuncType, sendToAPP } from \"@/utils/interFlow\";\r\nexport default {\r\n  name: \"\",\r\n  components: {\r\n    [Dialog.Component.name]: Dialog.Component,\r\n    [Popup.name]: Popup,\r\n    [Button.name]: Button,\r\n    headTop\r\n  },\r\n  props: {},\r\n  beforeRouteLeave(to, from, next) {\r\n    // (!to.meta.limits || to.meta.limits.indexOf(LimitType.inCourse) === -1) &&\r\n    if (\r\n      this.$store.getters.courseID &&\r\n      to.path === \"/homeCourse\" &&\r\n      window.GatewayHub &&\r\n      window.GatewayHub.connection.state === 1\r\n    ) {\r\n      Dialog.confirm({\r\n        title: \"警告\",\r\n        message: \"是否强制退出当前课程？\"\r\n      })\r\n        .then(() => {\r\n          // on confirm\r\n          next();\r\n        })\r\n        .catch(() => {\r\n          // on cancel\r\n          next(false);\r\n        });\r\n    } else {\r\n      next();\r\n    }\r\n  },\r\n  data() {\r\n    return {\r\n      selectIndex: -1,\r\n      groupList: [],\r\n      courseInfo: this.$store.getters.course,\r\n      courseDetails: [\r\n        {\r\n          path: \"/signIN\",\r\n          icon: \"iconqiandao\",\r\n          text: \"签到\"\r\n        },\r\n        {\r\n          path: \"/groupInfo\",\r\n          icon: \"iconrenmai\",\r\n          text: \"我的小组\"\r\n        },\r\n        {\r\n          path: \"/groupDiscussion\",\r\n          icon: \"icontaolun\",\r\n          text: \"小组讨论\"\r\n        },\r\n        {\r\n          path: \"/teacherscreen\",\r\n          icon: \"iconpingmu-\",\r\n          text: \"老师屏幕\"\r\n        },\r\n        {\r\n          path: \"/quiz\",\r\n          icon: \"iconweibiaoti-\",\r\n          text: \"随堂测验\"\r\n        },\r\n        {\r\n          path: \"/question\",\r\n          icon: \"icontiwen2\",\r\n          text: \"提问\"\r\n        },\r\n        {\r\n          path: \"/touping\",\r\n          icon: \"icontouping\",\r\n          text: \"投屏\"\r\n        },\r\n        {\r\n          path: \"/note\",\r\n          icon: \"iconedu-biji\",\r\n          text: \"笔记\"\r\n        },\r\n        {\r\n          path: \"/blackboardWriting\",\r\n          icon: \"iconbanshubianjiqi-dianji\",\r\n          text: \"板书\"\r\n        },\r\n        {\r\n          path: \"/microLesson\",\r\n          icon: \"iconweike\",\r\n          text: \"微课\"\r\n        },\r\n        {\r\n          path: \"/courseware\",\r\n          icon: \"iconkejian\",\r\n          text: \"课件\"\r\n        }\r\n        // {\r\n        //   path: \"/start\",\r\n        //   icon: \"iconkejian\",\r\n        //   text: \"多点投屏\"\r\n        // },\r\n        // {\r\n        //   path: \"/close\",\r\n        //   icon: \"iconkejian\",\r\n        //   text: \"关闭多点\"\r\n        // }\r\n      ],\r\n      show: false,\r\n      dialogTitle: \"\",\r\n      cifmBtnText: \"\"\r\n    };\r\n  },\r\n  created() {\r\n    this.$gatewaySignalR.startGatewaySignalR();\r\n  },\r\n\r\n  mounted() {\r\n    let colors = [\r\n      \"#00CBAB\",\r\n      \"#3AA0E0\",\r\n      \"#E38653\",\r\n      \"#F95F5F\",\r\n      \"#A36EE5\",\r\n      \"#E38653\",\r\n      \"#3AA0E0\",\r\n      \"#00CBAB\",\r\n      \"#A36EE5\",\r\n      \"#A36EE5\",\r\n      \"#00CBAB\"\r\n    ];\r\n    let tempArr = [];\r\n    for (let index = 0; index < this.courseDetails.length; index++) {\r\n      const element = this.courseDetails[index];\r\n      let Jqicon = \".\" + element.icon;\r\n      tempArr.push(Jqicon);\r\n    }\r\n    for (let index = 0; index < colors.length; index++) {\r\n      $(tempArr[index]).css(\"color\", colors[index]);\r\n    }\r\n    this.$nextTick(() => {\r\n      // this.openGroupDialog();\r\n    });\r\n  },\r\n  methods: {\r\n    openGroupDialog() {\r\n      if (\r\n        !this.$store.getters.groupID &&\r\n        this.$store.getters.groupType === GroupType.Free\r\n      ) {\r\n        this.$router.push(\"/joinGroup\");\r\n        // this.getGroupDataList(false);\r\n      }\r\n    },\r\n    getGroupDataList(toPath) {\r\n      this.$store\r\n        .dispatch(\"GetGroupByUser\")\r\n        .then(res => {\r\n          if (!res.Result && !res.IsGrouping) {\r\n            this.$toast(\"当前尚无分组~\");\r\n          } else if (res.Result) {\r\n            if (res.Datas && res.Datas.length > 0) {\r\n              this.groupList = [];\r\n              res.Datas.forEach(item => {\r\n                let groupItem = {\r\n                  gatewayID: item.Key[\"GatewayID\"],\r\n                  groupID: item.Key[\"GroupID\"],\r\n                  groupName: item.Key[\"GroupName\"],\r\n                  groupMax: item.Key[\"GroupNumber\"],\r\n                  groupingID: item.Key[\"GroupingID\"],\r\n                  studentID: item.Key[\"StudentID\"],\r\n                  currentNum: item.Total\r\n                };\r\n                this.groupList.push(groupItem);\r\n              });\r\n              // this.show = true;\r\n              // this.selectIndex = -1;\r\n              // this.dialogTitle = \"选择加入小组\";\r\n              // this.cifmBtnText = \"加入\";\r\n              // return;\r\n              this.$router.push(\"/joinGroup\");\r\n            } else if (res.Data) {\r\n              if (this.$store.getters.groupID) {\r\n                let path = toPath;\r\n                this.$router.push(path);\r\n              }\r\n            }\r\n            this.groupList = [];\r\n          }\r\n        })\r\n        .catch(err => {\r\n          this.groupList = [];\r\n        });\r\n    },\r\n\r\n    getSignWay() {\r\n      this.$gatewayHttp.sign\r\n        .getInfo({\r\n          courseID: this.$store.getters.course[\"CourseID\"],\r\n          studentID: this.$store.getters.studentID\r\n        })\r\n        .then(res => {\r\n          if (res.SignModel) {\r\n            this.$router.push(\r\n              \"/signIN/\" + res.SignModel + \"/\" + (res.Result ? \"1\" : \"0\")\r\n            );\r\n          } else {\r\n            this.$toast(\"获取签到状态失败~\");\r\n          }\r\n        })\r\n        .catch(err => {\r\n          this.$toast(\"获取签到状态异常~\");\r\n        });\r\n    },\r\n    selectChange(item, i) {\r\n      if (item.currentNum === item.groupMax) return;\r\n      this.selectIndex = i;\r\n    },\r\n    confirmDialog() {\r\n      // console.log(dialogName, \"名称\");\r\n      if (this.selectIndex === -1) {\r\n        this.$toast(\"请选择小组\");\r\n        return;\r\n      }\r\n      if (this.dialogTitle === \"选择加入小组\") {\r\n        this.joinGroup();\r\n      } else if (this.dialogTitle === \"投屏选择\") {\r\n        this.$router.push(\"/quiz\");\r\n      }\r\n    },\r\n    joinGroup() {\r\n      let groupInfo = this.groupList[this.selectIndex];\r\n      this.$store\r\n        .dispatch(\"JoinGroup\", groupInfo.groupID, groupInfo)\r\n        .then(res => {\r\n          if (res.Result) {\r\n            this.$toast(\"加入成功~\");\r\n            // this.$router.push(\"/groupDiscussion\");\r\n            this.getGroupDataList(\"/groupInfo\"); //更新小组信息\r\n          } else if (res.Info) {\r\n            this.$toast(res.Info);\r\n          }\r\n        })\r\n        .catch(err => {});\r\n    },\r\n    onChange(picker, value, index) {\r\n      this.$toast(`当前值：${value}, 当前索引：${index}`);\r\n    },\r\n    goBack() {\r\n      this.$router.go(-1);\r\n    },\r\n    goTo(path) {\r\n      if (path === \"/groupDiscussion\" || path === \"/groupInfo\") {\r\n        this.getGroupDataList(path);\r\n      } else if (path === \"/signIN\") {\r\n        this.getSignWay();\r\n      } else if (path === \"/teacherscreen\") {\r\n        // 开启老师屏幕\r\n        sendToAPP(FuncType.broadcastStart, \"10\").then(res => {\r\n          if (!res) this.$toast(\"请求老师屏幕失败~\");\r\n        });\r\n      } else if (path === \"/touping\") {\r\n        // 开启投屏\r\n        sendToAPP(FuncType.throwScreenOpen, \"\").then(res => {\r\n          if (!res) this.$toast(\"请求投屏失败~\");\r\n        });\r\n      } else if (path === \"/start\") {\r\n        let value = prompt(\"请输入投屏地址：\", \"192.168.0.28,192.168.0.51\");\r\n        if (!value) return;\r\n        // 开启多点投屏\r\n        sendToAPP(FuncType.throwScreenStart, value).then(res => {\r\n          if (!res) this.$toast(\"多点投屏开启失败~\");\r\n        });\r\n      } else if (path === \"/close\") {\r\n        let value = prompt(\"请输入关闭的投屏地址\", \"-1\");\r\n        if (!value) return;\r\n        // 关闭多点投屏\r\n        sendToAPP(FuncType.throwScreenStop, value).then(res => {\r\n          if (!res) this.$toast(\"多点投屏关闭失败~\");\r\n        });\r\n      } else {\r\n        this.$router.push(path);\r\n      }\r\n    },\r\n    goTOxiaoz() {\r\n      this.$router.push(\"/groupDiscussion\");\r\n    },\r\n    goTOQuiz() {\r\n      this.$router.push(\"/quiz\");\r\n    }\r\n  },\r\n  watch: {\r\n    \"$store.getters.groupID\"(newVal, oldVal) {\r\n      if (newVal !== oldVal) {\r\n        this.openGroupDialog();\r\n      }\r\n    },\r\n    \"$store.getters.groupType\"(newVal, oldVal) {\r\n      if (newVal !== oldVal) {\r\n        this.openGroupDialog();\r\n      }\r\n    }\r\n  }\r\n};\r\n</script>\r\n\r\n<style lang='less' scoped>\r\n#course {\r\n  background: #ebf0ef;\r\n  width: 100%;\r\n  height: 100%;\r\n\r\n  .head-back {\r\n    display: none;\r\n  }\r\n  .iconfanhui {\r\n    float: left;\r\n    margin-left: 4vw;\r\n    line-height: 4.3rem;\r\n    color: #fff;\r\n    font-size: 1.8rem;\r\n  }\r\n  .bg {\r\n    overflow: hidden;\r\n    background-image: url(\"../../assets/bg_kecheng.png\");\r\n    width: 100vw;\r\n    height: 19vh;\r\n    color: rgba(255, 255, 255, 1);\r\n    span {\r\n      display: inline-block;\r\n    }\r\n\r\n    background-size: cover;\r\n    .title {\r\n      font-size: 1.6rem;\r\n      font-family: MicrosoftYaHei;\r\n      margin: 3vh 0;\r\n    }\r\n    .tc-grade,\r\n    .croom-Time {\r\n      text-align: left;\r\n      box-sizing: border-box;\r\n      margin-bottom: 0.6rem;\r\n      span {\r\n        &:nth-child(1) {\r\n          width: 37vw;\r\n          margin-left: 2vw;\r\n          padding-left: 8vw;\r\n          font-size: 1.2rem;\r\n        }\r\n        &:nth-child(2) {\r\n          width: 50vw;\r\n        }\r\n      }\r\n    }\r\n  }\r\n  .content {\r\n    text-align: left;\r\n    box-sizing: border-box;\r\n    width: 100%;\r\n    height: 52vh;\r\n    background: white;\r\n    .item {\r\n      text-align: center;\r\n      width: 24.7vw;\r\n      display: inline-block;\r\n      border: 1px solid rgba(221, 221, 221, 1);\r\n      border-left: none;\r\n      border-top: none;\r\n      height: 12vh;\r\n      padding-top: 5vh;\r\n      &:nth-child(9) {\r\n        border-bottom: none;\r\n      }\r\n      &:nth-child(10) {\r\n        border-bottom: none;\r\n      }\r\n      &:nth-child(11) {\r\n        border-bottom: none;\r\n      }\r\n      &:nth-child(12) {\r\n        border-bottom: none;\r\n      }\r\n      &:nth-child(4n + 0) {\r\n        border-right: none;\r\n      }\r\n      .icon {\r\n        .iconfont {\r\n          margin-bottom: 10px;\r\n          font-size: 2.5rem;\r\n          margin-bottom: 10px;\r\n        }\r\n        .iconqiandao {\r\n          color: #00cbab;\r\n        }\r\n        .icontaolun {\r\n          color: blue;\r\n        }\r\n      }\r\n    }\r\n  }\r\n  .dialog {\r\n    font-size: 1.2rem;\r\n    margin-top: 4.3rem;\r\n    .van-dialog__content {\r\n      margin-bottom: 4vw;\r\n    }\r\n    .van-dialog__header {\r\n      border-bottom: 1px solid rgba(153, 153, 153, 1);\r\n      box-sizing: border-box;\r\n      padding-bottom: 25px;\r\n      margin-bottom: 25px;\r\n      font-size: 2rem;\r\n    }\r\n    .selected {\r\n      font-weight: bold;\r\n      color: #07c160;\r\n    }\r\n    .ct {\r\n      display: flex;\r\n      justify-content: space-between;\r\n      align-items: center;\r\n      position: relative;\r\n      margin: 1vh 5vw;\r\n      font-size: 1.4rem;\r\n      line-height: 2;\r\n      border-bottom: 1px solid #f3f3f3;\r\n      .name-info {\r\n        width: 76vw;\r\n        display: flex;\r\n        justify-content: space-between;\r\n        .name {\r\n          margin-right: 20vw;\r\n        }\r\n      }\r\n      .xx {\r\n        width: 8vw;\r\n        // height: 20px;\r\n      }\r\n      .iconfinish {\r\n        font-size: 1.5rem;\r\n      }\r\n    }\r\n  }\r\n  .pop_foot {\r\n    text-align: left;\r\n    margin: 0 5vw;\r\n    padding: 2vh 0;\r\n    border-top: 1px solid #333;\r\n    font-size: 1.4rem;\r\n    line-height: 3rem;\r\n    .pop_foot_btn {\r\n      float: right;\r\n    }\r\n  }\r\n}\r\n</style>\n\n\n// WEBPACK FOOTER //\n// src/pages/course/course.vue"],"sourceRoot":""}