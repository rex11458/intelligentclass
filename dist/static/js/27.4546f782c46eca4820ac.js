webpackJsonp([27],{FdyN:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s,i=a("Dd8w"),n=a.n(i),c=a("bOdI"),o=a.n(c),r=(a("jAcA"),a("86U2")),u=(a("yIEv"),a("OIh9")),l=a("bBUo"),d=a("FwVa"),v={name:"",components:(s={},o()(s,u.a.name,u.a),o()(s,r.a.name,r.a),o()(s,"headTop",l.a),s),props:{},data:function(){return{headTopActive:0,isLoading:!1,questionList:[],practiceList:[]}},beforeRouteEnter:function(t,e,a){a(function(t){e.path.indexOf("/classPractice")>-1&&(t.headTopActive=1)})},mounted:function(){var t=this;this.$nextTick(function(){t.getQuestionData(),t.getPracticeData()})},methods:{getQuestionData:function(){var t=this;this.isLoading=!0,this.questionList=[],this.$gatewayHttp.screenQustion.getList({courseID:this.$store.getters.course.CourseID}).then(function(e){e.Result&&e.Datas&&e.Datas.length>0&&e.Datas.forEach(function(e){t.questionList.push(n()({},e,{img:t.$gatewayHttp.resourse.picture(e.SSContent,d.g.ScreenSubject)}))}),t.isLoading=!1}).catch(function(e){t.isLoading=!1})},getPracticeData:function(){var t=this;this.isLoading=!0,this.practiceList=[],this.$gatewayHttp.classPractise.getList({courseID:this.$store.getters.course.CourseID}).then(function(e){t.practiceList=[],e.Result&&e.Datas&&e.Datas.length>0&&e.Datas.forEach(function(e){-1===t.practiceList.indexOf(e)&&t.practiceList.push(e)}),t.isLoading=!1}).catch(function(e){t.isLoading=!1})},getQuestionTypeName:function(t){return Object(d.n)(t)},getPatternName:function(t){return Object(d.m)(t)},getStateName:function(t){return Object(d.a)(t)},selectQuestion:function(t){this.$router.push("/screenQuestion/"+t.SSID)},selectPractice:function(t){1!==t.State&&this.$router.push("/classPractice/"+t.CPID+"/"+t.PLID+"/"+t.SubjectTotal+"/"+t.State)}},computed:{},watch:{"$store.getters.classPractice":function(t,e){t!==e&&0===t.step&&(this.headTopActive=1,this.getPracticeData())}}},f={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"quiz"}},[a("head-top",{attrs:{title:"随堂测验"}}),t._v(" "),a("van-tabs",{model:{value:t.headTopActive,callback:function(e){t.headTopActive=e},expression:"headTopActive"}},[a("van-tab",{attrs:{title:"截屏提问"}},[a("van-pull-refresh",{staticClass:"pull_fresh",on:{refresh:t.getQuestionData},model:{value:t.isLoading,callback:function(e){t.isLoading=e},expression:"isLoading"}},[t.questionList.length>0?a("div",{staticClass:"question-content"},t._l(t.questionList,function(e,s){return a("div",{key:s,staticClass:"item",on:{click:function(a){return t.selectQuestion(e)}}},[a("div",{staticClass:"bg fL"},[a("img",{attrs:{src:e.img}})]),t._v(" "),a("div",{staticClass:"details fR"},[a("div",{staticClass:"info"},[t._v(t._s(e.SSSerial+".["+t.getQuestionTypeName(e.SSType)+"] "+e.SSScore+"分"))]),t._v(" "),a("div",{staticClass:"time"},[t._v(t._s(t._f("formatDate")(e.CreateTime,e.CreateTime)))])]),t._v(" "),a("span",{staticClass:"prompt",class:3===e.SSPattern?"red":"green"},[t._v(t._s(t.getPatternName(e.SSPattern)))])])}),0):a("r-lack-data")],1)],1),t._v(" "),a("van-tab",{attrs:{title:"随堂练习"}},[a("van-pull-refresh",{staticClass:"pull_fresh",on:{refresh:t.getPracticeData},model:{value:t.isLoading,callback:function(e){t.isLoading=e},expression:"isLoading"}},[t.practiceList.length>0?a("div",{staticClass:"practice-content"},t._l(t.practiceList,function(e,s){return a("div",{key:s,staticClass:"item",on:{click:function(a){return t.selectPractice(e)}}},[a("div",{staticClass:"biaoti"},[t._v("\n              "+t._s(e.PLTitle)+"\n              "),a("div",{staticClass:"line_state",class:[3,4].indexOf(e.State)>-1?"red":2===e.State?"green":""},[t._v(t._s(t.getStateName(e.State)))])]),t._v(" "),a("div",{staticClass:"content"},[a("div",[t._v("\n                总分:\n                "),a("span",[t._v(t._s(e.SubjectScore))])]),t._v(" "),a("div",[t._v("\n                题数:\n                "),a("span",[t._v(t._s(e.SubjectTotal||0)+"题")])]),t._v(" "),a("div",[t._v("\n                时间:\n                "),a("span",[t._v(t._s(t._f("formatDate")(e.CreateTime,e.CreateTime)))])])])])}),0):a("r-lack-data")],1)],1)],1)],1)},staticRenderFns:[]};var p=a("VU/8")(v,f,!1,function(t){a("IOZG")},"data-v-2574bba8",null);e.default=p.exports},IOZG:function(t,e){}});
//# sourceMappingURL=27.4546f782c46eca4820ac.js.map