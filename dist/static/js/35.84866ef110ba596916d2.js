webpackJsonp([35],{"+y+8":function(e,t){},jCxg:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=n("Xxa5"),s=n.n(a),i=n("exGp"),o=n.n(i),r=n("GMXM"),l={data:function(){return{listData:[],title:"数学",loading:!1,finished:!1,refreshing:!1,pno:1,svalue:""}},mounted:function(){var e=[new Date(Date.now()+8.64*Math.pow(10,7)*-30),new Date];this.start=Object(r.a)(e[0],"yyyy-MM-dd"),this.end=Object(r.a)(e[1],"yyyy-MM-dd")},methods:{ToVideo:function(e){this.$router.push({name:"sourceRecorded",params:{id:e}})},Err:function(e){this.listData[e].videoSrc=n("snXv")},LoadData:function(){var e=this;return o()(s.a.mark(function t(){var n,a;return s.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return e.refreshing&&(e.refreshing=!1),t.next=3,e.$mainHttp.ElaborateCourses.GetECDatas({key:e.svalue,psize:10,pno:e.pno,stime:e.start,etime:e.end,sKey:"",type:e.$route.query.id});case 3:(n=t.sent)&&n.Datas&&(e.pno=e.pno+1,a=e.$mainHttp.common.downloadURL(),e.title=n.Datas[0].ECType,n.Datas.forEach(function(t){t.Info.ECInfo&&(t.Info.ECInfo=JSON.parse(t.Info.ECInfo)),"["===t.Info.ECInfo.Teachers.slice(0,1)&&(t.Info.ECInfo.Teachers=JSON.parse(t.Info.ECInfo.Teachers).toString()),e.listData.push({id:t.Info.ECID,name:t.Info.ECTitle,tName:t.Info.ECInfo.Teachers,videoSrc:a+"?filename="+t.MaterialID+"&fileType=9"})})),e.loading=!1,e.svalue="",n&&n.Datas||(n.RowsCount=0),e.listData.length>=n.RowsCount&&(e.finished=!0);case 9:case"end":return t.stop()}},t,e)}))()},onRefresh:function(){this.finished=!1,this.loading=!0,this.listData=[],this.pno=1,this.LoadData()}}},c={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"classification-detail"},[n("head-top",{attrs:{title:e.title}}),e._v(" "),n("div",{staticClass:"search-input"},[n("van-search",{attrs:{placeholder:"请输入搜索关键词",shape:"round","show-action":""},scopedSlots:e._u([{key:"action",fn:function(){return[n("div",{staticStyle:{fontSize:"15px"},on:{click:e.onRefresh}},[e._v("搜索")])]},proxy:!0}]),model:{value:e.svalue,callback:function(t){e.svalue=t},expression:"svalue"}})],1),e._v(" "),n("van-pull-refresh",{on:{refresh:e.onRefresh},model:{value:e.refreshing,callback:function(t){e.refreshing=t},expression:"refreshing"}},[n("van-list",{staticClass:"display-wrap",attrs:{finished:e.finished,offset:50},on:{load:e.LoadData},model:{value:e.loading,callback:function(t){e.loading=t},expression:"loading"}},e._l(e.listData,function(t,a){return n("div",{key:a,staticClass:"main-live",on:{click:function(n){return e.ToVideo(t.id)}}},[n("div",{attrs:{name:"text"}},[n("img",{attrs:{src:t.videoSrc,alt:""},on:{error:function(t){return e.Err(a)}}})]),e._v(" "),n("div",{staticClass:"text-title"},[n("p",[e._v("【"+e._s(e.title)+"】"+e._s(t.name))]),e._v(" "),n("p",[e._v(e._s(t.tName))])])])}),0)],1)],1)},staticRenderFns:[]};var f=n("VU/8")(l,c,!1,function(e){n("+y+8")},null,null);t.default=f.exports}});
//# sourceMappingURL=35.84866ef110ba596916d2.js.map