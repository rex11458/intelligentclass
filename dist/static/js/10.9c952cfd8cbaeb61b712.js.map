{"version":3,"sources":["webpack:///./node_modules/vant/es/field/style/index.js","webpack:///src/components/courseList.vue","webpack:///./src/components/courseList.vue?3724","webpack:///./src/components/courseList.vue","webpack:///src/pages/homeCourse.vue","webpack:///./src/pages/homeCourse.vue?1e47","webpack:///./src/pages/homeCourse.vue"],"names":["__WEBPACK_IMPORTED_MODULE_0__style_base_css__","__webpack_require__","__WEBPACK_IMPORTED_MODULE_1__image_index_css__","n","__WEBPACK_IMPORTED_MODULE_2__index_css__","courseList","name","components","props","courseType","type","String","default","course","Array","data","sites","created","methods","selectCourse","item","_this","this","$store","commit","CourseID","dispatch","ClassroomID","then","res","Result","$router","push","Info","$toast","catch","err","computed","watch","components_courseList","render","_vm","_h","$createElement","_c","_self","attrs","id","length","_l","i","key","staticClass","_v","_s","CourseName","class","State","disabled","on","click","$event","_e","TeacherName","ClassName","ClassroomName","_f","staticRenderFns","src_components_courseList","normalizeComponent","ssrContext","homeCourse","_components","headTop","defineProperty_default","tab","tabs","field","headTopActive","nowDate","Object","utils","currentCourse","form","startDate","endDate","stuid","getters","studentID","psize","pno","estate","historyCourse","isLoading","beforeRouteEnter","to","from","next","vm","path","indexOf","mounted","$nextTick","start","Date","setDate","getDate","Y","getFullYear","M","getMonth","D","changeCourse","goBack","console","log","currentStudentCourse","_this2","$mainHttp","getStudentCourseList","Datas","forEach","historyStudentCourse","_this3","find","r","stringify_default","startChange","e","getTime","endChange","pages_homeCourse","title","show-back","change","model","value","callback","$$v","expression","refresh","course-type","homeCourse_Component","homeCourse_normalizeComponent","__webpack_exports__"],"mappings":"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","file":"static/js/10.9c952cfd8cbaeb61b712.js","sourcesContent":["import '../../style/base.css';\nimport '../../image/index.css';\nimport '../index.css';\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vant/es/field/style/index.js\n// module id = MY4N\n// module chunks = 5 10","<template>\r\n  <div id=\"courseList\">\r\n    <div v-if=\"course.length>0\">\r\n      <div class=\"item\" :key=\"i\" v-for=\"(item ,i) in course\">\r\n        <div class=\"tt-btn\">\r\n          <div class=\"tt\">{{item.CourseName}}</div>\r\n          <div class=\"btn\">\r\n            <button\r\n              v-if=\"courseType==='current' \"\r\n              :class=\" (item.State === 1 ? 'btn-able' : 'btn-disable') \"\r\n              :disabled=\"item.State !== 1\"\r\n              @click=\"selectCourse(item)\"\r\n            >{{item.State === 1 ? '可进入' : '未开始'}}</button>\r\n            <button v-else-if=\"courseType!=='current'\" @click=\"selectCourse(item)\">查看</button>\r\n            <!-- && item.State===3 -->\r\n          </div>\r\n        </div>\r\n        <div class=\"tc-gd\">\r\n          <div class=\"tc\">老师：{{item.TeacherName}}</div>\r\n          <div class=\"gd\">班级：{{item.ClassName}}</div>\r\n        </div>\r\n        <div class=\"cs-tm\">\r\n          <div class=\"cs\">教室：{{item.ClassroomName}}</div>\r\n          <div class=\"tm\">\r\n            时间：\r\n            {{item['ClassDate'] | formatDay(item['ClassDate']) }}\r\n            {{item['StartTime'] | formatTime(item['StartTime']) }}\r\n            -\r\n            {{item['EndTime'] | formatTime(item['EndTime']) }}\r\n          </div>\r\n        </div>\r\n        <div class=\"line\"></div>\r\n      </div>\r\n    </div>\r\n    <r-lack-data v-else></r-lack-data>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\n// import { formatDate } from \"@/utils/formatData\";\r\n\r\nexport default {\r\n  name: \"\",\r\n  components: {},\r\n  props: {\r\n    courseType: {\r\n      type: String,\r\n      default: \"current\"\r\n    },\r\n    course: {\r\n      type: Array,\r\n      default: () => {\r\n        return [];\r\n      }\r\n    }\r\n  },\r\n  data() {\r\n    return {\r\n      sites: [1, 2, 3]\r\n    };\r\n  },\r\n  created() {},\r\n  methods: {\r\n    selectCourse(item) {\r\n      this.$store.commit(\"SET_COURSE\", item);\r\n      this.$store.commit(\"SET_COURSEID\", item.CourseID);\r\n\r\n      if (this.courseType === \"current\") {\r\n        this.$store\r\n          .dispatch(\"GetCourseServiceByUser\", item.ClassroomID)\r\n          .then(res => {\r\n            if (res.Result) {\r\n              this.$router.push(\"/course\");       \r\n            } else if (res.Info) {\r\n              this.$toast(res.Info);\r\n            } else {\r\n              this.$toast(\"获取教室服务失败\");\r\n            }\r\n          })\r\n          .catch(err => {\r\n            this.$toast(\"获取教室服务出错\");\r\n          });\r\n      } else {\r\n        this.$router.push(\"/history\");\r\n      }\r\n    }\r\n  },\r\n  computed: {},\r\n  watch: {}\r\n};\r\n</script>\r\n\r\n<style lang='less'>\r\n#courseList {\r\n  .item {\r\n    padding: 1.5rem;\r\n    width: calc(100vw - 3rem);\r\n    text-align: left;\r\n    color: #666;\r\n    font-size: 1.2rem;\r\n    position: relative;\r\n    .tt-btn {\r\n      margin-bottom: 4vw;\r\n      overflow: hidden;\r\n      .tt {\r\n        float: left;\r\n        color: #333;\r\n        font-size: 1.6rem;\r\n      }\r\n      .btn {\r\n        button {\r\n          float: right;\r\n          width: 14.3vw;\r\n          height: 5.3vw;\r\n          background: rgba(0, 203, 171, 1);\r\n          border-radius: 3px;\r\n          color: #fff;\r\n          font-size: 1rem;\r\n          line-height: 5.3vw;\r\n        }\r\n        .btn-able {\r\n          background: rgba(0, 203, 171, 1);\r\n        }\r\n        .btn-disable {\r\n          background: rgb(255, 112, 83);\r\n        }\r\n      }\r\n    }\r\n    .tc-gd,\r\n    .cs-tm {\r\n      display: flex;\r\n      // justify-content:space-between;\r\n      line-height: 2;\r\n      .tc,\r\n      .cs {\r\n        width: 40%;\r\n      }\r\n      .gd,\r\n      .tm {\r\n        width: 60%;\r\n      }\r\n    }\r\n    .line {\r\n      position: absolute;\r\n      left: 0;\r\n      bottom: 0;\r\n      width: 92vw;\r\n      height: 1px;\r\n      background: rgba(221, 221, 221, 1);\r\n      right: 0;\r\n      margin-left: auto;\r\n      margin-right: auto;\r\n    }\r\n    &:last-child {\r\n      .line {\r\n        display: none;\r\n      }\r\n    }\r\n  }\r\n}\r\n</style>\n\n\n// WEBPACK FOOTER //\n// src/components/courseList.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{attrs:{\"id\":\"courseList\"}},[(_vm.course.length>0)?_c('div',_vm._l((_vm.course),function(item,i){return _c('div',{key:i,staticClass:\"item\"},[_c('div',{staticClass:\"tt-btn\"},[_c('div',{staticClass:\"tt\"},[_vm._v(_vm._s(item.CourseName))]),_vm._v(\" \"),_c('div',{staticClass:\"btn\"},[(_vm.courseType==='current' )?_c('button',{class:(item.State === 1 ? 'btn-able' : 'btn-disable'),attrs:{\"disabled\":item.State !== 1},on:{\"click\":function($event){return _vm.selectCourse(item)}}},[_vm._v(_vm._s(item.State === 1 ? '可进入' : '未开始'))]):(_vm.courseType!=='current')?_c('button',{on:{\"click\":function($event){return _vm.selectCourse(item)}}},[_vm._v(\"查看\")]):_vm._e()])]),_vm._v(\" \"),_c('div',{staticClass:\"tc-gd\"},[_c('div',{staticClass:\"tc\"},[_vm._v(\"老师：\"+_vm._s(item.TeacherName))]),_vm._v(\" \"),_c('div',{staticClass:\"gd\"},[_vm._v(\"班级：\"+_vm._s(item.ClassName))])]),_vm._v(\" \"),_c('div',{staticClass:\"cs-tm\"},[_c('div',{staticClass:\"cs\"},[_vm._v(\"教室：\"+_vm._s(item.ClassroomName))]),_vm._v(\" \"),_c('div',{staticClass:\"tm\"},[_vm._v(\"\\n          时间：\\n          \"+_vm._s(_vm._f(\"formatDay\")(item['ClassDate'],item['ClassDate']))+\"\\n          \"+_vm._s(_vm._f(\"formatTime\")(item['StartTime'],item['StartTime']))+\"\\n          -\\n          \"+_vm._s(_vm._f(\"formatTime\")(item['EndTime'],item['EndTime']))+\"\\n        \")])]),_vm._v(\" \"),_c('div',{staticClass:\"line\"})])}),0):_c('r-lack-data')],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-92f9f23a\",\"hasScoped\":false,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/courseList.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true,\\\"publicPath\\\":\\\"../../\\\"}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-92f9f23a\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!less-loader?{\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/selector?type=styles&index=0!./courseList.vue\")\n}\nvar normalizeComponent = require(\"!../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./courseList.vue\"\nimport __vue_script__ from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./courseList.vue\"\n/* template */\nimport __vue_template__ from \"!!../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-92f9f23a\\\",\\\"hasScoped\\\":false,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../node_modules/vue-loader/lib/selector?type=template&index=0!./courseList.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/courseList.vue\n// module id = null\n// module chunks = ","<template>\r\n  <div id=\"home-course\">\r\n    <head-top title=\"课程\" :show-back=\"false\">\r\n      <!-- <span v-show=\"headTopActive !==0\" @click=\"goBack\" class=\"head-back\" slot=\"left\">\r\n        <i class=\"iconfont iconrili\"></i>\r\n      </span>-->\r\n    </head-top>\r\n    <van-tabs v-model=\"headTopActive\" @change=\"changeCourse\">\r\n      <van-tab title=\"当前课程\">\r\n        <van-pull-refresh v-model=\"isLoading\" @refresh=\"changeCourse\" class=\"pull_fresh\">\r\n          <!-- <router-link to=\"/course\"> -->\r\n          <course-list class=\"list_card\" course-type=\"current\" :course=\"currentCourse.data\"></course-list>\r\n          <!-- </router-link> -->\r\n        </van-pull-refresh>\r\n      </van-tab>\r\n      <van-tab title=\"历史课程\">\r\n        <!-- <van-field\r\n          class=\"course_date\"\r\n          left-icon=\"tosend\"\r\n          type=\"date\"\r\n          v-model=\"historyCourse.form.startDate\"\r\n          @change=\"startChange()\"\r\n          :max=\"nowDate\"\r\n          placeholder=\"开始日期\"\r\n        >\r\n        </van-field>至\r\n        <van-field\r\n          class=\"course_date\"\r\n          left-icon=\"tosend\"\r\n          type=\"date\"\r\n          v-model=\"historyCourse.form.endDate\"\r\n          @change=\"endChange()\"\r\n          :max=\"nowDate\"\r\n          placeholder=\"结束日期\"\r\n        >\r\n        </van-field>-->\r\n        <van-pull-refresh v-model=\"isLoading\" @refresh=\"changeCourse\" class=\"pull_fresh\">\r\n          <!-- <router-link to=\"/history\"> -->\r\n          <course-list class=\"list_card\" course-type=\"history\" :course=\"historyCourse.data\"></course-list>\r\n          <!-- </router-link> -->\r\n        </van-pull-refresh>\r\n      </van-tab>\r\n    </van-tabs>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport headTop from \"@/components/headTop\";\r\nimport courseList from \"@/components/courseList\";\r\nimport { Tab, Tabs, Field } from \"vant\";\r\n// import { apiGetStudentCourseList } from \"@/api/main/course\";\r\nimport { getNowDate } from \"@/utils/index\";\r\nexport default {\r\n  name: \"\",\r\n  components: {\r\n    headTop,\r\n    [Tab.name]: Tab,\r\n    [Tabs.name]: Tabs,\r\n    [Field.name]: Field,\r\n    courseList\r\n  },\r\n  props: {},\r\n  data() {\r\n    return {\r\n      headTopActive: 0,\r\n      nowDate: getNowDate(),\r\n      currentCourse: {\r\n        form: {\r\n          startDate: getNowDate(),\r\n          endDate: getNowDate(),\r\n          stuid: this.$store.getters.studentID || \"\",\r\n          psize: 10,\r\n          pno: 1,\r\n          estate: 1\r\n        },\r\n        data: []\r\n      },\r\n      historyCourse: {\r\n        form: {\r\n          startDate: \"\",\r\n          endDate: getNowDate(),\r\n          stuid: this.$store.getters.studentID || \"\",\r\n          psize: 10,\r\n          pno: 1,\r\n          estate: 2\r\n        },\r\n        data: []\r\n      },\r\n      isLoading: false\r\n    };\r\n  },\r\n  beforeRouteEnter(to, from, next) {\r\n    next(vm => {\r\n      // 通过 `vm` 访问组件实例\r\n      if (from.path.indexOf(\"/history\") > -1) {\r\n        vm.headTopActive = 1;\r\n      }\r\n    });\r\n  },\r\n  mounted() {\r\n    this.$nextTick(() => {\r\n      let start = new Date();\r\n      // start.setDate(start.getDate() - 7);\r\n      start.setDate(start.getDate() - 30);\r\n      let Y = start.getFullYear();\r\n      let M =\r\n        start.getMonth() + 1 < 10\r\n          ? \"0\" + (start.getMonth() + 1)\r\n          : start.getMonth() + 1;\r\n      let D = start.getDate() < 10 ? \"0\" + start.getDate() : start.getDate();\r\n      this.historyCourse.form.startDate = Y + \"-\" + M + \"-\" + D;\r\n      this.changeCourse();\r\n    });\r\n  },\r\n  methods: {\r\n    goBack() {\r\n      console.log(\"返回监听\");\r\n    },\r\n    currentStudentCourse() {\r\n      this.currentCourse.data = [];\r\n      this.$mainHttp.course\r\n        .getStudentCourseList(this.currentCourse.form)\r\n        .then(res => {\r\n          if (res.Result && res.Datas && res.Datas.length > 0) {\r\n            res.Datas.forEach(item => {\r\n              this.currentCourse.data.push(item);\r\n            });\r\n          }\r\n          this.isLoading = false;\r\n        })\r\n        .catch(err => {\r\n          this.isLoading = false;\r\n        });\r\n    },\r\n    historyStudentCourse() {\r\n      this.historyCourse.data = [];\r\n      this.$mainHttp.course\r\n        .getStudentCourseList(this.historyCourse.form)\r\n        .then(res => {\r\n          if (res.Result && res.Datas && res.Datas.length > 0) {\r\n            res.Datas.forEach(item => {\r\n              if (\r\n                !this.historyCourse.data.find(\r\n                  r => JSON.stringify(r) === JSON.stringify(item)\r\n                )\r\n              )\r\n                this.historyCourse.data.push(item);\r\n            });\r\n          } else {\r\n          }\r\n          this.isLoading = false;\r\n        })\r\n        .catch(err => {\r\n          this.isLoading = false;\r\n        });\r\n    },\r\n    changeCourse() {\r\n      this.headTopActive === 0\r\n        ? this.currentStudentCourse()\r\n        : this.historyStudentCourse();\r\n    },\r\n    startChange(e) {\r\n      let start = new Date(this.historyCourse.form.startDate).getTime();\r\n      let end = new Date(this.historyCourse.form.endDate).getTime();\r\n      if (start > end) {\r\n        this.historyCourse.form.startDate = this.historyCourse.form.endDate;\r\n      }\r\n      this.historyStudentCourse();\r\n    },\r\n    endChange(e) {\r\n      let start = new Date(this.historyCourse.form.startDate).getTime();\r\n      let end = new Date(this.historyCourse.form.endDate).getTime();\r\n      if (start > end) {\r\n        this.historyCourse.form.endDate = this.historyCourse.form.startDate;\r\n      }\r\n      this.historyStudentCourse();\r\n    }\r\n  },\r\n  computed: {},\r\n  watch: {},\r\n  created() {}\r\n};\r\n</script>\r\n\r\n<style lang='less'>\r\n#home-course {\r\n  .head-back {\r\n    .iconfanhui {\r\n      display: none;\r\n    }\r\n  }\r\n  .rightBtn {\r\n    button {\r\n      position: absolute;\r\n      right: 4vw;\r\n      top: 4vw;\r\n      font-size: 1.2rem;\r\n      width: 13vw;\r\n      height: 5.3vw;\r\n      background: rgba(0, 203, 171, 1);\r\n      line-height: 1.5rem;\r\n      color: #fff;\r\n    }\r\n  }\r\n\r\n  .van-tabs__wrap {\r\n    // height: 5rem;\r\n    .van-tab {\r\n      // line-height: 5rem;\r\n      span {\r\n        font-size: 1.17rem;\r\n        font-family: MicrosoftYaHei;\r\n        font-weight: 400;\r\n        color: rgba(0, 203, 171, 1);\r\n      }\r\n    }\r\n    .van-tabs__line {\r\n      width: 16vw;\r\n      height: 1px;\r\n      background: rgba(0, 203, 171, 1);\r\n    }\r\n    // .van-tabs__content{\r\n\r\n    // }\r\n  }\r\n\r\n  .pull_fresh {\r\n    .van-pull-refresh__track {\r\n      height: calc(100vh - 4.5rem - 50px - 44px - 15px);\r\n    }\r\n  }\r\n\r\n  .course_date {\r\n    width: calc(45vw);\r\n    margin: 0 calc(1vw);\r\n    margin-top: 10px;\r\n    display: inline-flex;\r\n  }\r\n\r\n  .list_card {\r\n    max-height: calc(100vh - 4.3rem - 44px - 6vh - 1rem);\r\n    margin-top: 1rem;\r\n    overflow-y: auto;\r\n    background: #fff;\r\n  }\r\n}\r\n</style>\n\n\n// WEBPACK FOOTER //\n// src/pages/homeCourse.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{attrs:{\"id\":\"home-course\"}},[_c('head-top',{attrs:{\"title\":\"课程\",\"show-back\":false}}),_vm._v(\" \"),_c('van-tabs',{on:{\"change\":_vm.changeCourse},model:{value:(_vm.headTopActive),callback:function ($$v) {_vm.headTopActive=$$v},expression:\"headTopActive\"}},[_c('van-tab',{attrs:{\"title\":\"当前课程\"}},[_c('van-pull-refresh',{staticClass:\"pull_fresh\",on:{\"refresh\":_vm.changeCourse},model:{value:(_vm.isLoading),callback:function ($$v) {_vm.isLoading=$$v},expression:\"isLoading\"}},[_c('course-list',{staticClass:\"list_card\",attrs:{\"course-type\":\"current\",\"course\":_vm.currentCourse.data}})],1)],1),_vm._v(\" \"),_c('van-tab',{attrs:{\"title\":\"历史课程\"}},[_c('van-pull-refresh',{staticClass:\"pull_fresh\",on:{\"refresh\":_vm.changeCourse},model:{value:(_vm.isLoading),callback:function ($$v) {_vm.isLoading=$$v},expression:\"isLoading\"}},[_c('course-list',{staticClass:\"list_card\",attrs:{\"course-type\":\"history\",\"course\":_vm.historyCourse.data}})],1)],1)],1)],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-2e1b80f4\",\"hasScoped\":false,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/pages/homeCourse.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true,\\\"publicPath\\\":\\\"../../\\\"}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-2e1b80f4\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!less-loader?{\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/selector?type=styles&index=0!./homeCourse.vue\")\n}\nvar normalizeComponent = require(\"!../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./homeCourse.vue\"\nimport __vue_script__ from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./homeCourse.vue\"\n/* template */\nimport __vue_template__ from \"!!../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-2e1b80f4\\\",\\\"hasScoped\\\":false,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../node_modules/vue-loader/lib/selector?type=template&index=0!./homeCourse.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/pages/homeCourse.vue\n// module id = null\n// module chunks = "],"sourceRoot":""}