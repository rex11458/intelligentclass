webpackJsonp([28],{GdsQ:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=a("mvHQ"),s=a.n(i),n=a("bBUo"),o=a("1wEQ"),r=a("FwVa"),d={name:"",components:{headTop:n.a,RImage:o.a},props:{},data:function(){return{isLoading:!1,dataList:[]}},created:function(){},mounted:function(){var t=this;this.$nextTick(function(){t.getDataList()})},methods:{getDataList:function(){var t=this;this.isLoading=!0,this.dataList=[],this.$gatewayHttp.boardNote.getList({courseID:this.$store.getters.courseID}).then(function(e){e.Result&&e.Datas&&e.Datas.length>0&&(e.Datas.forEach(function(e){var a={img:t.$gatewayHttp.resourse.picture(e.BNContent,r.g.BoardNote),state:e.State,title:e.BNTitle,time:e.CreateTime,id:e.BNID,content:e.BNContent};-1===t.dataList.findIndex(function(t){return s()(a)===s()(t)})&&t.dataList.push(a)}),t.autoShow()),t.isLoading=!1}).catch(function(e){t.isLoading=!1})},autoShow:function(){var t=this;this.$store.getters.boardNote&&this.$store.getters.boardNote.id&&(this.dataList.find(function(e){return e.id===t.$store.getters.boardNote.id})&&setTimeout(function(){t.$refs.refImg0[0].preview(),t.$store.commit("SET_BOARDNOTE",{})},500))}},watch:{"$store.getters.boardNote":function(t,e){t&&t.id&&this.getDataList()}}},c={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"blackboardWriting"}},[a("head-top",{attrs:{title:"板书"}}),t._v(" "),a("van-pull-refresh",{staticClass:"pull_fresh",on:{refresh:t.getDataList},model:{value:t.isLoading,callback:function(e){t.isLoading=e},expression:"isLoading"}},[t.dataList.length>0?a("div",{staticClass:"main"},t._l(t.dataList,function(e,i){return a("div",{key:i,staticClass:"item"},[a("div",{staticClass:"bg fL"},[a("r-image",{ref:"refImg"+i,refInFor:!0,attrs:{width:"80px",height:"58px",src:e.img}})],1),t._v(" "),a("div",{staticClass:"time fR"},[a("div",{staticClass:"info"},[t._v(t._s(t._f("formatDate")(e.time,e.time)))])])])}),0):a("r-lack-data")],1)],1)},staticRenderFns:[]};var u=a("VU/8")(d,c,!1,function(t){a("clmC")},"data-v-3462c616",null);e.default=u.exports},clmC:function(t,e){}});
//# sourceMappingURL=28.7d51d08d286adb80ebf3.js.map