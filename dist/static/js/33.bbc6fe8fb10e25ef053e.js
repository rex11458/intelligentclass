webpackJsonp([33],{D83T:function(t,e){},FdyN:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=i("Dd8w"),s=i.n(a),n=i("FwVa"),c={name:"",components:{},props:{},data:function(){return{headTopActive:0,isLoading:!1,questionList:[],practiceList:[]}},beforeRouteEnter:function(t,e,i){i(function(t){e.path.indexOf("/classPractice")>-1&&(t.headTopActive=1)})},mounted:function(){var t=this;this.$nextTick(function(){t.$route.params&&"1"===t.$route.params.selected&&(t.headTopActive=1),t.getQuestionData(),t.getPracticeData()})},methods:{getQuestionData:function(){var t=this;this.isLoading=!0,this.questionList=[],this.$mainHttp.screenQuestion.getList({ciID:this.$store.getters.courseID,ssType:0}).then(function(e){e.Result&&e.Datas&&e.Datas.length>0&&e.Datas.forEach(function(e){t.questionList.push(s()({},e,{img:t.$mainHttp.common.picture(e.SSContent,n.h.ScreenSubject)}))}),t.isLoading=!1}).catch(function(){t.isLoading=!1})},getPracticeData:function(){var t=this;this.isLoading=!0,this.practiceList=[],this.$mainHttp.classPractise.getList({ciID:this.$store.getters.courseID}).then(function(e){t.practiceList=[],e.Result&&e.Datas&&e.Datas.length>0&&e.Datas.forEach(function(e){-1===t.practiceList.indexOf(e)&&t.practiceList.push(e)}),t.isLoading=!1}).catch(function(e){t.isLoading=!1})},getQuestionTypeName:function(t){return Object(n.p)(t)},getPatternName:function(t){return Object(n.o)(t)},getStateName:function(t){return Object(n.a)(parseInt(t))},selectQuestion:function(t){this.$router.push("/screenQuestion/"+t.SSID)},selectPractice:function(t){1!==t.State&&this.$router.push("/classPractice/"+t.CIPID+"/"+t.Key.PLID+"/"+t.Total+"/"+t.CIPState)}},watch:{"$store.getters.classPractice":function(t,e){if(t!==e){console.log("newVal:",t);var i=0===t.step,a=t.type===n.i.end&&1===this.headTopActive;(i||a)&&(console.log("111111111"),this.headTopActive=1,this.getPracticeData())}}}},o={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{attrs:{id:"quiz"}},[i("head-top",{attrs:{title:"随堂测验"}}),t._v(" "),i("van-tabs",{model:{value:t.headTopActive,callback:function(e){t.headTopActive=e},expression:"headTopActive"}},[i("van-tab",{attrs:{title:"截屏提问"}},[i("van-pull-refresh",{staticClass:"pull_fresh",on:{refresh:t.getQuestionData},model:{value:t.isLoading,callback:function(e){t.isLoading=e},expression:"isLoading"}},[t.questionList.length>0?i("div",{staticClass:"question-content"},t._l(t.questionList,function(e,a){return i("div",{key:a,staticClass:"item",on:{click:function(i){return t.selectQuestion(e)}}},[i("div",{staticClass:"bg fL"},[i("img",{attrs:{src:e.img,alt:""}})]),t._v(" "),i("div",{staticClass:"details fR"},[i("div",{staticClass:"info"},[t._v("\n                "+t._s(e.SSSerial+".["+t.getQuestionTypeName(e.SSType)+"] "+e.SSScore+"分")+"\n              ")]),t._v(" "),i("div",{staticClass:"time"},[t._v(t._s(t._f("formatDate")(e.CreateTime,e.CreateTime)))])]),t._v(" "),i("span",{staticClass:"prompt",class:3===e.SSPattern?"red":"green"},[t._v(t._s(t.getPatternName(e.SSPattern)))])])}),0):i("r-lack-data")],1)],1),t._v(" "),i("van-tab",{attrs:{title:"随堂练习"}},[i("van-pull-refresh",{staticClass:"pull_fresh",on:{refresh:t.getPracticeData},model:{value:t.isLoading,callback:function(e){t.isLoading=e},expression:"isLoading"}},[t.practiceList.length>0?i("div",{staticClass:"practice-content"},t._l(t.practiceList,function(e,a){return i("div",{key:a,staticClass:"item",on:{click:function(i){return t.selectPractice(e)}}},[i("div",{staticClass:"biaoti"},[t._v("\n              "+t._s(e.PLTitle)+"\n              "),i("div",{staticClass:"line_state",class:["3","4"].indexOf(e.CIPState)>-1?"red":"2"===e.CIPState?"green":""},[t._v("\n                "+t._s(t.getStateName(e.CIPState)))])]),t._v(" "),i("div",{staticClass:"content"},[i("div",[t._v("\n                总分:\n                "),i("span",[t._v(t._s(e.Score))])]),t._v(" "),i("div",[t._v("\n                题数:\n                "),i("span",[t._v(t._s(e.Total||0)+"题")])]),t._v(" "),i("div",[t._v("\n                时间:\n                "),i("span",[t._v(t._s(t._f("formatDate")(e.Key.CreateTime,e.Key.CreateTime)))])])])])}),0):i("r-lack-data")],1)],1)],1)],1)},staticRenderFns:[]};var r=i("VU/8")(c,o,!1,function(t){i("D83T")},"data-v-7ad4c171",null);e.default=r.exports}});
//# sourceMappingURL=33.bbc6fe8fb10e25ef053e.js.map