webpackJsonp([3],{"/n6Q":function(t,e,n){n("zQR9"),n("+tPU"),t.exports=n("Kh4W").f("iterator")},"06OY":function(t,e,n){var i=n("3Eo+")("meta"),o=n("EqjI"),s=n("D2L2"),r=n("evD5").f,a=0,u=Object.isExtensible||function(){return!0},c=!n("S82l")(function(){return u(Object.preventExtensions({}))}),f=function(t){r(t,i,{value:{i:"O"+ ++a,w:{}}})},l=t.exports={KEY:i,NEED:!1,fastKey:function(t,e){if(!o(t))return"symbol"==typeof t?t:("string"==typeof t?"S":"P")+t;if(!s(t,i)){if(!u(t))return"F";if(!e)return"E";f(t)}return t[i].i},getWeak:function(t,e){if(!s(t,i)){if(!u(t))return!0;if(!e)return!1;f(t)}return t[i].w},onFreeze:function(t){return c&&l.NEED&&u(t)&&!s(t,i)&&f(t),t}}},"5QVw":function(t,e,n){t.exports={default:n("BwfY"),__esModule:!0}},"6XPT":function(t,e,n){"use strict";var i={name:"r-digit-input",props:{title:{type:String,default:""},subTitle:{type:String,default:""},codeLength:{type:Number,default:1},btnName:{type:String,default:"操作"},codeName:{type:String,default:"邀请码"}},data:function(){return{invitedLoading:!1,codeValue:""}},computed:{codeArr:function(){for(var t=[],e=(t=this.codeValue.split("")).length;e<this.codeLength;e++)t.push("");return t}},methods:{init:function(){var t=this;this.codeValue="",setTimeout(function(){t.$refs.topText.focus()},0)},onTextInput:function(t,e){this.codeArr.splice(t,1,e.data)},onInput:function(t){this.codeArr[t]&&t<this.codeLength-1&&this.$refs["ref"+(t+1)][0].focus()},onDelete:function(t){t>0&&this.$refs["ref"+(t-1)][0].focus()},submitCode:function(){this.codeArr.find(function(t){return!t})>-1?this.$toast("请输入"+this.codeName):this.$emit("submit",this.codeArr)}}},o={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"r-digit"},[n("p",{staticClass:"digit-title"},[t._v(t._s(t.title))]),t._v(" "),n("p",{staticClass:"digit-remark"},[t._v(t._s(t.subTitle))]),t._v(" "),n("div",{staticClass:"digit-main"},[n("div",[n("van-field",{ref:"topText",staticClass:"digit-top",attrs:{type:"digit",maxlength:t.codeLength},model:{value:t.codeValue,callback:function(e){t.codeValue=e},expression:"codeValue"}})],1),t._v(" "),n("div",{staticClass:"digit-input"},t._l(t.codeArr.length,function(e,i){return n("van-field",{key:i,class:["digit-text","len_"+t.codeArr.length,i===t.codeValue.length?"digit-focus":""],staticStyle:{width:"10vw"},attrs:{type:"digit",disabled:"",maxlength:"1"},model:{value:t.codeArr[i],callback:function(e){t.$set(t.codeArr,i,e)},expression:"codeArr[index]"}})}),1)]),t._v(" "),n("div",{staticClass:"digit-operate"},[n("van-button",{staticClass:"digit-btn",attrs:{type:"primary",loading:t.invitedLoading},on:{click:t.submitCode}},[t._v("\n      "+t._s(t.btnName)+"\n    ")])],1)])},staticRenderFns:[]},s=n("VU/8")(i,o,!1,null,null,null).exports;e.a=s},"7UMu":function(t,e,n){var i=n("R9M2");t.exports=Array.isArray||function(t){return"Array"==i(t)}},Bdsp:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n("mvHQ"),o=n.n(i),s=n("pFYg"),r=n.n(s),a=n("Yp6c"),u=n("6XPT"),c=n("j/ZV"),f={name:"",components:{RDropdown:a.a,RDigitInput:u.a},props:{},data:function(){return{state:"尚未签到",nowDateTime:"",course:this.$store.getters.course,signModel:1,signState:0,signList:[],signShow:!1,signCode:["","","",""],signLoading:!1}},created:function(){var t=this;window.acceptQRcode=function(e){console.log("接收签到码：",e);var n=t.isJsonString(e);return t.qrCodeSign(n&&n.CIID?n.CIID+","+n.SignCode:n,"scan"),!0},this.getSignWay()},mounted:function(){},methods:{isJsonString:function(t){try{if("object"===r()(JSON.parse(t)))return JSON.parse(t)}catch(t){}return t},scanOpen:function(){this.$refs.DropDown.hide(),Object(c.b)(c.a.openQRcode,"")},codeOpen:function(){var t=this;this.$refs.DropDown.hide(),this.signCode=["","","",""],this.signShow=!0,setTimeout(function(){t.$refs.digit.init()},0)},submitSignCode:function(t){this.qrCodeSign(t.join(""),"code")},getSignWay:function(){var t=this;this.signList=[],this.$gatewayHttp.sign.dataList({CIID:this.$store.getters.courseID,studentID:this.$store.getters.studentID}).then(function(e){e.Datas&&e.Datas.length>0&&e.Datas.forEach(function(e){t.signList.push(e)}),e.SignModel?(t.signModel=e.SignModel,t.signState=e.Result?1:0,t.autoSign()):(t.state="签到失败",t.$toast("获取签到状态失败~"))}).catch(function(e){t.state="签到失败",t.$toast("获取签到状态异常~")})},autoSign:function(){1===this.signState?this.state="已签到":1===this.signModel&&this.qrCodeSign("")},qrCodeSign:function(t,e){var n=this;this.state="签到中...";var i="string"==typeof t?t:o()(t),s={studentID:this.$store.getters.studentID,qrCodeStr:"",signCode:""};"scan"===e?s.qrCodeStr=i:"code"===e&&(s.signCode=i),this.$gatewayHttp.sign.getSign(s).then(function(t){t.Result?(n.signState=1,n.state="签到成功",n.signShow=!1,n.$toast("签到成功"),n.getSignList()):n.state=t.Info?t.Info:"签到失败"}).catch(function(t){n.state="签到失败"})},getSignList:function(){var t=this;this.signList=[],this.$gatewayHttp.sign.dataList({CIID:this.$store.getters.courseID,studentID:this.$store.getters.studentID}).then(function(e){e.Result?e.Datas&&e.Datas.length>0&&e.Datas.forEach(function(e){t.signList.push(e)}):t.$toast("获取签到数据失败")}).catch(function(e){t.$toast("获取签到数据异常")})}},computed:{},watch:{}},l={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{attrs:{id:"sign-in"}},[n("head-top",{attrs:{title:"签到"}},[1!==t.signState&&1!==t.signModel?n("r-dropdown",{ref:"DropDown",staticClass:"head-right",attrs:{slot:"right"},slot:"right"},[n("van-icon",{ref:"Scan",attrs:{name:"scan"}}),t._v(" "),n("div",{attrs:{slot:"menu"},slot:"menu"},[n("div",{staticClass:"head_menu_item",on:{click:t.scanOpen}},[t._v("扫一扫")]),t._v(" "),n("div",{staticClass:"head_menu_item",on:{click:t.codeOpen}},[t._v("签到码")])])],1):t._e()],1),t._v(" "),n("div",{staticClass:"bg"}),t._v(" "),n("div",{staticClass:"content"},[n("div",{staticClass:"success-info"},[t._v(t._s(t.$store.getters.student.StudentName+"，"+t.state))]),t._v(" "),n("div",{staticClass:"title"},[t._v(t._s(t.course.CourseName))]),t._v(" "),n("div",{staticClass:"flex-evenly"},[n("span",[t._v("老师："+t._s(t.course.TeacherName))]),t._v(" "),n("span",[t._v("班级："+t._s(t.course.ClassName))])]),t._v(" "),n("div",{staticClass:"flex-evenly"},[n("span",[t._v("教室："+t._s(t.course.ClassroomName))]),t._v(" "),n("span",[t._v("\n        时间：\n        "+t._s(t._f("formatDate")(t.course.CreateTime,t.course.CreateTime))+"\n      ")])])]),t._v(" "),1===t.signList.length?n("div",{staticClass:"sign_info"},[n("van-tag",{attrs:{plain:"",type:"primary",size:"large"}},[t._v("\n      签到时间：\n      "+t._s(t._f("formatDate")(t.signList[0].Key.SignTime,t.signList[0].Key.SignTime))+"\n    ")])],1):t.signList.length>1?n("div",{staticClass:"sign_info"},[n("div",{staticClass:"sign_item"},t._l(t.signList,function(e,i){return n("van-tag",{key:i,staticStyle:{"margin-bottom":"3vw"},attrs:{plain:"",type:"success",size:"large"}},[t._v("\n        第"+t._s(e.SignNumber)+"次签到:\n        "+t._s(t._f("formatDate")(e.Key.SignTime,e.Key.SignTime))+"\n      ")])}),1)]):t._e(),t._v(" "),n("van-popup",{model:{value:t.signShow,callback:function(e){t.signShow=e},expression:"signShow"}},[n("r-digit-input",{ref:"digit",attrs:{title:"请在下方输入签到码进行签到","code-length":4,"btn-name":"签到","code-name":"签到码"},on:{submit:t.submitSignCode}})],1)],1)},staticRenderFns:[]};var d=n("VU/8")(f,l,!1,function(t){n("fOsC")},"data-v-1ea305c4",null);e.default=d.exports},BwfY:function(t,e,n){n("fWfb"),n("M6a0"),n("OYls"),n("QWe/"),t.exports=n("FeBl").Symbol},Kh4W:function(t,e,n){e.f=n("dSzd")},LKZe:function(t,e,n){var i=n("NpIQ"),o=n("X8DO"),s=n("TcQ7"),r=n("MmMw"),a=n("D2L2"),u=n("SfB7"),c=Object.getOwnPropertyDescriptor;e.f=n("+E39")?c:function(t,e){if(t=s(t),e=r(e,!0),u)try{return c(t,e)}catch(t){}if(a(t,e))return o(!i.f.call(t,e),t[e])}},OYls:function(t,e,n){n("crlp")("asyncIterator")},"QWe/":function(t,e,n){n("crlp")("observable")},Rrel:function(t,e,n){var i=n("TcQ7"),o=n("n0T6").f,s={}.toString,r="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[];t.exports.f=function(t){return r&&"[object Window]"==s.call(t)?function(t){try{return o(t)}catch(t){return r.slice()}}(t):o(i(t))}},Xc4G:function(t,e,n){var i=n("lktj"),o=n("1kS7"),s=n("NpIQ");t.exports=function(t){var e=i(t),n=o.f;if(n)for(var r,a=n(t),u=s.f,c=0;a.length>c;)u.call(t,r=a[c++])&&e.push(r);return e}},Yp6c:function(t,e,n){"use strict";var i={name:"r-dropdown",data:function(){return{showMenu:!1,positionStyle:{top:"20px",left:"20px"}}},props:{selected:{}},created:function(){},mounted:function(){this.selectedOption=this.selected,document.addEventListener("click",this.hidePanel,!1)},destroyed:function(){document.removeEventListener("click",this.hidePanel,!1)},methods:{updateOption:function(t){this.selectedOption=t,this.$emit("updateOption",this.selectedOption)},toggleMenu:function(t){var e=this;this.showMenu=!this.showMenu;var n=document.body.clientWidth,i=document.body.clientHeight;setTimeout(function(){var t=e.$refs.downInfo.getBoundingClientRect(),o=e.$refs.downMenu.getBoundingClientRect(),s=0,r=0;s=t.width>=o.width?t.left+(t.width-o.width)/2:n-(t.left+(t.width-o.width)/2)>=o.width?t.left+(t.width-o.width)/2:n-o.width-5,r=o.height>=i-t.bottom+5?t.top-o.height+5:t.height+t.top-5,e.positionStyle={top:r+"px",left:s+"px"}},10)},closeBtnGroup:function(){this.showMenu=!1},hide:function(){var t=this;setTimeout(function(){t.showMenu=!1},150)},hidePanel:function(t){this.$refs.downMain.contains(t.target)||(this.showMenu=!1)}}},o={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{ref:"downMain",staticClass:"r-dropdown"},[n("div",{ref:"downInfo",staticClass:"down-info",on:{click:function(e){return t.toggleMenu(e)}}},[t._t("default")],2),t._v(" "),n("div",{directives:[{name:"show",rawName:"v-show",value:t.showMenu,expression:"showMenu"}],ref:"downMenu",staticClass:"dropdown-menu",style:t.positionStyle},[t._t("menu")],2)])},staticRenderFns:[]},s=n("VU/8")(i,o,!1,null,null,null).exports;e.a=s},Zzip:function(t,e,n){t.exports={default:n("/n6Q"),__esModule:!0}},crlp:function(t,e,n){var i=n("7KvD"),o=n("FeBl"),s=n("O4g8"),r=n("Kh4W"),a=n("evD5").f;t.exports=function(t){var e=o.Symbol||(o.Symbol=s?{}:i.Symbol||{});"_"==t.charAt(0)||t in e||a(e,t,{value:r.f(t)})}},fOsC:function(t,e){},fWfb:function(t,e,n){"use strict";var i=n("7KvD"),o=n("D2L2"),s=n("+E39"),r=n("kM2E"),a=n("880/"),u=n("06OY").KEY,c=n("S82l"),f=n("e8AB"),l=n("e6n0"),d=n("3Eo+"),p=n("dSzd"),h=n("Kh4W"),g=n("crlp"),v=n("Xc4G"),m=n("7UMu"),y=n("77Pl"),S=n("EqjI"),b=n("sB3e"),w=n("TcQ7"),_=n("MmMw"),C=n("X8DO"),O=n("Yobk"),D=n("Rrel"),M=n("LKZe"),x=n("1kS7"),I=n("evD5"),$=n("lktj"),L=M.f,T=I.f,E=D.f,N=i.Symbol,k=i.JSON,j=k&&k.stringify,P=p("_hidden"),Q=p("toPrimitive"),R={}.propertyIsEnumerable,A=f("symbol-registry"),F=f("symbols"),K=f("op-symbols"),W=Object.prototype,V="function"==typeof N&&!!x.f,Y=i.QObject,B=!Y||!Y.prototype||!Y.prototype.findChild,J=s&&c(function(){return 7!=O(T({},"a",{get:function(){return T(this,"a",{value:7}).a}})).a})?function(t,e,n){var i=L(W,e);i&&delete W[e],T(t,e,n),i&&t!==W&&T(W,e,i)}:T,q=function(t){var e=F[t]=O(N.prototype);return e._k=t,e},z=V&&"symbol"==typeof N.iterator?function(t){return"symbol"==typeof t}:function(t){return t instanceof N},U=function(t,e,n){return t===W&&U(K,e,n),y(t),e=_(e,!0),y(n),o(F,e)?(n.enumerable?(o(t,P)&&t[P][e]&&(t[P][e]=!1),n=O(n,{enumerable:C(0,!1)})):(o(t,P)||T(t,P,C(1,{})),t[P][e]=!0),J(t,e,n)):T(t,e,n)},X=function(t,e){y(t);for(var n,i=v(e=w(e)),o=0,s=i.length;s>o;)U(t,n=i[o++],e[n]);return t},H=function(t){var e=R.call(this,t=_(t,!0));return!(this===W&&o(F,t)&&!o(K,t))&&(!(e||!o(this,t)||!o(F,t)||o(this,P)&&this[P][t])||e)},Z=function(t,e){if(t=w(t),e=_(e,!0),t!==W||!o(F,e)||o(K,e)){var n=L(t,e);return!n||!o(F,e)||o(t,P)&&t[P][e]||(n.enumerable=!0),n}},G=function(t){for(var e,n=E(w(t)),i=[],s=0;n.length>s;)o(F,e=n[s++])||e==P||e==u||i.push(e);return i},tt=function(t){for(var e,n=t===W,i=E(n?K:w(t)),s=[],r=0;i.length>r;)!o(F,e=i[r++])||n&&!o(W,e)||s.push(F[e]);return s};V||(a((N=function(){if(this instanceof N)throw TypeError("Symbol is not a constructor!");var t=d(arguments.length>0?arguments[0]:void 0),e=function(n){this===W&&e.call(K,n),o(this,P)&&o(this[P],t)&&(this[P][t]=!1),J(this,t,C(1,n))};return s&&B&&J(W,t,{configurable:!0,set:e}),q(t)}).prototype,"toString",function(){return this._k}),M.f=Z,I.f=U,n("n0T6").f=D.f=G,n("NpIQ").f=H,x.f=tt,s&&!n("O4g8")&&a(W,"propertyIsEnumerable",H,!0),h.f=function(t){return q(p(t))}),r(r.G+r.W+r.F*!V,{Symbol:N});for(var et="hasInstance,isConcatSpreadable,iterator,match,replace,search,species,split,toPrimitive,toStringTag,unscopables".split(","),nt=0;et.length>nt;)p(et[nt++]);for(var it=$(p.store),ot=0;it.length>ot;)g(it[ot++]);r(r.S+r.F*!V,"Symbol",{for:function(t){return o(A,t+="")?A[t]:A[t]=N(t)},keyFor:function(t){if(!z(t))throw TypeError(t+" is not a symbol!");for(var e in A)if(A[e]===t)return e},useSetter:function(){B=!0},useSimple:function(){B=!1}}),r(r.S+r.F*!V,"Object",{create:function(t,e){return void 0===e?O(t):X(O(t),e)},defineProperty:U,defineProperties:X,getOwnPropertyDescriptor:Z,getOwnPropertyNames:G,getOwnPropertySymbols:tt});var st=c(function(){x.f(1)});r(r.S+r.F*st,"Object",{getOwnPropertySymbols:function(t){return x.f(b(t))}}),k&&r(r.S+r.F*(!V||c(function(){var t=N();return"[null]"!=j([t])||"{}"!=j({a:t})||"{}"!=j(Object(t))})),"JSON",{stringify:function(t){for(var e,n,i=[t],o=1;arguments.length>o;)i.push(arguments[o++]);if(n=e=i[1],(S(e)||void 0!==t)&&!z(t))return m(e)||(e=function(t,e){if("function"==typeof n&&(e=n.call(this,t,e)),!z(e))return e}),i[1]=e,j.apply(k,i)}}),N.prototype[Q]||n("hJx8")(N.prototype,Q,N.prototype.valueOf),l(N,"Symbol"),l(Math,"Math",!0),l(i.JSON,"JSON",!0)},n0T6:function(t,e,n){var i=n("Ibhu"),o=n("xnc9").concat("length","prototype");e.f=Object.getOwnPropertyNames||function(t){return i(t,o)}},pFYg:function(t,e,n){"use strict";e.__esModule=!0;var i=r(n("Zzip")),o=r(n("5QVw")),s="function"==typeof o.default&&"symbol"==typeof i.default?function(t){return typeof t}:function(t){return t&&"function"==typeof o.default&&t.constructor===o.default&&t!==o.default.prototype?"symbol":typeof t};function r(t){return t&&t.__esModule?t:{default:t}}e.default="function"==typeof o.default&&"symbol"===s(i.default)?function(t){return void 0===t?"undefined":s(t)}:function(t){return t&&"function"==typeof o.default&&t.constructor===o.default&&t!==o.default.prototype?"symbol":void 0===t?"undefined":s(t)}}});
//# sourceMappingURL=3.5bc60668a001ae3d23ee.js.map