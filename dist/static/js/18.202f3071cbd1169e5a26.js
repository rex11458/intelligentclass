webpackJsonp([18],{"8OLR":function(t,a){},r9Vt:function(t,a,e){"use strict";Object.defineProperty(a,"__esModule",{value:!0});var i={name:"",components:{RCourseware:e("zaAt").a},data:function(){return{}},created:function(){},mounted:function(){},methods:{},computed:{},watch:{}},n={render:function(){var t=this.$createElement,a=this._self._c||t;return a("div",[a("r-courseware",{attrs:{"route-type":"history"}})],1)},staticRenderFns:[]},o=e("VU/8")(i,n,!1,null,null,null);a.default=o.exports},zaAt:function(t,a,e){"use strict";var i,n=e("bOdI"),o=e.n(n),r=(e("XmAh"),e("il3B")),s=(e("k3b4"),e("+2ln")),l=(e("nOaS"),e("pIDD")),c=e("bBUo"),u=e("j/ZV"),d={name:"",components:(i={headTop:c.a},o()(i,l.a.name,l.a),o()(i,s.a.name,s.a),o()(i,r.a.name,r.a),i),props:{routeType:{type:String,default:"course"}},data:function(){return{dataList:[],loading:!1}},created:function(){},mounted:function(){var t=this;this.$nextTick(function(){t.getDataList()})},methods:{getDataList:function(){var t=this;this.dataList=[],this.loading=!0,this.$mainHttp.courseware.getList({courseID:this.$store.getters.courseID,attribute:2}).then(function(a){a.Result&&a.Datas&&a.Datas.length>0&&a.Datas.forEach(function(a){t.dataList.push(a)}),t.loading=!1}).catch(function(a){t.loading=!1})},download:function(t){var a=this.$mainHttp.resourse.file(t.Value.MaterialID);console.log(a),window.webkit?Object(u.b)(u.a.downloadFile,a).then(function(t){}).catch(function(t){}):(window.location.href=a,this.$toast("下载开始"))},previewFile:function(t,a){var e=this;a.Value.MaterialFileSize>15728640?r.a.confirm({title:"提示",message:"超过15MB的文档，建议您下载到本地查看",confirmButtonText:"关闭",cancelButtonText:"下载",cancelButtonColor:"#909399"}).then(function(){}).catch(function(){e.download(a)}):this.toPreviewUrl(a)},toPreviewUrl:function(t){"course"===this.routeType?this.$router.push("/coursewareView/"+t.Value.MaterialID+"/"+t.Value.MaterialFileExt+"/"+t.Value.MaterialName):this.$router.push("/history/coursewareView/"+t.Value.MaterialID+"/"+t.Value.MaterialFileExt+"/"+t.Value.MaterialName)}},computed:{},watch:{}},f={render:function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{attrs:{id:"courseware"}},[e("head-top",{attrs:{title:"课件"}}),t._v(" "),e("van-pull-refresh",{staticClass:"pull_fresh",on:{refresh:t.getDataList},model:{value:t.loading,callback:function(a){t.loading=a},expression:"loading"}},[e("div",{staticClass:"main"},[t._l(t.dataList,function(a,i){return e("div",{key:i,staticClass:"item"},[e("div",{staticClass:"fL"},[e("i",{staticClass:"iconfont icon-word"}),t._v(" "),e("span",{staticClass:"title time"},[t._v(t._s(a.Value.MaterialName+"."+a.Value.MaterialFileExt))])]),t._v(" "),e("div",{staticClass:"size time fR"},[a.Value.MaterialFileSize>1048576?e("span",[t._v(t._s(Math.round(a.Value.MaterialFileSize/1024/1024))+"\n            MB")]):e("span",[t._v(t._s(Math.round(a.Value.MaterialFileSize/1024))+" KB")]),t._v(" "),e("van-icon",{attrs:{"class-prefix":"iconfont icon-yulan"},on:{click:function(e){return e.stopPropagation(),e.preventDefault(),t.previewFile(e,a)}}}),t._v(" "),e("van-icon",{attrs:{"class-prefix":"iconfont icon-xiazai"},on:{click:function(e){return e.stopPropagation(),e.preventDefault(),t.download(a)}}})],1)])}),t._v(" "),t.loading?e("van-loading",{attrs:{type:"spinner",color:"#1989fa"}},[t._v("加载中...")]):t.dataList&&0!==t.dataList.length?t._e():e("r-lack-data")],2)])],1)},staticRenderFns:[]};var h=e("VU/8")(d,f,!1,function(t){e("8OLR")},"data-v-496b1a4c",null);a.a=h.exports}});
//# sourceMappingURL=18.202f3071cbd1169e5a26.js.map