webpackJsonp([25],{KHMi:function(t,a,e){"use strict";Object.defineProperty(a,"__esModule",{value:!0});var i=e("bOdI"),n=e.n(i),s=(e("nOaS"),e("pIDD")),o=e("bBUo"),l=e("j/ZV"),r={name:"",components:n()({headTop:o.a},s.a.name,s.a),props:{},data:function(){return{dataList:[],loading:!1}},created:function(){},mounted:function(){var t=this;this.$nextTick(function(){t.getDataList()})},methods:{getDataList:function(){var t=this;this.dataList=[],this.loading=!0,this.$mainHttp.courseware.getList({courseID:this.$store.getters.courseID}).then(function(a){a.Result&&a.Datas&&a.Datas.length>0&&a.Datas.forEach(function(a){t.dataList.push(a)}),t.loading=!1}).catch(function(a){t.loading=!1})},download:function(t){var a=this,e=this.$mainHttp.resourse.file(t.Value.MaterialID);Object(l.b)(l.a.downloadFile,e).then(function(t){t||(window.location.href=e,a.$toast("下载开始"))}).catch(function(t){window.location.href=e,a.$toast("下载开始")})}},computed:{},watch:{}},c={render:function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{attrs:{id:"courseware"}},[e("head-top",{attrs:{title:"课件"}}),t._v(" "),e("van-pull-refresh",{staticClass:"pull_fresh",on:{refresh:t.getDataList},model:{value:t.loading,callback:function(a){t.loading=a},expression:"loading"}},[e("div",{staticClass:"main"},[t._l(t.dataList,function(a,i){return e("div",{key:i,staticClass:"item",on:{click:function(e){return t.download(a)}}},[e("div",{staticClass:"fL"},[e("i",{staticClass:"iconfont iconword"}),t._v(" "),e("span",{staticClass:"title time"},[t._v(t._s(a.Value.MaterialName+"."+a.Value.MaterialFileExt))])]),t._v(" "),e("div",{staticClass:"size time fR"},[a.Value.MaterialFileSize>1048576?e("span",[t._v(t._s(Math.round(a.Value.MaterialFileSize/1024/1024))+" MB")]):e("span",[t._v(t._s(Math.round(a.Value.MaterialFileSize/1024))+" KB")])])])}),t._v(" "),t.loading?e("van-loading",{attrs:{type:"spinner",color:"#1989fa"}},[t._v("加载中...")]):t.dataList&&0!==t.dataList.length?t._e():e("r-lack-data")],2)])],1)},staticRenderFns:[]};var d=e("VU/8")(r,c,!1,function(t){e("M0+J")},"data-v-35edfab2",null);a.default=d.exports},"M0+J":function(t,a){}});
//# sourceMappingURL=25.5b5eb102f0f8a3ecd17d.js.map