webpackJsonp([29],{"4R4d":function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=n("0xDb"),a={name:"",components:{},props:{},data:function(){return{dataList:[],content:""}},created:function(){},mounted:function(){var t=this;this.$nextTick(function(){t.getDataList()})},methods:{getDataList:function(){var t=this;this.dataList=[],this.$gatewayHttp.question.getList({CIID:this.$store.getters.courseID,studentID:this.$store.getters.studentID}).then(function(e){e.Result&&e.Datas&&e.Datas.length>0&&(e.Datas.forEach(function(e){t.dataList.push(e)}),setTimeout(function(){t.$refs.main.scrollTop=t.$refs.main.scrollHeight},200))}).catch(function(t){})},dataAdd:function(){var t=this;Object(s.d)(this.content)?this.$toast("不支持表情字符"):this.$gatewayHttp.question.postDataSave({CIID:this.$store.getters.courseID,studentID:this.$store.getters.studentID,qcontent:this.content}).then(function(e){e.Result?(t.dataList.push({CreateTime:"/Date("+(new Date).getTime()+")/",QContent:t.content}),t.content="",setTimeout(function(){t.$refs.main.scrollTop=t.$refs.main.scrollHeight},200)):e.Info&&t.$toast(e.Info)}).catch(function(t){})}},computed:{},watch:{}},i={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{attrs:{id:"question"}},[n("head-top",{attrs:{title:"提问"}}),t._v(" "),n("div",{ref:"main",staticClass:"main"},t._l(t.dataList,function(e,s){return n("div",{key:s,staticClass:"questions"},[n("div",{staticClass:"time"},[t._v(t._s(t._f("formatDate")(e.CreateTime,e.CreateTime)))]),t._v(" "),n("div",{staticClass:"info"},[t._v(t._s(e.QContent))])])}),0),t._v(" "),n("div",{staticClass:"footer"},[n("input",{directives:[{name:"model",rawName:"v-model",value:t.content,expression:"content"}],class:0===t.content.length?"long":"short",attrs:{type:"text",placeholder:"请输入提问内容"},domProps:{value:t.content},on:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.dataAdd(e)},input:function(e){e.target.composing||(t.content=e.target.value)}}}),t._v(" "),t.content.length>0?n("div",{staticClass:"footer_btn"},[n("van-button",{attrs:{size:"small",type:"primary"},on:{click:t.dataAdd}},[t._v("发送")])],1):t._e()])],1)},staticRenderFns:[]};var o=n("VU/8")(a,i,!1,function(t){n("HANJ")},"data-v-7376e2a6",null);e.default=o.exports},HANJ:function(t,e){}});
//# sourceMappingURL=29.64e36210c35c7b875cc9.js.map