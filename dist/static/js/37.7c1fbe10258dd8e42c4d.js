webpackJsonp([37],{FOnG:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=n("mvHQ"),s=n.n(a),c=n("fZjL"),i=n.n(c),r=n("J2a0"),o=n("UB37"),p=n("Y/lf"),u=n("FwVa"),l={name:"",components:{DoAnswer:r.a,MyAnswer:o.a,Survey:p.a},props:{},data:function(){return{taskId:this.$route.params.taskId,practiceId:this.$route.params.practiceId,libraryId:this.$route.params.libraryId,classHourId:this.$route.params.classHourId,operateType:u.i.start,practiceInfo:{},practiceOptions:[],practiceReply:{},total:parseInt(this.$route.params.total||"1"),practiceAnswer:"",modulePicture:u.h.PractiseAnswer,ableReply:!1,currentIndex:1}},created:function(){this.getPracticeInfo()},methods:{getPracticeInfo:function(){var t=this;this.$mainHttp.classPractise.getPracticeMental({plID:this.libraryId+""}).then(function(e){e.Result&&(t.total=e.Total,t.getDataInfo())}).catch(function(t){})},getDataInfo:function(){var t=this;i()(this.practiceInfo).forEach(function(e){t.$delete(t.practiceInfo,e)}),i()(this.practiceReply).forEach(function(e){t.$delete(t.practiceReply,e)}),this.practiceOptions=[],this.$mainHttp.classPractise.getData({studentID:this.$store.getters.studentID,cipID:this.taskId,plid:this.libraryId,psSerial:this.currentIndex}).then(function(e){e.Result&&(t.practiceInfo=e.PSData,t.practiceReply=e.PAData?e.PAData:{},t.practiceAnswer=t.practiceReply.PAContent,t.ableReply=!!t.practiceInfo,t.practiceOptions=[],e.SOData&&e.SOData.length>0&&e.SOData.forEach(function(e){-1===t.practiceOptions.findIndex(function(t){return s()(t)===s()(e)})&&t.practiceOptions.push(e)}))}).catch(function(t){})},getPracticeTypeName:function(t){return Object(u.m)(t)},answerChange:function(t){this.practiceAnswer=t},submitAnswer:function(t){var e=this;if(!this.ableReply)return this.currentIndex>=this.total&&this.$router.push("/space/homework"),this.currentIndex+=t,this.practiceAnswer="",void this.getDataInfo();if(this.practiceAnswer){var n={cipID:this.taskId,paid:this.practiceReply.PAID||"",psID:this.practiceInfo.PSID,studentID:this.$store.getters.studentID,paContent:this.practiceAnswer};this.$mainHttp.classPractise.postDataAnswer(n).then(function(n){n.Result?e.currentIndex===e.total&&t>0?e.submitPractice():(e.currentIndex+=t,e.practiceAnswer="",e.currentIndex>e.total&&e.$router.push("/space/homework"),e.getDataInfo()):n.Info&&e.$toast(n.Info)}).catch(function(t){e.$toast("提交失败，请重试")})}else this.$toast("请先作答")},submitPractice:function(){var t=this,e={cipID:this.taskId,studentID:this.$store.getters.studentID};this.$mainHttp.classPractise.postDataPractise(e).then(function(e){e.Result&&(t.$toast.success("交卷成功"),setTimeout(function(){t.$router.push("/space/homework")},500))}).catch(function(e){t.$toast("提交失败，请重试")})}},computed:{},watch:{}},h={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{attrs:{id:"cs-pra"}},[n("head-top",{attrs:{title:"随堂练习"}}),t._v(" "),n("div",{staticClass:"main"},[n("div",{staticClass:"content"},[n("div",{staticClass:"tt"},[t._v("\n        "+t._s(t.currentIndex+".【"+t.getPracticeTypeName(t.practiceInfo.PSType)+"】"+(t.practiceInfo.PSScore||0)+"分")+"\n      ")]),t._v(" "),n("div",{staticClass:"ct"},[t._v("\n        "+t._s(t.practiceInfo.PSContent)+"\n      ")]),t._v(" "),[1,2].indexOf(t.practiceInfo.PSType)>-1?n("div",{staticClass:"ans"},t._l(t.practiceOptions,function(e,a){return n("div",{key:a,staticClass:"an"},[n("span",[t._v(t._s(e.SOSerial)+"：")]),t._v(" "),n("span",[t._v(t._s(e.SOContent))])])}),0):t._e()]),t._v(" "),n("do-answer",{attrs:{"route-type":"history","question-type":t.practiceInfo.PSType,"question-option":t.practiceInfo.PSOption,ableReply:t.ableReply,"answer-value":t.practiceAnswer,"module-picture":t.modulePicture},on:{change:t.answerChange}}),t._v(" "),n("div",{staticClass:"footer"},[n("button",{directives:[{name:"show",rawName:"v-show",value:t.currentIndex>1,expression:"currentIndex> 1"}],on:{click:function(e){return t.submitAnswer(-1)}}},[t._v("上一题")]),t._v(" "),t.currentIndex<t.total?n("button",{on:{click:function(e){return t.submitAnswer(1)}}},[t._v("下一题")]):t.ableReply?n("button",{on:{click:function(e){return t.submitAnswer(1)}}},[t._v("提交答案")]):t._e()])],1)],1)},staticRenderFns:[]};var d=n("VU/8")(l,h,!1,function(t){n("YVUh")},"data-v-42c141ee",null);e.default=d.exports},YVUh:function(t,e){}});
//# sourceMappingURL=37.7c1fbe10258dd8e42c4d.js.map