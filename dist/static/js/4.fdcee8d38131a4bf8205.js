webpackJsonp([4],{"8JHg":function(t,e){},JK0B:function(t,e,s){"use strict";var a=s("bOdI"),i=s.n(a),n=(s("3Lne"),s("SSsa")),c={components:i()({},n.a.name,n.a),props:{master:{type:Number,default:null},disable:{type:Boolean,default:!0}},data:function(){return{value:this.master}},created:function(){},methods:{clickSurvey:function(t){this.$emit("selectSurvey",t)},resetVal:function(t){this.value=t}},watch:{master:function(t,e){this.value=t}}},r={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"survey_info"},[s("van-button",{directives:[{name:"show",rawName:"v-show",value:-1===[0,1].indexOf(t.value)||1===t.value,expression:"[0,1].indexOf(value)===-1 || value===1"}],attrs:{icon:"success",type:"primary",disabled:[0,1].indexOf(t.value)>-1&&t.disable},on:{click:function(e){return t.clickSurvey(!0)}}},[t._v("已掌握")]),t._v(" "),s("van-button",{directives:[{name:"show",rawName:"v-show",value:-1===[0,1].indexOf(t.value)||0===t.value,expression:"[0,1].indexOf(value)===-1  || value===0"}],attrs:{icon:"cross",type:"danger",disabled:[0,1].indexOf(t.value)>-1&&t.disable},on:{click:function(e){return t.clickSurvey(!1)}}},[t._v("未掌握")])],1)},staticRenderFns:[]};var o=s("VU/8")(c,r,!1,function(t){s("8JHg")},"data-v-5c517285",null);e.a=o.exports},PxYT:function(t,e){},dFRU:function(t,e){},kCdw:function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=s("mvHQ"),i=s.n(a),n=s("fZjL"),c=s.n(n),r=s("bBUo"),o=s("udYK"),u=s("Hvz8"),l=s("JK0B"),p=s("FwVa"),h={name:"",components:{headTop:r.a,DoAnswer:o.a,MyAnswer:u.a,Survey:l.a},props:{},data:function(){return{fromID:this.$route.params.id,bankID:this.$route.params.bankId,practiceID:"",operateType:p.h.start,practiceInfo:{},practiceOptions:[],practiceReply:{},total:parseInt(this.$route.params.total||"1"),practiceAnswer:"",modulePicture:p.g.PractiseAnswer,ableReply:!1,currentIndex:1,state:parseInt(this.$route.params.state||1),ableSwitch:!0,isSurvey:!1}},created:function(){this.$route.params&&this.$route.params.state||(this.operateType=this.$store.getters.classPractice.type||p.h.start,this.currentIndex=this.$store.getters.classPractice.no||1,this.total=parseInt(this.$store.getters.classPractice.total||this.currentIndex),this.$store.getters.classPractice.type===p.h.start&&(this.state=2)),this.getDataInfo()},methods:{getDataInfo:function(){var t=this;c()(this.practiceInfo).forEach(function(e){t.$delete(t.practiceInfo,e)}),c()(this.practiceReply).forEach(function(e){t.$delete(t.practiceReply,e)}),this.practiceOptions=[],this.$gatewayHttp.classPractise.getDataByIndex({studentID:this.$store.getters.studentID,cpid:this.fromID,plid:this.bankID,psSerial:this.currentIndex}).then(function(e){e.Result&&(t.practiceInfo=e.PSData,t.practiceReply=e.PAData?e.PAData:{},t.isSurvey=e.IsSurvey||!1,t.practiceAnswer=t.practiceReply.PAContent,t.ableReply=t.practiceInfo&&2===t.state,t.practiceOptions=[],e.OSData&&e.OSData.length>0&&e.OSData.forEach(function(e){-1===t.practiceOptions.findIndex(function(t){return i()(t)===i()(e)})&&t.practiceOptions.push(e)}))}).catch(function(t){})},getDataInfoById:function(){var t=this;this.practiceInfo={},this.practiceReply={},this.practiceOptions=[],this.$gatewayHttp.classPractise.getData({studentID:this.$store.getters.studentID,psID:this.practiceID,cpID:this.fromID}).then(function(e){e.Result&&(t.practiceInfo=e.PSData,t.practiceReply=e.PAData?e.PAData:{},t.practiceAnswer=t.practiceReply.PAContent,t.ableReply=!t.practiceReply||!t.practiceReply.PAContent,e.OSData&&e.OSData.length>0&&e.OSData.forEach(function(e){t.practiceOptions.push(e)}))}).catch(function(t){})},getPracticeTypeName:function(t){return Object(p.l)(t)},nextTo:function(){this.currentIndex+=1},backTo:function(){this.currentIndex-=1},answerChange:function(t){this.practiceAnswer=t},submitAnswer:function(t){var e=this;if(t<0)return this.practiceAnswer="",this.currentIndex+=t,void this.getDataInfo();if(!this.ableReply)return this.currentIndex>=this.total&&this.$router.push("/quiz"),this.currentIndex+=t,this.practiceAnswer="",void this.getDataInfo();if(this.practiceAnswer){var s={cpid:this.fromID,paid:this.practiceReply.PAID||"",courseID:this.$store.getters.courseID,psID:this.practiceInfo.PSID,studentID:this.$store.getters.studentID,paContent:this.practiceAnswer};this.$gatewayHttp.classPractise.postDataAnswer(s).then(function(s){s.Result?e.currentIndex===e.total?4===e.state?e.$router.push("/quiz"):e.submitPractice():(e.currentIndex+=t,e.practiceAnswer="",e.currentIndex>e.total&&e.$router.push("/quiz"),e.getDataInfo()):s.Info&&e.$toast(s.Info)}).catch(function(t){e.$toast("提交失败，请重试")})}else this.$toast("请先作答")},submitPractice:function(){var t=this,e={cpID:this.$route.params.id,studentID:this.$store.getters.studentID};this.$gatewayHttp.classPractise.postDataPractise(e).then(function(e){e.Result&&(t.$toast.success("交卷成功"),setTimeout(function(){t.$router.push("/quiz")},500))}).catch(function(e){t.$toast("提交失败，请重试")})},selectSurvey:function(t){var e=this,s=t?1:0;this.$gatewayHttp.classPractise.postDataSurvey({paid:this.practiceReply.PAID,studentID:this.$store.getters.studentID,saMaster:s}).then(function(t){e.$set(e.practiceReply,"PAMaster",s),e.$refs.survey.resetVal(s),e.$toast.success("提交问卷成功")}).catch(function(t){e.$toast("提交失败，请重试")})}},computed:{showDoAnswer:function(){return this.operateType===p.h.start&&(this.practiceInfo&&2===this.state)},showMyAnswer:function(){return this.operateType!==p.h.start||this.practiceInfo&&[3,4].indexOf(this.state)>-1},showSurvey:function(){return this.isSurvey},surveyMaster:function(){return this.practiceReply?null===this.practiceReply.PAMaster?null:this.practiceReply.PAMaster||0:null}},watch:{"$store.getters.classPractice":function(t,e){t!==e&&(this.operateType=t.type||p.h.start,this.operateType===p.h.start?(this.fromID=t.id||"",this.currentIndex=t.no||1,this.state=2,this.total=t.total||this.currentIndex,this.getDataInfo(),this.ableSwitch=!0):this.operateType===p.h.init?(this.fromID=t.id||"",this.currentIndex=t.no||1,this.state=4,this.total=this.total>this.currentIndex?this.total:this.currentIndex,this.getDataInfo(),this.ableSwitch=!1):(this.practiceID=t.id||"",this.getDataInfoById(),this.ableSwitch=!1),this.operateType!==p.h.survey&&this.operateType!==p.h.acceptAnswer||(this.isSurvey=this.operateType===p.h.survey,this.$nextTick(function(){var t=document.body.clientHeight;document.documentElement.scrollTop=t,setTimeout(function(){document.documentElement.scrollTop=t},1e3)})))}}},d={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{attrs:{id:"cs-pra"}},[s("head-top",{attrs:{title:"随堂练习"}}),t._v(" "),s("div",{staticClass:"main"},[s("div",{staticClass:"content"},[s("div",{staticClass:"tt"},[t._v(t._s(t.currentIndex+".【"+t.getPracticeTypeName(t.practiceInfo.PSType)+"】"+(t.practiceInfo.PSScore||0)+"分"))]),t._v(" "),s("div",{staticClass:"ct"},[t._v(t._s(t.practiceInfo.PSContent))]),t._v(" "),1===t.practiceInfo.PSType||2===t.practiceInfo.PSType?s("div",{staticClass:"ans"},t._l(t.practiceOptions,function(e,a){return s("div",{key:a,staticClass:"an"},[s("span",[t._v(t._s(e.SOSerial)+"：")]),t._v(" "),s("span",[t._v(t._s(e.SOContent))])])}),0):t._e()]),t._v(" "),t.showDoAnswer?s("do-answer",{attrs:{"question-type":t.practiceInfo.PSType,"question-option":t.practiceInfo.PSOption,ableReply:t.ableReply,"answer-value":t.practiceAnswer,"module-picture":t.modulePicture},on:{change:t.answerChange}}):t._e(),t._v(" "),t.showMyAnswer?s("my-answer",{attrs:{"question-type":t.practiceInfo.PSType,"my-answer":t.practiceAnswer,"module-picture":t.modulePicture,analysis:t.practiceInfo.PSanalysis,"true-answer":t.practiceInfo.PSAnswer,"get-score":t.practiceReply?t.practiceReply.PAScore:null}}):t._e(),t._v(" "),t.showSurvey?s("survey",{ref:"survey",attrs:{disable:4!==t.practiceInfo.State,master:t.surveyMaster},on:{selectSurvey:t.selectSurvey}}):t._e(),t._v(" "),s("div",{directives:[{name:"show",rawName:"v-show",value:t.ableSwitch,expression:"ableSwitch"}],staticClass:"footer"},[s("button",{directives:[{name:"show",rawName:"v-show",value:t.currentIndex>1,expression:"currentIndex> 1"}],on:{click:function(e){return t.submitAnswer(-1)}}},[t._v("上一题")]),t._v(" "),t.currentIndex<t.total?s("button",{on:{click:function(e){return t.submitAnswer(1)}}},[t._v("下一题")]):t.ableReply&&2===t.state?s("button",{on:{click:function(e){return t.submitAnswer(1)}}},[t._v("提交答案")]):t._e()])],1)],1)},staticRenderFns:[]};var f=s("VU/8")(h,d,!1,function(t){s("PxYT")},"data-v-6ecd1bf8",null);e.default=f.exports},udYK:function(t,e,s){"use strict";var a,i=s("bOdI"),n=s.n(i),c=(s("k3b4"),s("+2ln")),r=(s("jti4"),s("uk7J")),o=s("1B8A"),u=s("0xDb"),l={components:(a={},n()(a,r.a.name,r.a),n()(a,c.a.name,c.a),n()(a,"RQuillEditor",o.a),a),props:{questionType:{type:Number,default:1},questionOption:{type:Number,default:0},btnName:{type:String,default:"提交"},ableReply:{type:Boolean,default:!0},modulePicture:{type:Number,default:1},answerValue:{type:String,default:""}},data:function(){return{judgeChoice:["对","错"],multiValue:this.selectValue?this.selectValue.split(""):[],selectValue:this.answerValue}},mounted:function(){},methods:{selectAnswer:function(t){if(this.ableReply){if(2===this.questionType){var e=this.multiValue.indexOf(t);e>-1?this.multiValue.splice(e,1):this.multiValue.push(t),this.selectValue=this.multiValue.sort().join("")}else this.selectValue=t;this.backValue()}},editorChange:function(t){this.selectValue=t,this.backValue()},backValue:function(){this.$emit("change",this.selectValue)}},computed:{selectOptions:function(){return 1===this.questionType?Object(u.f)(this.questionOption):2===this.questionType?Object(u.f)(this.questionOption):3===this.questionType?this.judgeChoice:void 0}},watch:{answerValue:function(t,e){t!==this.selectValue&&(this.selectValue=t)}}},p={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[1===t.questionType?s("div",{staticClass:"selects"},[s("div",{staticClass:"content"},[s("div",{staticClass:"prompt"},[t._v("请选择正确的答案")]),t._v(" "),s("div",{staticClass:"all-select"},t._l(t.selectOptions,function(e,a){return s("div",{key:a,staticClass:"select-item",class:t.answerValue===e?"singel-selected":"",on:{click:function(s){return t.selectAnswer(e)}}},[t._v(t._s(e))])}),0)])]):2===t.questionType?s("div",{staticClass:"selects"},[s("div",{staticClass:"content"},[s("div",{staticClass:"prompt"},[t._v("请选择正确的答案")]),t._v(" "),s("div",{staticClass:"all-select"},t._l(t.selectOptions,function(e,a){return s("div",{key:a,staticClass:"select-item",class:t.answerValue.indexOf(e)>-1?"singel-selected":"",on:{click:function(s){return t.selectAnswer(e)}}},[t._v(t._s(e))])}),0)])]):3===t.questionType?s("div",{staticClass:"answers"},[s("div",{staticClass:"tt"},[t._v("请选择正确的答案")]),t._v(" "),s("div",{staticClass:"buttons"},t._l(t.selectOptions,function(e,a){return s("div",{key:a,class:t.answerValue===e?"selected":"",on:{click:function(s){return t.selectAnswer(e)}}},[t._v(t._s(e))])}),0)]):s("div",{staticClass:"answers"},[s("div",{staticClass:"tt"},[t._v("请将您的答案写在下方的编辑框中")]),t._v(" "),s("r-quill-editor",{attrs:{funType:t.modulePicture,content:t.selectValue,"max-height":"40vh"},on:{change:t.editorChange}})],1),t._v(" "),t._t("default")],2)},staticRenderFns:[]};var h=s("VU/8")(l,p,!1,function(t){s("dFRU")},"data-v-4f5eb380",null);e.a=h.exports}});
//# sourceMappingURL=4.fdcee8d38131a4bf8205.js.map