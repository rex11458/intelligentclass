webpackJsonp([17],{"1KOf":function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=a("1pvJ"),n=a("aXZl"),i=a("0xDb"),o={name:"",components:{TaskList:s.a,NoteList:n.a},props:{},data:function(){return{navList:[{icon:"icon-fuxi",colorName:"nav_1",name:"课程",path:"/homeCourse"},{icon:"icon-zuoye",colorName:"nav_2",name:"任务",path:"/space/homework"},{icon:"icon-edu-biji",colorName:"nav_3",name:"笔记",path:"/space/note"}],practiceList:[],courseWareList:[],today:Object(i.f)(),noteDataList:[]}},computed:{},watch:{},created:function(){this.getPracticeTask(),this.getCourseWareTask(),this.getNoteList()},mounted:function(){},methods:{jump:function(t){if(this.navList[t].path)this.$router.push(this.navList[t].path);else{var e=document.getElementsByClassName("sub_nav"),a=e[t-1].offsetTop,s=document.documentElement.scrollTop||document.body.scrollTop;this.scrollAnimation(s,a)}},scrollAnimation:function(t,e){var a=this,s=e-t,n=t;setTimeout(function(){var i=Math.ceil(s/10);n+=i,window.scrollTo(n,t),s>10||s<-10?a.scrollAnimation(n,e):window.scrollTo(n,e)},1)},getPracticeTask:function(){var t=this;this.practiceList=[];var e={pno:1,psize:2,estate:1,stuID:this.$store.getters.studentID};this.$mainHttp.classHour.getPracticeTaskList(e).then(function(e){e.Result&&e.Datas&&e.Datas.length>0&&e.Datas.forEach(function(e){t.practiceList.push(e)})}).catch(function(){})},getCourseWareTask:function(){var t=this;this.courseWareList=[];var e={pno:1,psize:2,estate:1,stuID:this.$store.getters.studentID};this.$mainHttp.classHour.getCourseWareTaskList(e).then(function(e){e.Result&&e.Datas&&e.Datas.length>0&&e.Datas.forEach(function(e){t.courseWareList.push(e)})}).catch(function(){})},getNoteList:function(){var t=this,e={startDate:Object(i.h)("date",-3650),endDate:this.today,psize:3,pno:1,snid:"",stuid:this.$store.getters.studentID,estate:1,key:""};this.$mainHttp.note.getSearchList(e).then(function(e){e.Result&&e.Datas.length>0&&e.Datas.forEach(function(e){t.noteDataList.push({id:e.Key.SNID,title:e.Key.SNTtile,content:e.Key.SNContent,state:e.Key.State,createTime:e.Key.CreateTime,CHID:e.Key.CHID,CIID:e.Key.CIID,CHName:e.CHName,CourseName:e.CourseName})})}).catch(function(t){})},transformValue:function(t){return Object(i.j)("show",t,this.$mainHttp.resourse.picture)},download:function(t){var e=this,a=this.$mainHttp.resourse.file(t.MaterialID);window.webkit?sendToAPP(FuncType.downloadFile,a).then(function(a){e.addCoursewareTask(t)}).catch(function(t){}):(window.location.href=a,this.addCoursewareTask(t))},addCoursewareTask:function(t){var e=this;this.$mainHttp.courseware.postCoursewareTask({cID:t.CID,stuID:this.$store.getters.studentID}).then(function(t){t.Result&&(e.$toast("课件下载成功！"),e.getCourseWareTask())}).catch(function(t){})},doPractice:function(t){this.$router.push("/space/practiceDone/"+t.CIPID+"/"+t.PLID+"/"+t.CPID+"/"+t.CHID)},handleSelectNote:function(t){this.$router.push({path:"/space/noteView",query:{snID:t.id,courseID:t.CIID,courseName:t.CourseName,classHourID:t.CHID,classHourName:t.CHName,title:t.title,content:t.content,createTime:t.createTime}})}}},r={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"home-page"}},[a("head-top",{attrs:{title:"我的首页","show-back":!1}}),t._v(" "),a("div",{staticClass:"bgshouy"}),t._v(" "),a("div",{staticClass:"head_nav"},t._l(t.navList,function(e,s){return a("div",{key:s,staticClass:"nav_item",on:{click:function(e){return t.jump(s)}}},[a("i",{staticClass:"iconfont",class:[e.icon,e.colorName]}),t._v(" "),a("div",[t._v(t._s(e.name))])])}),0),t._v(" "),a("div",{staticClass:"sub_nav",on:{click:function(e){return t.$router.push("/space/homework")}}},[a("span",[t._v("近期任务")]),t._v(" "),a("div",{staticStyle:{"font-weight":"normal"},attrs:{type:"text"}},[t._v("查看全部")])]),t._v(" "),t.practiceList&&t.practiceList.length>0?a("task-list",{attrs:{"data-list":t.practiceList},on:{download:t.download,doDeal:t.doPractice}}):t._e(),t._v(" "),t.courseWareList&&t.courseWareList.length>0?a("task-list",{style:{paddingTop:"0"},attrs:{"data-list":t.courseWareList},on:{download:t.download,doDeal:t.doPractice}}):t.practiceList&&0!==t.practiceList.length?t._e():a("r-lack-data"),t._v(" "),a("div",{staticClass:"sub_nav",on:{click:function(e){return t.$router.push("/space/note")}}},[a("span",[t._v("近期笔记")]),t._v(" "),a("div",{staticStyle:{"font-weight":"normal"},attrs:{type:"text"}},[t._v("查看全部")])]),t._v(" "),t.noteDataList&&t.noteDataList.length>0?a("note-list",{style:{paddingTop:"0"},attrs:{"data-list":t.noteDataList},on:{select:t.handleSelectNote}}):t._e()],1)},staticRenderFns:[]};var c=a("VU/8")(o,r,!1,function(t){a("oab8")},"data-v-7e546f08",null);e.default=c.exports},"1pvJ":function(t,e,a){"use strict";var s={name:"task-item",props:{taskItem:{type:Object},state:{type:String,default:"0"}},data:function(){return{}},methods:{handleDownload:function(){this.$emit("download",this.taskItem)},handleDeal:function(){this.$emit("doDeal",this.taskItem)},handleView:function(){this.$emit("doView",this.taskItem)}}},n={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"r-task-item"},[a("div",{staticClass:"item-title"},[a("h3",[t._v(" "+t._s(t.taskItem.Title)+" ")]),t._v(" "),a("div",[1===t.taskItem.Type?a("div",{attrs:{size:"mini"}},[a("van-icon",{attrs:{"class-prefix":"iconfont icon-xiazai"},on:{click:function(e){return e.stopPropagation(),e.preventDefault(),t.handleDownload(e)}}})],1):"0"===t.state?a("van-button",{attrs:{size:"mini",type:"primary"},on:{click:t.handleDeal}},[t._v("\n        去完成\n      ")]):a("van-button",{attrs:{size:"mini",type:"primary"},on:{click:t.handleView}},[t._v("\n        查看\n      ")])],1)]),t._v(" "),a("div",{staticClass:"item-foot foot-remark"},[a("span",[t._v("\n      "+t._s("1"===t.taskItem.Attribute?"课前":"课后")+"\n    ")]),t._v(" "),a("span",[t._v("\n      "+t._s(1===t.taskItem.Type?"课件":"随堂练习")+"\n    ")]),t._v(" "),a("span",[t._v("\n      "+t._s(t.taskItem.CreateTime.split(" ")[0])+"\n    ")])]),t._v(" "),a("div",{staticClass:"item-foot foot-info"},[a("span",[t._v("\n      "+t._s(t.taskItem.CHName)+"\n    ")]),t._v(" "),a("span",[t._v("\n      老师："+t._s(t.taskItem.TeacherName)+"\n    ")])])])},staticRenderFns:[]},i={name:"task-list",components:{TaskItem:a("VU/8")(s,n,!1,null,null,null).exports},props:{dataList:{type:Array,default:function(){return[]}},state:{type:String,default:"0"}},data:function(){return{}},methods:{handleDownload:function(t){this.$emit("download",t)},handleDeal:function(t){this.$emit("doDeal",t)},handleView:function(t){this.$emit("doView",t)}}},o={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"r-task-list"},t._l(t.dataList,function(e,s){return a("task-item",{key:s,attrs:{"task-item":e,state:t.state},on:{download:t.handleDownload,doDeal:t.handleDeal,doView:t.handleView}})}),1)},staticRenderFns:[]},r=a("VU/8")(i,o,!1,null,null,null).exports;e.a=r},oab8:function(t,e){}});
//# sourceMappingURL=17.da91f18d42e8b18b2973.js.map